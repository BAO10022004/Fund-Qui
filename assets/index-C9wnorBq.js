(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function RE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ad={exports:{}},yo={};var Gv;function qS(){if(Gv)return yo;Gv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return yo.Fragment=t,yo.jsx=i,yo.jsxs=i,yo}var Qv;function HS(){return Qv||(Qv=1,Ad.exports=qS()),Ad.exports}var m=HS(),wd={exports:{}},St={};var Yv;function FS(){if(Yv)return St;Yv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function j(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,G={};function Z(L,X,rt){this.props=L,this.context=X,this.refs=G,this.updater=rt||q}Z.prototype.isReactComponent={},Z.prototype.setState=function(L,X){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,X,"setState")},Z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function F(){}F.prototype=Z.prototype;function it(L,X,rt){this.props=L,this.context=X,this.refs=G,this.updater=rt||q}var ft=it.prototype=new F;ft.constructor=it,Q(ft,Z.prototype),ft.isPureReactComponent=!0;var ct=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(L,X,rt){var ut=rt.ref;return{$$typeof:a,type:L,key:X,ref:ut!==void 0?ut:null,props:rt}}function V(L,X){return N(L.type,X,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===a}function U(L){var X={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(rt){return X[rt]})}var C=/\/+/g;function Ct(L,X){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):X.toString(36)}function Zt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(st,st):(L.status="pending",L.then(function(X){L.status==="pending"&&(L.status="fulfilled",L.value=X)},function(X){L.status==="pending"&&(L.status="rejected",L.reason=X)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function P(L,X,rt,ut,Et){var xt=typeof L;(xt==="undefined"||xt==="boolean")&&(L=null);var kt=!1;if(L===null)kt=!0;else switch(xt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(L.$$typeof){case a:case t:kt=!0;break;case T:return kt=L._init,P(kt(L._payload),X,rt,ut,Et)}}if(kt)return Et=Et(L),kt=ut===""?"."+Ct(L,0):ut,ct(Et)?(rt="",kt!=null&&(rt=kt.replace(C,"$&/")+"/"),P(Et,X,rt,"",function(ls){return ls})):Et!=null&&(D(Et)&&(Et=V(Et,rt+(Et.key==null||L&&L.key===Et.key?"":(""+Et.key).replace(C,"$&/")+"/")+kt)),X.push(Et)),1;kt=0;var je=ut===""?".":ut+":";if(ct(L))for(var re=0;re<L.length;re++)ut=L[re],xt=je+Ct(ut,re),kt+=P(ut,X,rt,xt,Et);else if(re=j(L),typeof re=="function")for(L=re.call(L),re=0;!(ut=L.next()).done;)ut=ut.value,xt=je+Ct(ut,re++),kt+=P(ut,X,rt,xt,Et);else if(xt==="object"){if(typeof L.then=="function")return P(Zt(L),X,rt,ut,Et);throw X=String(L),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function at(L,X,rt){if(L==null)return L;var ut=[],Et=0;return P(L,ut,"","",function(xt){return X.call(rt,xt,Et++)}),ut}function dt(L){if(L._status===-1){var X=L._result;X=X(),X.then(function(rt){(L._status===0||L._status===-1)&&(L._status=1,L._result=rt)},function(rt){(L._status===0||L._status===-1)&&(L._status=2,L._result=rt)}),L._status===-1&&(L._status=0,L._result=X)}if(L._status===1)return L._result.default;throw L._result}var Nt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Pt={map:at,forEach:function(L,X,rt){at(L,function(){X.apply(this,arguments)},rt)},count:function(L){var X=0;return at(L,function(){X++}),X},toArray:function(L){return at(L,function(X){return X})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return St.Activity=S,St.Children=Pt,St.Component=Z,St.Fragment=i,St.Profiler=o,St.PureComponent=it,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},St.cache=function(L){return function(){return L.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(L,X,rt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ut=Q({},L.props),Et=L.key;if(X!=null)for(xt in X.key!==void 0&&(Et=""+X.key),X)!x.call(X,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&X.ref===void 0||(ut[xt]=X[xt]);var xt=arguments.length-2;if(xt===1)ut.children=rt;else if(1<xt){for(var kt=Array(xt),je=0;je<xt;je++)kt[je]=arguments[je+2];ut.children=kt}return N(L.type,Et,ut)},St.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},St.createElement=function(L,X,rt){var ut,Et={},xt=null;if(X!=null)for(ut in X.key!==void 0&&(xt=""+X.key),X)x.call(X,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Et[ut]=X[ut]);var kt=arguments.length-2;if(kt===1)Et.children=rt;else if(1<kt){for(var je=Array(kt),re=0;re<kt;re++)je[re]=arguments[re+2];Et.children=je}if(L&&L.defaultProps)for(ut in kt=L.defaultProps,kt)Et[ut]===void 0&&(Et[ut]=kt[ut]);return N(L,xt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(L){return{$$typeof:p,render:L}},St.isValidElement=D,St.lazy=function(L){return{$$typeof:T,_payload:{_status:-1,_result:L},_init:dt}},St.memo=function(L,X){return{$$typeof:v,type:L,compare:X===void 0?null:X}},St.startTransition=function(L){var X=R.T,rt={};R.T=rt;try{var ut=L(),Et=R.S;Et!==null&&Et(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(st,Nt)}catch(xt){Nt(xt)}finally{X!==null&&rt.types!==null&&(X.types=rt.types),R.T=X}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(L){return R.H.use(L)},St.useActionState=function(L,X,rt){return R.H.useActionState(L,X,rt)},St.useCallback=function(L,X){return R.H.useCallback(L,X)},St.useContext=function(L){return R.H.useContext(L)},St.useDebugValue=function(){},St.useDeferredValue=function(L,X){return R.H.useDeferredValue(L,X)},St.useEffect=function(L,X){return R.H.useEffect(L,X)},St.useEffectEvent=function(L){return R.H.useEffectEvent(L)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(L,X,rt){return R.H.useImperativeHandle(L,X,rt)},St.useInsertionEffect=function(L,X){return R.H.useInsertionEffect(L,X)},St.useLayoutEffect=function(L,X){return R.H.useLayoutEffect(L,X)},St.useMemo=function(L,X){return R.H.useMemo(L,X)},St.useOptimistic=function(L,X){return R.H.useOptimistic(L,X)},St.useReducer=function(L,X,rt){return R.H.useReducer(L,X,rt)},St.useRef=function(L){return R.H.useRef(L)},St.useState=function(L){return R.H.useState(L)},St.useSyncExternalStore=function(L,X,rt){return R.H.useSyncExternalStore(L,X,rt)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.3",St}var Kv;function _m(){return Kv||(Kv=1,wd.exports=FS()),wd.exports}var M=_m();const CE=RE(M);var xd={exports:{}},vo={},Rd={exports:{}},Cd={};var Xv;function GS(){return Xv||(Xv=1,(function(a){function t(P,at){var dt=P.length;P.push(at);t:for(;0<dt;){var Nt=dt-1>>>1,Pt=P[Nt];if(0<o(Pt,at))P[Nt]=at,P[dt]=Pt,dt=Nt;else break t}}function i(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var at=P[0],dt=P.pop();if(dt!==at){P[0]=dt;t:for(var Nt=0,Pt=P.length,L=Pt>>>1;Nt<L;){var X=2*(Nt+1)-1,rt=P[X],ut=X+1,Et=P[ut];if(0>o(rt,dt))ut<Pt&&0>o(Et,rt)?(P[Nt]=Et,P[ut]=dt,Nt=ut):(P[Nt]=rt,P[X]=dt,Nt=X);else if(ut<Pt&&0>o(Et,dt))P[Nt]=Et,P[ut]=dt,Nt=ut;else break t}}return at}function o(P,at){var dt=P.sortIndex-at.sortIndex;return dt!==0?dt:P.id-at.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var g=[],v=[],T=1,S=null,w=3,j=!1,q=!1,Q=!1,G=!1,Z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ft(P){for(var at=i(v);at!==null;){if(at.callback===null)s(v);else if(at.startTime<=P)s(v),at.sortIndex=at.expirationTime,t(g,at);else break;at=i(v)}}function ct(P){if(Q=!1,ft(P),!q)if(i(g)!==null)q=!0,st||(st=!0,U());else{var at=i(v);at!==null&&Zt(ct,at.startTime-P)}}var st=!1,R=-1,x=5,N=-1;function V(){return G?!0:!(a.unstable_now()-N<x)}function D(){if(G=!1,st){var P=a.unstable_now();N=P;var at=!0;try{t:{q=!1,Q&&(Q=!1,F(R),R=-1),j=!0;var dt=w;try{e:{for(ft(P),S=i(g);S!==null&&!(S.expirationTime>P&&V());){var Nt=S.callback;if(typeof Nt=="function"){S.callback=null,w=S.priorityLevel;var Pt=Nt(S.expirationTime<=P);if(P=a.unstable_now(),typeof Pt=="function"){S.callback=Pt,ft(P),at=!0;break e}S===i(g)&&s(g),ft(P)}else s(g);S=i(g)}if(S!==null)at=!0;else{var L=i(v);L!==null&&Zt(ct,L.startTime-P),at=!1}}break t}finally{S=null,w=dt,j=!1}at=void 0}}finally{at?U():st=!1}}}var U;if(typeof it=="function")U=function(){it(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ct=C.port2;C.port1.onmessage=D,U=function(){Ct.postMessage(null)}}else U=function(){Z(D,0)};function Zt(P,at){R=Z(function(){P(a.unstable_now())},at)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(P){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var dt=w;w=at;try{return P()}finally{w=dt}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function(P,at){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var dt=w;w=P;try{return at()}finally{w=dt}},a.unstable_scheduleCallback=function(P,at,dt){var Nt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Nt+dt:Nt):dt=Nt,P){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=dt+Pt,P={id:T++,callback:at,priorityLevel:P,startTime:dt,expirationTime:Pt,sortIndex:-1},dt>Nt?(P.sortIndex=dt,t(v,P),i(g)===null&&P===i(v)&&(Q?(F(R),R=-1):Q=!0,Zt(ct,dt-Nt))):(P.sortIndex=Pt,t(g,P),q||j||(q=!0,st||(st=!0,U()))),P},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(P){var at=w;return function(){var dt=w;w=at;try{return P.apply(this,arguments)}finally{w=dt}}}})(Cd)),Cd}var $v;function QS(){return $v||($v=1,Rd.exports=GS()),Rd.exports}var Nd={exports:{}},$e={};var Zv;function YS(){if(Zv)return $e;Zv=1;var a=_m();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:v,implementation:T}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(g,v,null,T)},$e.flushSync=function(g){var v=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=v,s.p=T,s.d.f()}},$e.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(g,v))},$e.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$e.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?s.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:j}):T==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},$e.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(g)},$e.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);s.d.L(g,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},$e.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=p(v.as,v.crossOrigin);s.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(g)},$e.requestFormReset=function(g){s.d.r(g)},$e.unstable_batchedUpdates=function(g,v){return g(v)},$e.useFormState=function(g,v,T){return f.H.useFormState(g,v,T)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Jv;function KS(){if(Jv)return Nd.exports;Jv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nd.exports=YS(),Nd.exports}var Wv;function XS(){if(Wv)return vo;Wv=1;var a=QS(),t=_m(),i=KS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return g(h),e;if(d===l)return g(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===r){_=!0,r=h,l=d;break}if(b===l){_=!0,l=h,r=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===r){_=!0,r=d,l=h;break}if(b===l){_=!0,l=d,r=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case ct:return"Suspense";case st:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case it:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:Ct(e.type)||"Memo";case x:n=e._payload,e=e._init;try{return Ct(e(n))}catch{}}return null}var Zt=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Nt=[],Pt=-1;function L(e){return{current:e}}function X(e){0>Pt||(e.current=Nt[Pt],Nt[Pt]=null,Pt--)}function rt(e,n){Pt++,Nt[Pt]=e.current,e.current=n}var ut=L(null),Et=L(null),xt=L(null),kt=L(null);function je(e,n){switch(rt(xt,n),rt(Et,e),rt(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?mv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=mv(n),e=pv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ut),rt(ut,e)}function re(){X(ut),X(Et),X(xt)}function ls(e){e.memoizedState!==null&&rt(kt,e);var n=ut.current,r=pv(n,e.type);n!==r&&(rt(Et,e),rt(ut,r))}function Zs(e){Et.current===e&&(X(ut),X(Et)),kt.current===e&&(X(kt),fo._currentValue=dt)}var Js,Ws;function li(e){if(Js===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Js=n&&n[1]||"",Ws=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+e+Ws}var fl=!1;function os(e,n){if(!e||fl)return"";fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch($){var Y=$}Reflect.construct(e,[],et)}else{try{et.call()}catch($){Y=$}e.call(et.prototype)}}else{try{throw Error()}catch($){Y=$}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var I=_.split(`
`),H=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var J=`
`+I[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=h);break}}}finally{fl=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?li(r):""}function dl(e,n){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==n&&n!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return os(e.type,!1);case 11:return os(e.type.render,!1);case 1:return os(e.type,!0);case 31:return li("Activity");default:return""}}function ml(e){try{var n="",r=null;do n+=dl(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=a.unstable_scheduleCallback,ha=a.unstable_cancelCallback,wh=a.unstable_shouldYield,Zo=a.unstable_requestPaint,en=a.unstable_now,us=a.unstable_getCurrentPriorityLevel,pl=a.unstable_ImmediatePriority,gl=a.unstable_UserBlockingPriority,fa=a.unstable_NormalPriority,xh=a.unstable_LowPriority,Jo=a.unstable_IdlePriority,Wo=a.log,tu=a.unstable_setDisableYieldValue,Gn=null,ze=null;function Dn(e){if(typeof Wo=="function"&&tu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Gn,e)}catch{}}var me=Math.clz32?Math.clz32:nu,eu=Math.log,tr=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/tr|0)|0}var oi=256,cs=262144,Ee=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ui(l):(_&=b,_!==0?h=ui(_):r||(r=b&~e,r!==0&&(h=ui(r))))):(b=l&~d,b!==0?h=ui(b):_!==0?h=ui(_):r||(r=l&~e,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function hi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function hs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,r,l,h,d){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,I=e.expirationTimes,H=e.hiddenUpdates;for(r=_&~r;0<r;){var J=31-me(r),et=1<<J;b[J]=0,I[J]=-1;var Y=H[J];if(Y!==null)for(H[J]=null,J=0;J<Y.length;J++){var $=Y[J];$!==null&&($.lane&=-536870913)}r&=~et}l!==0&&fs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function fs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-me(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function yl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-me(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function vl(e,n){var r=n&-n;return r=(r&42)!==0?1:ds(r),(r&(e.suspendedLanes|n))!==0?0:r}function ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Pv(e.type))}function Yn(e,n){var r=at.p;try{return at.p=e,n()}finally{at.p=r}}var Kn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Kn,Le="__reactProps$"+Kn,fi="__reactContainer$"+Kn,er="__reactEvents$"+Kn,Nh="__reactListeners$"+Kn,su="__reactHandles$"+Kn,ru="__reactResources$"+Kn,di="__reactMarker$"+Kn;function nr(e){delete e[Te],delete e[Le],delete e[er],delete e[Nh],delete e[su]}function mi(e){var n=e[Te];if(n)return n;for(var r=e.parentNode;r;){if(n=r[fi]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Sv(e);e!==null;){if(r=e[Te])return r;e=Sv(e)}return n}e=r,r=e.parentNode}return null}function In(e){if(e=e[Te]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function pi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[di]=!0}var _l=new Set,El={};function gi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(El[e]=n,e=0;e<n.length;e++)_l.add(n[e])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},bl={};function lu(e){return _e.call(bl,e)?!0:_e.call(Sl,e)?!1:Tl.test(e)?bl[e]=!0:(Sl[e]=!0,!1)}function ir(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function vn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function da(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Al(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=da(e)?"checked":"value";e._valueTracker=Al(e,n,""+e[n])}}function ms(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=da(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function rn(e){return e.replace(ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ar(e,n,r,l,h,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?wl(e,_,Ue(n)):r!=null?wl(e,_,Ue(r)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ue(b):e.removeAttribute("name")}function ou(e,n,r,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Kt(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function wl(e,n,r){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ma(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function pa(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Zt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Kt(e)}function ln(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Rl(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&xl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&xl(e,d,n[d])}function sr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ga=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(e){return ga.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var Cl=null;function jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,_i=null;function gs(e){var n=In(e);if(n&&(e=n.stateNode)){var r=e[Le]||null;t:switch(e=n.stateNode,n.type){case"input":if(ar(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&ms(l)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ma(e,!!r.multiple,n,!1)}}}var lr=!1;function va(e,n,r){if(lr)return e(n,r);lr=!0;try{var l=e(n);return l}finally{if(lr=!1,(ya!==null||_i!==null)&&(ac(),ya&&(n=ya,e=_i,_i=ya=null,gs(n),e)))for(n=0;n<e.length;n++)gs(e[n])}}function $n(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Le]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(Vn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{ys=!1}var Ei=null,Nl=null,vs=null;function Dl(){if(vs)return vs;var e,n=Nl,r=n.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(e=0;e<r&&n[e]===h[e];e++);var _=r-e;for(l=1;l<=_&&n[r-l]===h[d-l];l++);return vs=h.slice(e,1<l?1-l:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Zn(){return!1}function Be(e){function n(r,l,h,d,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ki:Zn,this.isPropagationStopped=Zn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Be(zi),_a=S({},zi,{view:0,detail:0}),Il=Be(_a),Ea,or,Si,ur=S({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Ea=e.screenX-Si.screenX,or=e.screenY-Si.screenY):or=Ea=0,Si=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:or}}),jl=Be(ur),Es=S({},ur,{dataTransfer:0}),fu=Be(Es),du=S({},_a,{relatedTarget:0}),Ts=Be(du),Vl=S({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Be(Vl),cr=S({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Be(cr),gu=S({},zi,{data:0}),bi=Be(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Ta(){return Eu}var nn=S({},_a,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Be(nn),Su=S({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Be(Su),c=S({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),y=Be(c),E=S({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(E),z=S({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Be(z),lt=S({},zi,{newState:0,oldState:0}),At=Be(lt),pe=[9,13,27,32],Ft=Vn&&"CompositionEvent"in window,le=null;Vn&&"documentMode"in document&&(le=document.documentMode);var Mn=Vn&&"TextEvent"in window&&!le,Ai=Vn&&(!Ft||le&&8<le&&11>=le),Jn=" ",Wn=!1;function Ss(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function f1(e,n){switch(e){case"compositionend":return hr(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return e=n.data,e===Jn&&Wn?null:e;default:return null}}function d1(e,n){if(fr)return e==="compositionend"||!Ft&&Ss(e,n)?(e=Dl(),vs=Nl=Ei=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!m1[e.type]:n==="textarea"}function xp(e,n,r,l){ya?_i?_i.push(l):_i=[l]:ya=l,n=hc(n,"onChange"),0<n.length&&(r=new Ti("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ml=null,Ol=null;function p1(e){ov(e,0)}function bu(e){var n=yn(e);if(ms(n))return e}function Rp(e,n){if(e==="change")return n}var Cp=!1;if(Vn){var Dh;if(Vn){var Ih="oninput"in document;if(!Ih){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Ih=typeof Np.oninput=="function"}Dh=Ih}else Dh=!1;Cp=Dh&&(!document.documentMode||9<document.documentMode)}function Dp(){Ml&&(Ml.detachEvent("onpropertychange",Ip),Ol=Ml=null)}function Ip(e){if(e.propertyName==="value"&&bu(Ol)){var n=[];xp(n,Ol,e,jn(e)),va(p1,n)}}function g1(e,n,r){e==="focusin"?(Dp(),Ml=n,Ol=r,Ml.attachEvent("onpropertychange",Ip)):e==="focusout"&&Dp()}function y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Ol)}function v1(e,n){if(e==="click")return bu(n)}function _1(e,n){if(e==="input"||e==="change")return bu(n)}function E1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:E1;function Ll(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_e.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vp(e,n){var r=jp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=jp(r)}}function Mp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Op(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=vi(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var T1=Vn&&"documentMode"in document&&11>=document.documentMode,dr=null,Vh=null,Ul=null,Mh=!1;function Lp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mh||dr==null||dr!==vi(l)||(l=dr,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ul&&Ll(Ul,l)||(Ul=l,l=hc(Vh,"onSelect"),0<l.length&&(n=new Ti("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=dr)))}function bs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var mr={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Oh={},Up={};Vn&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function As(e){if(Oh[e])return Oh[e];if(!mr[e])return e;var n=mr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Up)return Oh[e]=n[r];return e}var Pp=As("animationend"),kp=As("animationiteration"),zp=As("animationstart"),S1=As("transitionrun"),b1=As("transitionstart"),A1=As("transitioncancel"),Bp=As("transitionend"),qp=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function ti(e,n){qp.set(e,n),gi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],pr=0,Uh=0;function wu(){for(var e=pr,n=Uh=pr=0;n<e;){var r=On[n];On[n++]=null;var l=On[n];On[n++]=null;var h=On[n];On[n++]=null;var d=On[n];if(On[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Hp(r,h,d)}}function xu(e,n,r,l){On[pr++]=e,On[pr++]=n,On[pr++]=r,On[pr++]=l,Uh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ph(e,n,r,l){return xu(e,n,r,l),Ru(e)}function ws(e,n){return xu(e,null,null,n),Ru(e)}function Hp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-me(r),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function Ru(e){if(50<so)throw so=0,Kf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gr={};function w1(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,r,l){return new w1(e,n,r,l)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var r=e.alternate;return r===null?(r=En(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Fp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,r,l,h,d){var _=0;if(l=e,typeof e=="function")kh(e)&&(_=1);else if(typeof e=="string")_=DS(e,r,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=En(31,r,n,h),e.elementType=N,e.lanes=d,e;case Q:return xs(r.children,h,d,n);case G:_=8,h|=24;break;case Z:return e=En(12,r,n,h|2),e.elementType=Z,e.lanes=d,e;case ct:return e=En(13,r,n,h),e.elementType=ct,e.lanes=d,e;case st:return e=En(19,r,n,h),e.elementType=st,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case F:_=9;break t;case ft:_=11;break t;case R:_=14;break t;case x:_=16,l=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=En(_,r,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function xs(e,n,r,l){return e=En(7,e,l,n),e.lanes=r,e}function zh(e,n,r){return e=En(6,e,null,n),e.lanes=r,e}function Gp(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,r){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qp=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var r=Qp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ml(n)},Qp.set(e,n),n)}return{value:e,source:n,stack:ml(n)}}var yr=[],vr=0,Nu=null,Pl=0,Un=[],Pn=0,Sa=null,wi=1,xi="";function Hi(e,n){yr[vr++]=Pl,yr[vr++]=Nu,Nu=e,Pl=n}function Yp(e,n,r){Un[Pn++]=wi,Un[Pn++]=xi,Un[Pn++]=Sa,Sa=e;var l=wi;e=xi;var h=32-me(l)-1;l&=~(1<<h),r+=1;var d=32-me(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-me(n)+h|r<<h|l,xi=d+e}else wi=1<<d|r<<h|l,xi=e}function qh(e){e.return!==null&&(Hi(e,1),Yp(e,1,0))}function Hh(e){for(;e===Nu;)Nu=yr[--vr],yr[vr]=null,Pl=yr[--vr],yr[vr]=null;for(;e===Sa;)Sa=Un[--Pn],Un[Pn]=null,xi=Un[--Pn],Un[Pn]=null,wi=Un[--Pn],Un[Pn]=null}function Kp(e,n){Un[Pn++]=wi,Un[Pn++]=xi,Un[Pn++]=Sa,wi=n.id,xi=n.overflow,Sa=e}var qe=null,ae=null,Lt=!1,ba=null,kn=!1,Fh=Error(s(519));function Aa(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Ln(n,e)),Fh}function Xp(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Te]=e,n[Le]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<lo.length;r++)It(lo[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),ou(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),pa(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||fv(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Aa(e,!0)}function $p(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function _r(e){if(e!==qe)return!1;if(!Lt)return $p(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ud(e.type,e.memoizedProps)),r=!r),r&&ae&&Aa(e),$p(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=Tv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=Tv(e)}else n===27?(n=ae,Pa(e.type)?(e=md,md=null,ae=e):ae=n):ae=qe?Bn(e.stateNode.nextSibling):null;return!0}function Rs(){ae=qe=null,Lt=!1}function Gh(){var e=ba;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),ba=null),e}function kl(e){ba===null?ba=[e]:ba.push(e)}var Qh=L(null),Cs=null,Fi=null;function wa(e,n,r){rt(Qh,n._currentValue),n._currentValue=r}function Gi(e){e._currentValue=Qh.current,X(Qh)}function Yh(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Kh(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var I=0;I<n.length;I++)if(b.context===n[I]){d.lanes|=r,b=d.alternate,b!==null&&(b.lanes|=r),Yh(d.return,r,e),l||(_=null);break t}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),Yh(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Er(e,n,r,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===kt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}h=h.return}e!==null&&Kh(n,e,r,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){Cs=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Zp(Cs,e)}function Iu(e,n){return Cs===null&&Ns(e),Zp(e,n)}function Zp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fi===null){if(e===null)throw Error(s(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return r}var x1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},R1=a.unstable_scheduleCallback,C1=a.unstable_NormalPriority,Ae={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new x1,data:new Map,refCount:0}}function zl(e){e.refCount--,e.refCount===0&&R1(C1,function(){e.controller.abort()})}var Bl=null,$h=0,Tr=0,Sr=null;function N1(e,n){if(Bl===null){var r=Bl=[];$h=0,Tr=td(),Sr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $h++,n.then(Jp,Jp),n}function Jp(){if(--$h===0&&Bl!==null){Sr!==null&&(Sr.status="fulfilled");var e=Bl;Bl=null,Tr=0,Sr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function D1(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Wp=P.S;P.S=function(e,n){Ly=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&N1(e,n),Wp!==null&&Wp(e,n)};var Ds=L(null);function Zh(){var e=Ds.current;return e!==null?e:ne.pooledCache}function ju(e,n){n===null?rt(Ds,Ds.current):rt(Ds,n.pool)}function tg(){var e=Zh();return e===null?null:{parent:Ae._currentValue,pool:e}}var br=Error(s(460)),Jh=Error(s(474)),Vu=Error(s(542)),Mu={then:function(){}};function eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ng(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e}throw js=n,br}}function Is(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(js=r,br):r}}var js=null;function ig(){if(js===null)throw Error(s(459));var e=js;return js=null,e}function ag(e){if(e===br||e===Vu)throw Error(s(483))}var Ar=null,ql=0;function Ou(e){var n=ql;return ql+=1,Ar===null&&(Ar=[]),ng(Ar,e,n)}function Hl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sg(e){function n(k,O){if(e){var B=k.deletions;B===null?(k.deletions=[O],k.flags|=16):B.push(O)}}function r(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=qi(k,O),k.index=0,k.sibling=null,k}function d(k,O,B){return k.index=B,e?(B=k.alternate,B!==null?(B=B.index,B<O?(k.flags|=67108866,O):B):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,O,B,W){return O===null||O.tag!==6?(O=zh(B,k.mode,W),O.return=k,O):(O=h(O,B),O.return=k,O)}function I(k,O,B,W){var gt=B.type;return gt===Q?J(k,O,B.props.children,W,B.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&Is(gt)===O.type)?(O=h(O,B.props),Hl(O,B),O.return=k,O):(O=Cu(B.type,B.key,B.props,null,k.mode,W),Hl(O,B),O.return=k,O)}function H(k,O,B,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Bh(B,k.mode,W),O.return=k,O):(O=h(O,B.children||[]),O.return=k,O)}function J(k,O,B,W,gt){return O===null||O.tag!==7?(O=xs(B,k.mode,W,gt),O.return=k,O):(O=h(O,B),O.return=k,O)}function et(k,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zh(""+O,k.mode,B),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return B=Cu(O.type,O.key,O.props,null,k.mode,B),Hl(B,O),B.return=k,B;case q:return O=Bh(O,k.mode,B),O.return=k,O;case x:return O=Is(O),et(k,O,B)}if(Zt(O)||U(O))return O=xs(O,k.mode,B,null),O.return=k,O;if(typeof O.then=="function")return et(k,Ou(O),B);if(O.$$typeof===it)return et(k,Iu(k,O),B);Lu(k,O)}return null}function Y(k,O,B,W){var gt=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return gt!==null?null:b(k,O,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===gt?I(k,O,B,W):null;case q:return B.key===gt?H(k,O,B,W):null;case x:return B=Is(B),Y(k,O,B,W)}if(Zt(B)||U(B))return gt!==null?null:J(k,O,B,W,null);if(typeof B.then=="function")return Y(k,O,Ou(B),W);if(B.$$typeof===it)return Y(k,O,Iu(k,B),W);Lu(k,B)}return null}function $(k,O,B,W,gt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(B)||null,b(O,k,""+W,gt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return k=k.get(W.key===null?B:W.key)||null,I(O,k,W,gt);case q:return k=k.get(W.key===null?B:W.key)||null,H(O,k,W,gt);case x:return W=Is(W),$(k,O,B,W,gt)}if(Zt(W)||U(W))return k=k.get(B)||null,J(O,k,W,gt,null);if(typeof W.then=="function")return $(k,O,B,Ou(W),gt);if(W.$$typeof===it)return $(k,O,B,Iu(O,W),gt);Lu(O,W)}return null}function mt(k,O,B,W){for(var gt=null,qt=null,pt=O,Rt=O=0,Vt=null;pt!==null&&Rt<B.length;Rt++){pt.index>Rt?(Vt=pt,pt=null):Vt=pt.sibling;var Ht=Y(k,pt,B[Rt],W);if(Ht===null){pt===null&&(pt=Vt);break}e&&pt&&Ht.alternate===null&&n(k,pt),O=d(Ht,O,Rt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht,pt=Vt}if(Rt===B.length)return r(k,pt),Lt&&Hi(k,Rt),gt;if(pt===null){for(;Rt<B.length;Rt++)pt=et(k,B[Rt],W),pt!==null&&(O=d(pt,O,Rt),qt===null?gt=pt:qt.sibling=pt,qt=pt);return Lt&&Hi(k,Rt),gt}for(pt=l(pt);Rt<B.length;Rt++)Vt=$(pt,k,Rt,B[Rt],W),Vt!==null&&(e&&Vt.alternate!==null&&pt.delete(Vt.key===null?Rt:Vt.key),O=d(Vt,O,Rt),qt===null?gt=Vt:qt.sibling=Vt,qt=Vt);return e&&pt.forEach(function(Ha){return n(k,Ha)}),Lt&&Hi(k,Rt),gt}function vt(k,O,B,W){if(B==null)throw Error(s(151));for(var gt=null,qt=null,pt=O,Rt=O=0,Vt=null,Ht=B.next();pt!==null&&!Ht.done;Rt++,Ht=B.next()){pt.index>Rt?(Vt=pt,pt=null):Vt=pt.sibling;var Ha=Y(k,pt,Ht.value,W);if(Ha===null){pt===null&&(pt=Vt);break}e&&pt&&Ha.alternate===null&&n(k,pt),O=d(Ha,O,Rt),qt===null?gt=Ha:qt.sibling=Ha,qt=Ha,pt=Vt}if(Ht.done)return r(k,pt),Lt&&Hi(k,Rt),gt;if(pt===null){for(;!Ht.done;Rt++,Ht=B.next())Ht=et(k,Ht.value,W),Ht!==null&&(O=d(Ht,O,Rt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht);return Lt&&Hi(k,Rt),gt}for(pt=l(pt);!Ht.done;Rt++,Ht=B.next())Ht=$(pt,k,Rt,Ht.value,W),Ht!==null&&(e&&Ht.alternate!==null&&pt.delete(Ht.key===null?Rt:Ht.key),O=d(Ht,O,Rt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht);return e&&pt.forEach(function(BS){return n(k,BS)}),Lt&&Hi(k,Rt),gt}function ee(k,O,B,W){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:t:{for(var gt=B.key;O!==null;){if(O.key===gt){if(gt=B.type,gt===Q){if(O.tag===7){r(k,O.sibling),W=h(O,B.props.children),W.return=k,k=W;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&Is(gt)===O.type){r(k,O.sibling),W=h(O,B.props),Hl(W,B),W.return=k,k=W;break t}r(k,O);break}else n(k,O);O=O.sibling}B.type===Q?(W=xs(B.props.children,k.mode,W,B.key),W.return=k,k=W):(W=Cu(B.type,B.key,B.props,null,k.mode,W),Hl(W,B),W.return=k,k=W)}return _(k);case q:t:{for(gt=B.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){r(k,O.sibling),W=h(O,B.children||[]),W.return=k,k=W;break t}else{r(k,O);break}else n(k,O);O=O.sibling}W=Bh(B,k.mode,W),W.return=k,k=W}return _(k);case x:return B=Is(B),ee(k,O,B,W)}if(Zt(B))return mt(k,O,B,W);if(U(B)){if(gt=U(B),typeof gt!="function")throw Error(s(150));return B=gt.call(B),vt(k,O,B,W)}if(typeof B.then=="function")return ee(k,O,Ou(B),W);if(B.$$typeof===it)return ee(k,O,Iu(k,B),W);Lu(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(r(k,O.sibling),W=h(O,B),W.return=k,k=W):(r(k,O),W=zh(B,k.mode,W),W.return=k,k=W),_(k)):r(k,O)}return function(k,O,B,W){try{ql=0;var gt=ee(k,O,B,W);return Ar=null,gt}catch(pt){if(pt===br||pt===Vu)throw pt;var qt=En(29,pt,null,k.mode);return qt.lanes=W,qt.return=k,qt}}}var Vs=sg(!0),rg=sg(!1),xa=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ru(e),Hp(e,null,r),n}return xu(e,l,n,r),Ru(e)}function Fl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,yl(e,r)}}function ef(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var nf=!1;function Gl(){if(nf){var e=Sr;if(e!==null)throw e}}function Ql(e,n,r,l){nf=!1;var h=e.updateQueue;xa=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var J=e.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==_&&(b===null?J.firstBaseUpdate=H:b.next=H,J.lastBaseUpdate=I))}if(d!==null){var et=h.baseState;_=0,J=H=I=null,b=d;do{var Y=b.lane&-536870913,$=Y!==b.lane;if($?(jt&Y)===Y:(l&Y)===Y){Y!==0&&Y===Tr&&(nf=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var mt=e,vt=b;Y=n;var ee=r;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){et=mt.call(ee,et,Y);break t}et=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,Y=typeof mt=="function"?mt.call(ee,et,Y):mt,Y==null)break t;et=S({},et,Y);break t;case 2:xa=!0}}Y=b.callback,Y!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(H=J=$,I=et):J=J.next=$,_|=Y;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;$=b,b=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);J===null&&(I=et),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Va|=_,e.lanes=_,e.memoizedState=et}}function lg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function og(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)lg(r[e],n)}var wr=L(null),Uu=L(0);function ug(e,n){e=ta,rt(Uu,e),rt(wr,n),ta=e|n.baseLanes}function af(){rt(Uu,ta),rt(wr,wr.current)}function sf(){ta=Uu.current,X(wr),X(Uu)}var Tn=L(null),zn=null;function Na(e){var n=e.alternate;rt(ge,ge.current&1),rt(Tn,e),zn===null&&(n===null||wr.current!==null||n.memoizedState!==null)&&(zn=e)}function rf(e){rt(ge,ge.current),rt(Tn,e),zn===null&&(zn=e)}function cg(e){e.tag===22?(rt(ge,ge.current),rt(Tn,e),zn===null&&(zn=e)):Da()}function Da(){rt(ge,ge.current),rt(Tn,Tn.current)}function Sn(e){X(Tn),zn===e&&(zn=null),X(ge)}var ge=L(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||fd(r)||dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,wt=null,Wt=null,we=null,ku=!1,xr=!1,Ms=!1,zu=0,Yl=0,Rr=null,I1=0;function fe(){throw Error(s(321))}function lf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!_n(e[r],n[r]))return!1;return!0}function of(e,n,r,l,h,d){return Qi=d,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Yg:bf,Ms=!1,d=r(l,h),Ms=!1,xr&&(d=fg(n,r,l,h)),hg(e),d}function hg(e){P.H=$l;var n=Wt!==null&&Wt.next!==null;if(Qi=0,we=Wt=wt=null,ku=!1,Yl=0,Rr=null,n)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&Du(e)&&(xe=!0))}function fg(e,n,r,l){wt=e;var h=0;do{if(xr&&(Rr=null),Yl=0,xr=!1,25<=h)throw Error(s(301));if(h+=1,we=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Kg,d=n(r,l)}while(xr);return d}function j1(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Kl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(wt.flags|=1024),n}function uf(){var e=zu!==0;return zu=0,e}function cf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function hf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Qi=0,we=Wt=wt=null,xr=!1,Yl=zu=0,Rr=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?wt.memoizedState=we=e:we=we.next=e,we}function ye(){if(Wt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=we===null?wt.memoizedState:we.next;if(n!==null)we=n,Wt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?wt.memoizedState=we=e:we=we.next=e}return we}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var n=Yl;return Yl+=1,Rr===null&&(Rr=[]),e=ng(Rr,e,n),n=wt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Yg:bf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===it)return He(e)}throw Error(s(438,String(e)))}function ff(e){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=V;return n.index++,r}function Yi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=ye();return df(n,Wt,e)}function df(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var b=_=null,I=null,H=n,J=!1;do{var et=H.lane&-536870913;if(et!==H.lane?(jt&et)===et:(Qi&et)===et){var Y=H.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),et===Tr&&(J=!0);else if((Qi&Y)===Y){H=H.next,Y===Tr&&(J=!0);continue}else et={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(b=I=et,_=d):I=I.next=et,wt.lanes|=Y,Va|=Y;et=H.action,Ms&&r(d,et),d=H.hasEagerState?H.eagerState:r(d,et)}else Y={lane:et,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(b=I=Y,_=d):I=I.next=Y,wt.lanes|=et,Va|=et;H=H.next}while(H!==null&&H!==n);if(I===null?_=d:I.next=b,!_n(d,e.memoizedState)&&(xe=!0,J&&(r=Sr,r!==null)))throw r;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mf(e){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);_n(d,n.memoizedState)||(xe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function dg(e,n,r){var l=wt,h=ye(),d=Lt;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!_n((Wt||h).memoizedState,r);if(_&&(h.memoizedState=r,xe=!0),h=h.queue,yf(gg.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Cr(9,{destroy:void 0},pg.bind(null,l,h,r,n),null),ne===null)throw Error(s(349));d||(Qi&127)!==0||mg(l,n,r)}return r}function mg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Bu(),wt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function pg(e,n,r,l){n.value=r,n.getSnapshot=l,yg(n)&&vg(e)}function gg(e,n,r){return r(function(){yg(n)&&vg(e)})}function yg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!_n(e,r)}catch{return!0}}function vg(e){var n=ws(e,2);n!==null&&fn(n,e,2)}function pf(e){var n=an();if(typeof e=="function"){var r=e;if(e=r(),Ms){Dn(!0);try{r()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function _g(e,n,r,l){return e.baseState=r,df(e,Wt,typeof l=="function"?l:Yi)}function V1(e,n,r,l,h){if(Qu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};P.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Eg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Eg(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=P.T,_={};P.T=_;try{var b=r(h,l),I=P.S;I!==null&&I(_,b),Tg(e,n,b)}catch(H){gf(e,n,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),P.T=d}}else try{d=r(h,l),Tg(e,n,d)}catch(H){gf(e,n,H)}}function Tg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Sg(e,n,l)},function(l){return gf(e,n,l)}):Sg(e,n,r)}function Sg(e,n,r){n.status="fulfilled",n.value=r,bg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Eg(e,r)))}function gf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bg(n),n=n.next;while(n!==l)}e.action=null}function bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ag(e,n){return n}function wg(e,n){if(Lt){var r=ne.formState;if(r!==null){t:{var l=wt;if(Lt){if(ae){e:{for(var h=ae,d=kn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=Bn(h.nextSibling),l=h.data==="F!";break t}}Aa(l)}l=!1}l&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},r.queue=l,r=Fg.bind(null,wt,l),l.dispatch=r,l=pf(!1),d=Sf.bind(null,wt,!1,l.queue),l=an(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=V1.bind(null,wt,h,d,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function xg(e){var n=ye();return Rg(n,Wt,e)}function Rg(e,n,r){if(n=df(e,n,Ag)[0],e=Hu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(_){throw _===br?Vu:_}else l=n;n=ye();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Cr(9,{destroy:void 0},M1.bind(null,h,r),null)),[l,d,e]}function M1(e,n){e.action=n}function Cg(e){var n=ye(),r=Wt;if(r!==null)return Rg(n,r,e);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Cr(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Bu(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Ng(){return ye().memoizedState}function Fu(e,n,r,l){var h=an();wt.flags|=e,h.memoizedState=Cr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Gu(e,n,r,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&lf(l,Wt.memoizedState.deps)?h.memoizedState=Cr(n,d,r,l):(wt.flags|=e,h.memoizedState=Cr(1|n,d,r,l))}function Dg(e,n){Fu(8390656,8,e,n)}function yf(e,n){Gu(2048,8,e,n)}function O1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=Bu(),wt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Ig(e){var n=ye().memoizedState;return O1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function jg(e,n){return Gu(4,2,e,n)}function Vg(e,n){return Gu(4,4,e,n)}function Mg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Og(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,Mg.bind(null,n,e),r)}function vf(){}function Lg(e,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&lf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Ug(e,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&lf(n,l[1]))return l[0];if(l=e(),Ms){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[l,n],l}function _f(e,n,r){return r===void 0||(Qi&1073741824)!==0&&(jt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Py(),wt.lanes|=e,Va|=e,r)}function Pg(e,n,r,l){return _n(r,n)?r:wr.current!==null?(e=_f(e,r,l),_n(e,n)||(xe=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(jt&261930)===0?(xe=!0,e.memoizedState=r):(e=Py(),wt.lanes|=e,Va|=e,n)}function kg(e,n,r,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var _=P.T,b={};P.T=b,Sf(e,!1,n,r);try{var I=h(),H=P.S;if(H!==null&&H(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=D1(I,l);Xl(e,n,J,wn(e))}else Xl(e,n,l,wn(e))}catch(et){Xl(e,n,{then:function(){},status:"rejected",reason:et},wn())}finally{at.p=d,_!==null&&b.types!==null&&(_.types=b.types),P.T=_}}function L1(){}function Ef(e,n,r,l){if(e.tag!==5)throw Error(s(476));var h=zg(e).queue;kg(e,h,n,dt,r===null?L1:function(){return Bg(e),r(l)})}function zg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bg(e){var n=zg(e);n.next===null&&(n=e.alternate.memoizedState),Xl(e,n.next.queue,{},wn())}function Tf(){return He(fo)}function qg(){return ye().memoizedState}function Hg(){return ye().memoizedState}function U1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=wn();e=Ra(r);var l=Ca(n,e,r);l!==null&&(fn(l,n,r),Fl(l,n,r)),n={cache:Xh()},e.payload=n;return}n=n.return}}function P1(e,n,r){var l=wn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Gg(n,r):(r=Ph(e,n,r,l),r!==null&&(fn(r,e,l),Qg(r,n,l)))}function Fg(e,n,r){var l=wn();Xl(e,n,r,l)}function Xl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Gg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,b=d(_,r);if(h.hasEagerState=!0,h.eagerState=b,_n(b,_))return xu(e,n,h,0),ne===null&&wu(),!1}catch{}if(r=Ph(e,n,h,l),r!==null)return fn(r,e,l),Qg(r,n,l),!0}return!1}function Sf(e,n,r,l){if(l={lane:2,revertLane:td(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(s(479))}else n=Ph(e,r,l,2),n!==null&&fn(n,e,2)}function Qu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Gg(e,n){xr=ku=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Qg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,yl(e,r)}}var $l={readContext:He,use:qu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};$l.useEffectEvent=fe;var Yg={readContext:He,use:qu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Dg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,Mg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=an();n=n===void 0?null:n;var l=e();if(Ms){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=an();if(r!==void 0){var h=r(n);if(Ms){Dn(!0);try{r(n)}finally{Dn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=P1.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,r=Fg.bind(null,wt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(e,n){var r=an();return _f(r,e,n)},useTransition:function(){var e=pf(!1);return e=kg.bind(null,wt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=wt,h=an();if(Lt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ne===null)throw Error(s(349));(jt&127)!==0||mg(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Dg(gg.bind(null,l,d,e),[e]),l.flags|=2048,Cr(9,{destroy:void 0},pg.bind(null,l,d,r,n),null),r},useId:function(){var e=an(),n=ne.identifierPrefix;if(Lt){var r=xi,l=wi;r=(l&~(1<<32-me(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=I1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:wg,useActionState:wg,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,wt,!0,r),r.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return an().memoizedState=U1.bind(null,wt)},useEffectEvent:function(e){var n=an(),r={impl:e};return n.memoizedState=r,function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:He,use:qu,useCallback:Lg,useContext:He,useEffect:yf,useImperativeHandle:Og,useInsertionEffect:jg,useLayoutEffect:Vg,useMemo:Ug,useReducer:Hu,useRef:Ng,useState:function(){return Hu(Yi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=ye();return Pg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=Hu(Yi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Tf,useFormState:xg,useActionState:xg,useOptimistic:function(e,n){var r=ye();return _g(r,Wt,e,n)},useMemoCache:ff,useCacheRefresh:Hg};bf.useEffectEvent=Ig;var Kg={readContext:He,use:qu,useCallback:Lg,useContext:He,useEffect:yf,useImperativeHandle:Og,useInsertionEffect:jg,useLayoutEffect:Vg,useMemo:Ug,useReducer:mf,useRef:Ng,useState:function(){return mf(Yi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=ye();return Wt===null?_f(r,e,n):Pg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=mf(Yi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Tf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,n){var r=ye();return Wt!==null?_g(r,Wt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Hg};Kg.useEffectEvent=Ig;function Af(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=wn(),h=Ra(l);h.payload=n,r!=null&&(h.callback=r),n=Ca(e,h,l),n!==null&&(fn(n,e,l),Fl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=wn(),h=Ra(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ca(e,h,l),n!==null&&(fn(n,e,l),Fl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=wn(),l=Ra(r);l.tag=2,n!=null&&(l.callback=n),n=Ca(e,l,r),n!==null&&(fn(n,e,r),Fl(n,e,r))}};function Xg(e,n,r,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Ll(r,l)||!Ll(h,d):!0}function $g(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function Os(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Zg(e){Au(e)}function Jg(e){console.error(e)}function Wg(e){Au(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ty(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,r){return r=Ra(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function ey(e){return e=Ra(e),e.tag=3,e}function ny(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){ty(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ty(n,r,l),typeof h!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function k1(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Er(n,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return zn===null?sc():r.alternate===null&&de===0&&(de=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zf(e,l,h)),!1;case 22:return r.flags|=65536,l===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zf(e,l,h)),!1}throw Error(s(435,r.tag))}return Zf(e,l,h),sc(),!1}if(Lt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Fh&&(e=Error(s(422),{cause:l}),kl(Ln(e,r)))):(l!==Fh&&(n=Error(s(423),{cause:l}),kl(Ln(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ln(l,r),h=xf(e.stateNode,l,h),ef(e,h),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,r),ao===null?ao=[d]:ao.push(d),de!==4&&(de=2),n===null)return!0;l=Ln(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=xf(r.stateNode,l,e),ef(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ma===null||!Ma.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ey(h),ny(h,e,r,l),ef(r,h),!1}r=r.return}while(r!==null);return!1}var Rf=Error(s(461)),xe=!1;function Fe(e,n,r,l){n.child=e===null?rg(n,null,r,l):Vs(n,e.child,r,l)}function iy(e,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ns(n),l=of(e,n,r,_,d,h),b=uf(),e!==null&&!xe?(cf(e,n,h),Ki(e,n,h)):(Lt&&b&&qh(n),n.flags|=1,Fe(e,n,l,h),n.child)}function ay(e,n,r,l,h){if(e===null){var d=r.type;return typeof d=="function"&&!kh(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,sy(e,n,d,l,h)):(e=Cu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Of(e,h)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:Ll,r(_,l)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=qi(d,l),e.ref=n.ref,e.return=n,n.child=e}function sy(e,n,r,l,h){if(e!==null){var d=e.memoizedProps;if(Ll(d,l)&&e.ref===n.ref)if(xe=!1,n.pendingProps=l=d,Of(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return Cf(e,n,r,l,h)}function ry(e,n,r,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return ly(e,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(n,d!==null?d.cachePool:null),d!==null?ug(n,d):af(),cg(n);else return l=n.lanes=536870912,ly(e,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(ju(n,d.cachePool),ug(n,d),Da(),n.memoizedState=null):(e!==null&&ju(n,null),af(),Da());return Fe(e,n,h,r),n.child}function Zl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(e,n,r,l,h){var d=Zh();return d=d===null?null:{parent:Ae._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&ju(n,null),af(),cg(n),e!==null&&Er(e,n,l,!0),n.childLanes=h,null}function Ku(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function oy(e,n,r){return Vs(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function z1(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=Ku(n,l),n.lanes=536870912,Zl(null,e);if(rf(n),(e=ae)?(e=Ev(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=Gp(e),r.return=n,n.child=r,qe=n,ae=null)):e=null,e===null)throw Aa(n);return n.lanes=536870912,null}return Ku(n,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=oy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(xe||Er(e,n,r,!1),h=(r&e.childLanes)!==0,xe||h){if(l=ne,l!==null&&(_=vl(l,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,ws(e,_),fn(l,e,_),Rf;sc(),n=oy(e,n,r)}else e=d.treeContext,ae=Bn(_.nextSibling),qe=n,Lt=!0,ba=null,kn=!1,e!==null&&Kp(n,e),n=Ku(n,l),n.flags|=4096;return n}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Cf(e,n,r,l,h){return Ns(n),r=of(e,n,r,l,void 0,h),l=uf(),e!==null&&!xe?(cf(e,n,h),Ki(e,n,h)):(Lt&&l&&qh(n),n.flags|=1,Fe(e,n,r,h),n.child)}function uy(e,n,r,l,h,d){return Ns(n),n.updateQueue=null,r=fg(n,l,r,h),hg(e),l=uf(),e!==null&&!xe?(cf(e,n,d),Ki(e,n,d)):(Lt&&l&&qh(n),n.flags|=1,Fe(e,n,r,d),n.child)}function cy(e,n,r,l,h){if(Ns(n),n.stateNode===null){var d=gr,_=r.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Wh(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?He(_):gr,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Af(n,r,_,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wf.enqueueReplaceState(d,d.state,null),Ql(n,l,d,h),Gl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var b=n.memoizedProps,I=Os(r,b);d.props=I;var H=d.context,J=r.contextType;_=gr,typeof J=="object"&&J!==null&&(_=He(J));var et=r.getDerivedStateFromProps;J=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&$g(n,d,l,_),xa=!1;var Y=n.memoizedState;d.state=Y,Ql(n,l,d,h),Gl(),H=n.memoizedState,b||Y!==H||xa?(typeof et=="function"&&(Af(n,r,et,l),H=n.memoizedState),(I=xa||Xg(n,r,I,l,Y,H,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,tf(e,n),_=n.memoizedProps,J=Os(r,_),d.props=J,et=n.pendingProps,Y=d.context,H=r.contextType,I=gr,typeof H=="object"&&H!==null&&(I=He(H)),b=r.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==et||Y!==I)&&$g(n,d,l,I),xa=!1,Y=n.memoizedState,d.state=Y,Ql(n,l,d,h),Gl();var $=n.memoizedState;_!==et||Y!==$||xa||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof b=="function"&&(Af(n,r,b,l),$=n.memoizedState),(J=xa||Xg(n,r,J,l,Y,$,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),d.props=l,d.state=$,d.context=I,l=J):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Xu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,r,h)):Fe(e,n,r,h),n.memoizedState=d.state,e=n.child):e=Ki(e,n,h),e}function hy(e,n,r,l){return Rs(),n.flags|=256,Fe(e,n,r,l),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:tg()}}function If(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=An),e}function fy(e,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Na(n):Da(),(e=ae)?(e=Ev(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=Gp(e),r.return=n,n.child=r,qe=n,ae=null)):e=null,e===null)throw Aa(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Da(),h=n.mode,b=$u({mode:"hidden",children:b},h),l=xs(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Df(r),l.childLanes=If(e,_,r),n.memoizedState=Nf,Zl(null,l)):(Na(n),jf(n,b))}var I=e.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(d)n.flags&256?(Na(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(Da(),n.child=e.child,n.flags|=128,n=null):(Da(),b=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),b=xs(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Vs(n,e.child,null,r),l=n.child,l.memoizedState=Df(r),l.childLanes=If(e,_,r),n.memoizedState=Nf,n=Zl(null,l));else if(Na(n),dd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,kl({value:l,source:null,stack:null}),n=Vf(e,n,r)}else if(xe||Er(e,n,r,!1),_=(r&e.childLanes)!==0,xe||_){if(_=ne,_!==null&&(l=vl(_,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,ws(e,l),fn(_,e,l),Rf;fd(b)||sc(),n=Vf(e,n,r)}else fd(b)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ae=Bn(b.nextSibling),qe=n,Lt=!0,ba=null,kn=!1,e!==null&&Kp(n,e),n=jf(n,l.children),n.flags|=4096);return n}return h?(Da(),b=l.fallback,h=n.mode,I=e.child,H=I.sibling,l=qi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?b=qi(H,b):(b=xs(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Zl(null,l),l=n.child,b=e.child.memoizedState,b===null?b=Df(r):(h=b.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=tg(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=If(e,_,r),n.memoizedState=Nf,Zl(e.child,l)):(Na(n),r=e.child,e=r.sibling,r=qi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function jf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return Vs(n,e.child,null,r),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dy(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Yh(e.return,n,r)}function Mf(e,n,r,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=d)}function my(e,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=ge.current,b=(_&2)!==0;if(b?(_=_&1|2,n.flags|=128):_&=1,rt(ge,_),Fe(e,n,l,r),l=Lt?Pl:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,r,n);else if(e.tag===19)dy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Mf(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Mf(n,!0,r,null,d,l);break;case"together":Mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ki(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Va|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Er(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=qi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=qi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function B1(e,n,r){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),wa(n,Ae,e.memoizedState.cache),Rs();break;case 27:case 5:ls(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:wa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fy(e,n,r):(Na(n),e=Ki(e,n,r),e!==null?e.sibling:null);Na(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Er(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return my(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(ge,ge.current),l)break;return null;case 22:return n.lanes=0,ry(e,n,r,n.pendingProps);case 24:wa(n,Ae,e.memoizedState.cache)}return Ki(e,n,r)}function py(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!Of(e,r)&&(n.flags&128)===0)return xe=!1,B1(e,n,r);xe=(e.flags&131072)!==0}else xe=!1,Lt&&(n.flags&1048576)!==0&&Yp(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Is(n.elementType),n.type=e,typeof e=="function")kh(e)?(l=Os(e,l),n.tag=1,n=cy(null,n,e,l,r)):(n.tag=0,n=Cf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===ft){n.tag=11,n=iy(null,n,e,l,r);break t}else if(h===R){n.tag=14,n=ay(null,n,e,l,r);break t}}throw n=Ct(e)||e,Error(s(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Os(l,n.pendingProps),cy(e,n,l,h,r);case 3:t:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,tf(e,n),Ql(n,l,null,r);var _=n.memoizedState;if(l=_.cache,wa(n,Ae,l),l!==d.cache&&Kh(n,[Ae],r,!0),Gl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=hy(e,n,l,r);break t}else if(l!==h){h=Ln(Error(s(424)),n),kl(h),n=hy(e,n,l,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Bn(e.firstChild),qe=n,Lt=!0,ba=null,kn=!0,r=rg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rs(),l===h){n=Ki(e,n,r);break t}Fe(e,n,l,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=xv(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,l=fc(xt.current).createElement(r),l[Te]=n,l[Le]=e,Ge(l,r,e),Se(l),n.stateNode=l):n.memoizedState=xv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ls(n),e===null&&Lt&&(l=n.stateNode=bv(n.type,n.pendingProps,xt.current),qe=n,kn=!0,h=ae,Pa(n.type)?(md=h,ae=Bn(l.firstChild)):ae=h),Fe(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=l=ae)&&(l=yS(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,qe=n,ae=Bn(l.firstChild),kn=!1,h=!0):h=!1),h||Aa(n)),ls(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,ud(h,d)?l=null:_!==null&&ud(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,j1,null,null,r),fo._currentValue=h),Xu(e,n),Fe(e,n,l,r),n.child;case 6:return e===null&&Lt&&((e=r=ae)&&(r=vS(r,n.pendingProps,kn),r!==null?(n.stateNode=r,qe=n,ae=null,e=!0):e=!1),e||Aa(n)),null;case 13:return fy(e,n,r);case 4:return je(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Vs(n,null,l,r):Fe(e,n,l,r),n.child;case 11:return iy(e,n,n.type,n.pendingProps,r);case 7:return Fe(e,n,n.pendingProps,r),n.child;case 8:return Fe(e,n,n.pendingProps.children,r),n.child;case 12:return Fe(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,wa(n,n.type,l.value),Fe(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ns(n),h=He(h),l=l(h),n.flags|=1,Fe(e,n,l,r),n.child;case 14:return ay(e,n,n.type,n.pendingProps,r);case 15:return sy(e,n,n.type,n.pendingProps,r);case 19:return my(e,n,r);case 31:return z1(e,n,r);case 22:return ry(e,n,r,n.pendingProps);case 24:return Ns(n),l=He(Ae),e===null?(h=Zh(),h===null&&(h=ne,d=Xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},Wh(n),wa(n,Ae,h)):((e.lanes&r)!==0&&(tf(e,n),Ql(n,null,null,r),Gl()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),wa(n,Ae,l)):(l=d.cache,wa(n,Ae,l),l!==h.cache&&Kh(n,[Ae],r,!0))),Fe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Xi(e){e.flags|=4}function Lf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw js=Mu,Jh}else e.flags&=-16777217}function gy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Iv(n))if(qy())e.flags|=8192;else throw js=Mu,Jh}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,jr|=n)}function Jl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function q1(e,n,r){var l=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Gi(Ae),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_r(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),se(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(Xi(n),d!==null?(se(n),gy(n,d)):(se(n),Lf(n,h,null,l,r))):d?d!==e.memoizedState?(Xi(n),se(n),gy(n,d)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Xi(n),se(n),Lf(n,h,e,l,r)),null;case 27:if(Zs(n),r=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}e=ut.current,_r(n)?Xp(n):(e=bv(h,l,r),n.stateNode=e,Xi(n))}return se(n),null;case 5:if(Zs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(d=ut.current,_r(n))Xp(n);else{var _=fc(xt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Te]=n,d[Le]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Xi(n)}}return se(n),Lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=xt.current,_r(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||fv(e.nodeValue,r)),e||Aa(n,!0)}else e=fc(e).createTextNode(l),e[Te]=n,n.stateNode=e}return se(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=_r(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Te]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else r=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return se(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_r(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),se(n),null);case 4:return re(),e===null&&ad(n.stateNode.containerInfo),se(n),null;case 10:return Gi(n.type),se(n),null;case 19:if(X(ge),l=n.memoizedState,l===null)return se(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Jl(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Pu(e),d!==null){for(n.flags|=128,Jl(l,!1),e=d.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Fp(r,e),r=r.sibling;return rt(ge,ge.current&1|2),Lt&&Hi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&en()>nc&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Lt)return se(n),null}else 2*en()-l.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,r=ge.current,rt(ge,h?r&1|2:r&1),Lt&&Hi(n,l.treeForkCount),e):(se(n),null);case 22:case 23:return Sn(n),sf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&X(Ds),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Gi(Ae),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function H1(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zs(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(s(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(ge),null;case 4:return re(),null;case 10:return Gi(n.type),null;case 22:case 23:return Sn(n),sf(),e!==null&&X(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(Ae),null;case 25:return null;default:return null}}function yy(e,n){switch(Hh(n),n.tag){case 3:Gi(Ae),re();break;case 26:case 27:case 5:Zs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:X(ge);break;case 10:Gi(n.type);break;case 22:case 23:Sn(n),sf(),e!==null&&X(Ds);break;case 24:Gi(Ae)}}function Wl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var d=r.create,_=r.inst;l=d(),_.destroy=l}r=r.next}while(r!==h)}}catch(b){$t(n,n.return,b)}}function Ia(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var I=r,H=b;try{H()}catch(J){$t(h,I,J)}}}l=l.next}while(l!==d)}}catch(J){$t(n,n.return,J)}}function vy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{og(n,r)}catch(l){$t(e,e.return,l)}}}function _y(e,n,r){r.props=Os(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){$t(e,n,l)}}function to(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){$t(e,n,h)}}function Ri(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,n,h)}else r.current=null}function Ey(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function Uf(e,n,r){try{var l=e.stateNode;hS(l,e.type,r,n),l[Le]=n}catch(h){$t(e,e.return,h)}}function Ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(l!==4&&(l===27&&Pa(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(kf(e,n,r),e=e.sibling;e!==null;)kf(e,n,r),e=e.sibling}function Ju(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Pa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ju(e,n,r),e=e.sibling;e!==null;)Ju(e,n,r),e=e.sibling}function Sy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,r),n[Te]=e,n[Le]=r}catch(d){$t(e,e.return,d)}}var $i=!1,Re=!1,zf=!1,by=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function F1(e,n){if(e=e.containerInfo,ld=_c,e=Op(e),jh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var _=0,b=-1,I=-1,H=0,J=0,et=e,Y=null;e:for(;;){for(var $;et!==r||h!==0&&et.nodeType!==3||(b=_+h),et!==d||l!==0&&et.nodeType!==3||(I=_+l),et.nodeType===3&&(_+=et.nodeValue.length),($=et.firstChild)!==null;)Y=et,et=$;for(;;){if(et===e)break e;if(Y===r&&++H===h&&(b=_),Y===d&&++J===l&&(I=_),($=et.nextSibling)!==null)break;et=Y,Y=et.parentNode}et=$}r=b===-1||I===-1?null:{start:b,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(od={focusedElem:e,selectionRange:r},_c=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var mt=Os(r.type,h);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){$t(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)hd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Ay(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(e,r),l&4&&Wl(5,r);break;case 1:if(Ji(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){$t(r,r.return,_)}else{var h=Os(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(r,r.return,_)}}l&64&&vy(r),l&512&&to(r,r.return);break;case 3:if(Ji(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{og(e,n)}catch(_){$t(r,r.return,_)}}break;case 27:n===null&&l&4&&Sy(r);case 26:case 5:Ji(e,r),n===null&&l&4&&Ey(r),l&512&&to(r,r.return);break;case 12:Ji(e,r);break;case 31:Ji(e,r),l&4&&Ry(e,r);break;case 13:Ji(e,r),l&4&&Cy(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=W1.bind(null,r),_S(e,r))));break;case 22:if(l=r.memoizedState!==null||$i,!l){n=n!==null&&n.memoizedState!==null||Re,h=$i;var d=Re;$i=l,(Re=n)&&!d?Wi(e,r,(r.subtreeFlags&8772)!==0):Ji(e,r),$i=h,Re=d}break;case 30:break;default:Ji(e,r)}}function wy(e){var n=e.alternate;n!==null&&(e.alternate=null,wy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&nr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function Zi(e,n,r){for(r=r.child;r!==null;)xy(e,n,r),r=r.sibling}function xy(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Gn,r)}catch{}switch(r.tag){case 26:Re||Ri(r,n),Zi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||Ri(r,n);var l=oe,h=on;Pa(r.type)&&(oe=r.stateNode,on=!1),Zi(e,n,r),uo(r.stateNode),oe=l,on=h;break;case 5:Re||Ri(r,n);case 6:if(l=oe,h=on,oe=null,Zi(e,n,r),oe=l,on=h,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(d){$t(r,n,d)}else try{oe.removeChild(r.stateNode)}catch(d){$t(r,n,d)}break;case 18:oe!==null&&(on?(e=oe,vv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),zr(e)):vv(oe,r.stateNode));break;case 4:l=oe,h=on,oe=r.stateNode.containerInfo,on=!0,Zi(e,n,r),oe=l,on=h;break;case 0:case 11:case 14:case 15:Ia(2,r,n),Re||Ia(4,r,n),Zi(e,n,r);break;case 1:Re||(Ri(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&_y(r,n,l)),Zi(e,n,r);break;case 21:Zi(e,n,r);break;case 22:Re=(l=Re)||r.memoizedState!==null,Zi(e,n,r),Re=l;break;default:Zi(e,n,r)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zr(e)}catch(r){$t(n,n.return,r)}}}function Cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zr(e)}catch(r){$t(n,n.return,r)}}function G1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new by),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new by),n;default:throw Error(s(435,e.tag))}}function Wu(e,n){var r=G1(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=tS.bind(null,e,l);l.then(h,h)}})}function un(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=e,_=n,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(Pa(b.type)){oe=b.stateNode,on=!1;break t}break;case 5:oe=b.stateNode,on=!1;break t;case 3:case 4:oe=b.stateNode.containerInfo,on=!0;break t}b=b.return}if(oe===null)throw Error(s(160));xy(d,_,h),oe=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,e),n=n.sibling}var ei=null;function Ny(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),l&4&&(Ia(3,e,e.return),Wl(3,e),Ia(5,e,e.return));break;case 1:un(n,e),cn(e),l&512&&(Re||r===null||Ri(r,r.return)),l&64&&$i&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ei;if(un(n,e),cn(e),l&512&&(Re||r===null||Ri(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,r),d[Te]=e,Se(d),l=d;break t;case"link":var _=Nv("link","href",h).get(l+(r.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(b,1);break e}}d=h.createElement(l),Ge(d,l,r),h.head.appendChild(d);break;case"meta":if(_=Nv("meta","content",h).get(l+(r.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(b,1);break e}}d=h.createElement(l),Ge(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Te]=e,Se(d),l=d}e.stateNode=l}else Dv(h,e.type,e.stateNode);else e.stateNode=Cv(h,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?Dv(h,e.type,e.stateNode):Cv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Uf(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(n,e),cn(e),l&512&&(Re||r===null||Ri(r,r.return)),r!==null&&l&4&&Uf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(n,e),cn(e),l&512&&(Re||r===null||Ri(r,r.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(mt){$t(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Uf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(un(n,e),cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(mt){$t(e,e.return,mt)}}break;case 3:if(pc=null,h=ei,ei=dc(n.containerInfo),un(n,e),ei=h,cn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zr(n.containerInfo)}catch(mt){$t(e,e.return,mt)}zf&&(zf=!1,Dy(e));break;case 4:l=ei,ei=dc(e.stateNode.containerInfo),un(n,e),cn(e),ei=l;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,H=$i,J=Re;if($i=H||h,Re=J||I,un(n,e),Re=J,$i=H,cn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||$i||Re||Ls(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=I.stateNode;var et=I.memoizedProps.style,Y=et!=null&&et.hasOwnProperty("display")?et.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(mt){$t(I,I.return,mt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(mt){$t(I,I.return,mt)}}}else if(n.tag===18){if(r===null){I=n;try{var $=I.stateNode;h?_v($,!0):_v(I.stateNode,!1)}catch(mt){$t(I,I.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wu(e,r))));break;case 19:un(n,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Ty(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=Pf(e);Ju(e,d,h);break;case 5:var _=r.stateNode;r.flags&32&&(ln(_,""),r.flags&=-33);var b=Pf(e);Ju(e,b,_);break;case 3:case 4:var I=r.stateNode.containerInfo,H=Pf(e);kf(e,H,I);break;default:throw Error(s(161))}}catch(J){$t(e,e.return,J)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(e,n.alternate,n),n=n.sibling}function Ls(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ia(4,n,n.return),Ls(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&_y(n,n.return,r),Ls(n);break;case 27:uo(n.stateNode);case 26:case 5:Ri(n,n.return),Ls(n);break;case 22:n.memoizedState===null&&Ls(n);break;case 30:Ls(n);break;default:Ls(n)}e=e.sibling}}function Wi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,r),Wl(4,d);break;case 1:if(Wi(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)lg(I[h],b)}catch(H){$t(l,l.return,H)}}r&&_&64&&vy(d),to(d,d.return);break;case 27:Sy(d);case 26:case 5:Wi(h,d,r),r&&l===null&&_&4&&Ey(d),to(d,d.return);break;case 12:Wi(h,d,r);break;case 31:Wi(h,d,r),r&&_&4&&Ry(h,d);break;case 13:Wi(h,d,r),r&&_&4&&Cy(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,r),to(d,d.return);break;case 30:break;default:Wi(h,d,r)}n=n.sibling}}function Bf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zl(r))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e))}function ni(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(e,n,r,l),n=n.sibling}function Iy(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,r,l),h&2048&&Wl(9,n);break;case 1:ni(e,n,r,l);break;case 3:ni(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e)));break;case 12:if(h&2048){ni(e,n,r,l),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(n,n.return,I)}}else ni(e,n,r,l);break;case 31:ni(e,n,r,l);break;case 13:ni(e,n,r,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?ni(e,n,r,l):eo(e,n):d._visibility&2?ni(e,n,r,l):(d._visibility|=2,Nr(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(_,n);break;case 24:ni(e,n,r,l),h&2048&&qf(n.alternate,n);break;default:ni(e,n,r,l)}}function Nr(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,_=n,b=r,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Nr(d,_,b,I,h),Wl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Nr(d,_,b,I,h):eo(d,_):(J._visibility|=2,Nr(d,_,b,I,h)),h&&H&2048&&Bf(_.alternate,_);break;case 24:Nr(d,_,b,I,h),h&&H&2048&&qf(_.alternate,_);break;default:Nr(d,_,b,I,h)}n=n.sibling}}function eo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:eo(r,l),h&2048&&Bf(l.alternate,l);break;case 24:eo(r,l),h&2048&&qf(l.alternate,l);break;default:eo(r,l)}n=n.sibling}}var no=8192;function Dr(e,n,r){if(e.subtreeFlags&no)for(e=e.child;e!==null;)jy(e,n,r),e=e.sibling}function jy(e,n,r){switch(e.tag){case 26:Dr(e,n,r),e.flags&no&&e.memoizedState!==null&&IS(r,ei,e.memoizedState,e.memoizedProps);break;case 5:Dr(e,n,r);break;case 3:case 4:var l=ei;ei=dc(e.stateNode.containerInfo),Dr(e,n,r),ei=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=no,no=16777216,Dr(e,n,r),no=l):Dr(e,n,r));break;default:Dr(e,n,r)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function io(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,Oy(l,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)My(e),e=e.sibling}function My(e){switch(e.tag){case 0:case 11:case 15:io(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:io(e);break;case 12:io(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):io(e);break;default:io(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,Oy(l,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ia(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Oy(e,n){for(;Pe!==null;){var r=Pe;switch(r.tag){case 0:case 11:case 15:Ia(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pe=l;else t:for(r=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(wy(l),l===r){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var Q1={getCacheForType:function(e){var n=He(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return He(Ae).controller.signal}},Y1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Dt=null,jt=0,Xt=0,bn=null,ja=!1,Ir=!1,Hf=!1,ta=0,de=0,Va=0,Us=0,Ff=0,An=0,jr=0,ao=null,hn=null,Gf=!1,ec=0,Ly=0,nc=1/0,ic=null,Ma=null,Me=0,Oa=null,Vr=null,ea=0,Qf=0,Yf=null,Uy=null,so=0,Kf=null;function wn(){return(Gt&2)!==0&&jt!==0?jt&-jt:P.T!==null?td():au()}function Py(){if(An===0)if((jt&536870912)===0||Lt){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),An=e}else An=536870912;return e=Tn.current,e!==null&&(e.flags|=32),An}function fn(e,n,r){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Mr(e,0),La(e,jt,An,!1)),hs(e,r),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Us|=r),de===4&&La(e,jt,An,!1)),Ci(e))}function ky(e,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=l?$1(e,n):$f(e,n,!0),d=l;do{if(h===0){Ir&&!l&&La(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!K1(r)){h=$f(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var b=e;h=ao;var I=b.current.memoizedState.isDehydrated;if(I&&(Mr(b,_).flags|=256),_=$f(b,_,!1),_!==2){if(Hf&&!I){b.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break t}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Mr(e,0),La(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:La(l,n,An,!ja);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ec+300-en(),10<h)){if(La(l,n,An,!ja),ci(l,0,!0)!==0)break t;ea=n,l.timeoutHandle=gv(zy.bind(null,l,r,hn,ic,Gf,n,An,Us,jr,ja,d,"Throttled",-0,0),h);break t}zy(l,r,hn,ic,Gf,n,An,Us,jr,ja,d,null,-0,0)}}break}while(!0);Ci(e)}function zy(e,n,r,l,h,d,_,b,I,H,J,et,Y,$){if(e.timeoutHandle=-1,et=n.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},jy(n,d,et);var mt=(d&62914560)===d?ec-en():(d&4194048)===d?Ly-en():0;if(mt=jS(et,mt),mt!==null){ea=d,e.cancelPendingCommit=mt(Ky.bind(null,e,n,d,r,l,h,_,b,I,J,et,null,Y,$)),La(e,d,_,!H);return}}Ky(e,n,d,r,l,h,_,b,I)}function K1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(e,n,r,l){n&=~Ff,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-me(h),_=1<<d;l[d]=-1,h&=~_}r!==0&&fs(e,r,n)}function ac(){return(Gt&6)===0?(ro(0),!1):!0}function Xf(){if(Dt!==null){if(Xt===0)var e=Dt.return;else e=Dt,Fi=Cs=null,hf(e),Ar=null,ql=0,e=Dt;for(;e!==null;)yy(e.alternate,e),e=e.return;Dt=null}}function Mr(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,mS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ea=0,Xf(),ne=e,Dt=r=qi(e.current,null),jt=n,Xt=0,bn=null,ja=!1,Ir=Qn(e,n),Hf=!1,jr=An=Ff=Us=Va=de=0,hn=ao=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-me(l),d=1<<h;n|=e[h],l&=~d}return ta=n,wu(),r}function By(e,n){wt=null,P.H=$l,n===br||n===Vu?(n=ig(),Xt=3):n===Jh?(n=ig(),Xt=4):Xt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Dt===null&&(de=1,Yu(e,Ln(n,e.current)))}function qy(){var e=Tn.current;return e===null?!0:(jt&4194048)===jt?zn===null:(jt&62914560)===jt||(jt&536870912)!==0?e===zn:!1}function Hy(){var e=P.H;return P.H=$l,e===null?$l:e}function Fy(){var e=P.A;return P.A=Q1,e}function sc(){de=4,ja||(jt&4194048)!==jt&&Tn.current!==null||(Ir=!0),(Va&134217727)===0&&(Us&134217727)===0||ne===null||La(ne,jt,An,!1)}function $f(e,n,r){var l=Gt;Gt|=2;var h=Hy(),d=Fy();(ne!==e||jt!==n)&&(ic=null,Mr(e,n)),n=!1;var _=de;t:do try{if(Xt!==0&&Dt!==null){var b=Dt,I=bn;switch(Xt){case 8:Xf(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var H=Xt;if(Xt=0,bn=null,Or(e,b,I,H),r&&Ir){_=0;break t}break;default:H=Xt,Xt=0,bn=null,Or(e,b,I,H)}}X1(),_=de;break}catch(J){By(e,J)}while(!0);return n&&e.shellSuspendCounter++,Fi=Cs=null,Gt=l,P.H=h,P.A=d,Dt===null&&(ne=null,jt=0,wu()),_}function X1(){for(;Dt!==null;)Gy(Dt)}function $1(e,n){var r=Gt;Gt|=2;var l=Hy(),h=Fy();ne!==e||jt!==n?(ic=null,nc=en()+500,Mr(e,n)):Ir=Qn(e,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var d=bn;e:switch(Xt){case 1:Xt=0,bn=null,Or(e,n,d,1);break;case 2:case 9:if(eg(d)){Xt=0,bn=null,Qy(n);break}n=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ci(e)},d.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:eg(d)?(Xt=0,bn=null,Qy(n)):(Xt=0,bn=null,Or(e,n,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var b=Dt;if(_?Iv(_):b.stateNode.complete){Xt=0,bn=null;var I=b.sibling;if(I!==null)Dt=I;else{var H=b.return;H!==null?(Dt=H,rc(H)):Dt=null}break e}}Xt=0,bn=null,Or(e,n,d,5);break;case 6:Xt=0,bn=null,Or(e,n,d,6);break;case 8:Xf(),de=6;break t;default:throw Error(s(462))}}Z1();break}catch(J){By(e,J)}while(!0);return Fi=Cs=null,P.H=l,P.A=h,Gt=r,Dt!==null?0:(ne=null,jt=0,wu(),de)}function Z1(){for(;Dt!==null&&!wh();)Gy(Dt)}function Gy(e){var n=py(e.alternate,e,ta);e.memoizedProps=e.pendingProps,n===null?rc(e):Dt=n}function Qy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=uy(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=uy(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:hf(n);default:yy(r,n),n=Dt=Fp(n,ta),n=py(r,n,ta)}e.memoizedProps=e.pendingProps,n===null?rc(e):Dt=n}function Or(e,n,r,l){Fi=Cs=null,hf(n),Ar=null,ql=0;var h=n.return;try{if(k1(e,h,n,r,jt)){de=1,Yu(e,Ln(r,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;de=1,Yu(e,Ln(r,e.current)),Dt=null;return}n.flags&32768?(Lt||l===1?e=!0:Ir||(jt&536870912)!==0?e=!1:(ja=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Yy(n,ja);return}e=n.return;var r=q1(n.alternate,n,ta);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);de===0&&(de=5)}function Yy(e,n){do{var r=H1(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);de=6,Dt=null}function Ky(e,n,r,l,h,d,_,b,I){e.cancelPendingCommit=null;do lc();while(Me!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Uh,Ch(e,r,d,_,b,I),e===ne&&(Dt=ne=null,jt=0),Vr=n,Oa=e,ea=r,Qf=d,Yf=h,Uy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eS(fa,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,h=at.p,at.p=2,_=Gt,Gt|=4;try{F1(e,n,r)}finally{Gt=_,at.p=h,P.T=l}}Me=1,Xy(),$y(),Zy()}}function Xy(){if(Me===1){Me=0;var e=Oa,n=Vr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Ny(n,e);var d=od,_=Op(e.containerInfo),b=d.focusedElem,I=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Mp(b.ownerDocument.documentElement,b)){if(I!==null&&jh(b)){var H=I.start,J=I.end;if(J===void 0&&(J=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(J,b.value.length);else{var et=b.ownerDocument||document,Y=et&&et.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),mt=b.textContent.length,vt=Math.min(I.start,mt),ee=I.end===void 0?vt:Math.min(I.end,mt);!$.extend&&vt>ee&&(_=ee,ee=vt,vt=_);var k=Vp(b,vt),O=Vp(b,ee);if(k&&O&&($.rangeCount!==1||$.anchorNode!==k.node||$.anchorOffset!==k.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var B=et.createRange();B.setStart(k.node,k.offset),$.removeAllRanges(),vt>ee?($.addRange(B),$.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),$.addRange(B))}}}}for(et=[],$=b;$=$.parentNode;)$.nodeType===1&&et.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<et.length;b++){var W=et[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}_c=!!ld,od=ld=null}finally{Gt=h,at.p=l,P.T=r}}e.current=n,Me=2}}function $y(){if(Me===2){Me=0;var e=Oa,n=Vr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Ay(e,n.alternate,n)}finally{Gt=h,at.p=l,P.T=r}}Me=3}}function Zy(){if(Me===4||Me===3){Me=0,Zo();var e=Oa,n=Vr,r=ea,l=Uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Vr=Oa=null,Jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ma=null),Pi(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=P.T,h=at.p,at.p=2,P.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{P.T=n,at.p=h}}(ea&3)!==0&&lc(),Ci(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Kf?so++:(so=0,Kf=e):so=0,ro(0)}}function Jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zl(n)))}function lc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(Me!==5)return!1;var e=Oa,n=Qf;Qf=0;var r=Pi(ea),l=P.T,h=at.p;try{at.p=32>r?32:r,P.T=null,r=Yf,Yf=null;var d=Oa,_=ea;if(Me=0,Vr=Oa=null,ea=0,(Gt&6)!==0)throw Error(s(331));var b=Gt;if(Gt|=4,My(d.current),Iy(d,d.current,_,r),Gt=b,ro(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{at.p=h,P.T=l,Jy(e,n)}}function tv(e,n,r){n=Ln(r,n),n=xf(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(hs(e,2),Ci(e))}function $t(e,n,r){if(e.tag===3)tv(e,e,r);else for(;n!==null;){if(n.tag===3){tv(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ma===null||!Ma.has(l))){e=Ln(r,e),r=ey(2),l=Ca(n,r,2),l!==null&&(ny(r,l,n,e),hs(l,2),Ci(l));break}}n=n.return}}function Zf(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Y1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Hf=!0,h.add(r),e=J1.bind(null,e,n,r),n.then(e,e))}function J1(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ne===e&&(jt&r)===r&&(de===4||de===3&&(jt&62914560)===jt&&300>en()-ec?(Gt&2)===0&&Mr(e,0):Ff|=r,jr===jt&&(jr=0)),Ci(e)}function ev(e,n){n===0&&(n=iu()),e=ws(e,n),e!==null&&(hs(e,n),Ci(e))}function W1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),ev(e,r)}function tS(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ev(e,r)}function eS(e,n){return Ve(e,n)}var oc=null,Lr=null,Jf=!1,uc=!1,Wf=!1,Ua=0;function Ci(e){e!==Lr&&e.next===null&&(Lr===null?oc=Lr=e:Lr=Lr.next=e),uc=!0,Jf||(Jf=!0,iS())}function ro(e,n){if(!Wf&&uc){Wf=!0;do for(var r=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-me(42|e)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,sv(l,d))}else d=jt,d=ci(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(r=!0,sv(l,d));l=l.next}while(r);Wf=!1}}function nS(){nv()}function nv(){uc=Jf=!1;var e=0;Ua!==0&&dS()&&(e=Ua);for(var n=en(),r=null,l=oc;l!==null;){var h=l.next,d=iv(l,n);d===0?(l.next=null,r===null?oc=h:r.next=h,h===null&&(Lr=r)):(r=l,(e!==0||(d&3)!==0)&&(uc=!0)),l=h}Me!==0&&Me!==5||ro(e),Ua!==0&&(Ua=0)}function iv(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-me(d),b=1<<_,I=h[_];I===-1?((b&r)===0||(b&l)!==0)&&(h[_]=Rh(b,n)):I<=n&&(e.expiredLanes|=b),d&=~b}if(n=ne,r=jt,r=ci(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&ha(l),Pi(r)){case 2:case 8:r=gl;break;case 32:r=fa;break;case 268435456:r=Jo;break;default:r=fa}return l=av.bind(null,e),r=Ve(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&ha(l),e.callbackPriority=2,e.callbackNode=null,2}function av(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var l=jt;return l=ci(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ky(e,l,n),iv(e,en()),e.callbackNode!=null&&e.callbackNode===r?av.bind(null,e):null)}function sv(e,n){if(lc())return null;ky(e,n,!0)}function iS(){pS(function(){(Gt&6)!==0?Ve(pl,nS):nv()})}function td(){if(Ua===0){var e=Tr;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ua=e}return Ua}function rv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rr(""+e)}function lv(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function aS(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=rv((h[Le]||null).action),_=l.submitter;_&&(n=(n=_[Le]||null)?rv(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var b=new Ti("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var I=_?lv(h,_):new FormData(h);Ef(r,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=_?lv(h,_):new FormData(h),Ef(r,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var ed=0;ed<Lh.length;ed++){var nd=Lh[ed],sS=nd.toLowerCase(),rS=nd[0].toUpperCase()+nd.slice(1);ti(sS,"on"+rS)}ti(Pp,"onAnimationEnd"),ti(kp,"onAnimationIteration"),ti(zp,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(S1,"onTransitionRun"),ti(b1,"onTransitionStart"),ti(A1,"onTransitionCancel"),ti(Bp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function ov(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var b=l[_],I=b.instance,H=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=H;try{d(h)}catch(J){Au(J)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(b=l[_],I=b.instance,H=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=H;try{d(h)}catch(J){Au(J)}h.currentTarget=null,d=I}}}}function It(e,n){var r=n[er];r===void 0&&(r=n[er]=new Set);var l=e+"__bubble";r.has(l)||(uv(n,e,2,!1),r.add(l))}function id(e,n,r){var l=0;n&&(l|=4),uv(r,e,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[cc]){e[cc]=!0,_l.forEach(function(r){r!=="selectionchange"&&(lS.has(r)||id(r,!1,e),id(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,id("selectionchange",!1,n))}}function uv(e,n,r,l){switch(Pv(n)){case 2:var h=OS;break;case 8:h=LS;break;default:h=_d}r=h.bind(null,n,r,e),h=void 0,!ys||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function sd(e,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=mi(b),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}b=b.parentNode}}l=l.return}va(function(){var H=d,J=jn(r),et=[];t:{var Y=qp.get(e);if(Y!==void 0){var $=Ti,mt=e;switch(e){case"keypress":if(_s(r)===0)break t;case"keydown":case"keyup":$=Tu;break;case"focusin":mt="focus",$=Ts;break;case"focusout":mt="blur",$=Ts;break;case"beforeblur":case"afterblur":$=Ts;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Pp:case kp:case zp:$=mu;break;case Bp:$=A;break;case"scroll":case"scrollend":$=Il;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Bi;break;case"toggle":case"beforetoggle":$=At}var vt=(n&4)!==0,ee=!vt&&(e==="scroll"||e==="scrollend"),k=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var O=H,B;O!==null;){var W=O;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||k===null||(W=$n(O,k),W!=null&&vt.push(oo(O,W,B))),ee)break;O=O.return}0<vt.length&&(Y=new $(Y,mt,null,r,J),et.push({event:Y,listeners:vt}))}}if((n&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",Y&&r!==Cl&&(mt=r.relatedTarget||r.fromElement)&&(mi(mt)||mt[fi]))break t;if(($||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(mt=r.relatedTarget||r.toElement,$=H,mt=mt?mi(mt):null,mt!==null&&(ee=u(mt),vt=mt.tag,mt!==ee||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):($=null,mt=H),$!==mt)){if(vt=jl,W="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Bi,W="onPointerLeave",k="onPointerEnter",O="pointer"),ee=$==null?Y:yn($),B=mt==null?Y:yn(mt),Y=new vt(W,O+"leave",$,r,J),Y.target=ee,Y.relatedTarget=B,W=null,mi(J)===H&&(vt=new vt(k,O+"enter",mt,r,J),vt.target=B,vt.relatedTarget=ee,W=vt),ee=W,$&&mt)e:{for(vt=oS,k=$,O=mt,B=0,W=k;W;W=vt(W))B++;W=0;for(var gt=O;gt;gt=vt(gt))W++;for(;0<B-W;)k=vt(k),B--;for(;0<W-B;)O=vt(O),W--;for(;B--;){if(k===O||O!==null&&k===O.alternate){vt=k;break e}k=vt(k),O=vt(O)}vt=null}else vt=null;$!==null&&cv(et,Y,$,vt,!1),mt!==null&&ee!==null&&cv(et,ee,mt,vt,!0)}}t:{if(Y=H?yn(H):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var qt=Rp;else if(wp(Y))if(Cp)qt=_1;else{qt=y1;var pt=g1}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&sr(H.elementType)&&(qt=Rp):qt=v1;if(qt&&(qt=qt(e,H))){xp(et,qt,r,J);break t}pt&&pt(e,Y,H),e==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&wl(Y,"number",Y.value)}switch(pt=H?yn(H):window,e){case"focusin":(wp(pt)||pt.contentEditable==="true")&&(dr=pt,Vh=H,Ul=null);break;case"focusout":Ul=Vh=dr=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Lp(et,r,J);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":Lp(et,r,J)}var Rt;if(Ft)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else fr?Ss(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ai&&r.locale!=="ko"&&(fr||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&fr&&(Rt=Dl()):(Ei=J,Nl="value"in Ei?Ei.value:Ei.textContent,fr=!0)),pt=hc(H,Vt),0<pt.length&&(Vt=new bi(Vt,e,null,r,J),et.push({event:Vt,listeners:pt}),Rt?Vt.data=Rt:(Rt=hr(r),Rt!==null&&(Vt.data=Rt)))),(Rt=Mn?f1(e,r):d1(e,r))&&(Vt=hc(H,"onBeforeInput"),0<Vt.length&&(pt=new bi("onBeforeInput","beforeinput",null,r,J),et.push({event:pt,listeners:Vt}),pt.data=Rt)),aS(et,e,H,r,J)}ov(et,n)})}function oo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(e,r),h!=null&&l.unshift(oo(e,h,d)),h=$n(e,n),h!=null&&l.push(oo(e,h,d))),e.tag===3)return l;e=e.return}return[]}function oS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,n,r,l,h){for(var d=n._reactName,_=[];r!==null&&r!==l;){var b=r,I=b.alternate,H=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||H===null||(I=H,h?(H=$n(r,d),H!=null&&_.unshift(oo(r,H,I))):h||(H=$n(r,d),H!=null&&_.push(oo(r,H,I)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function hv(e){return(typeof e=="string"?e:""+e).replace(uS,`
`).replace(cS,"")}function fv(e,n){return n=hv(n),hv(e)===n}function te(e,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,r,l);break;case"style":Rl(e,l,d);break;case"data":if(n!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=rr(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=rr(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=rr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":It("beforetoggle",e),It("toggle",e),ir(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,ir(e,r,l))}}function rd(e,n,r,l,h,d){switch(r){case"style":Rl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=e[Le]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ir(e,r,l)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,d,_,r,null)}}h&&te(e,n,"srcSet",r.srcSet,r,null),l&&te(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var b=d=_=h=null,I=null,H=null;for(l in r)if(r.hasOwnProperty(l)){var J=r[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":I=J;break;case"defaultChecked":H=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,n));break;default:te(e,n,l,J,r,null)}}ou(e,d,b,I,H,_,h,!1);return;case"select":It("invalid",e),l=_=d=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:te(e,n,h,b,r,null)}n=d,r=_,e.multiple=!!l,n!=null?ma(e,!!l,n,!1):r!=null&&ma(e,!!l,r,!0);return;case"textarea":It("invalid",e),d=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(b=r[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:te(e,n,_,b,r,null)}pa(e,l,h,d);return;case"option":for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":te(e,n,I,l,r,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<lo.length;l++)It(lo[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(l=r[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,H,l,r,null)}return;default:if(sr(n)){for(J in r)r.hasOwnProperty(J)&&(l=r[J],l!==void 0&&rd(e,n,J,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&te(e,n,b,l,r,null))}function hS(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,I=null,H=null,J=null;for($ in r){var et=r[$];if(r.hasOwnProperty($)&&et!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=et;default:l.hasOwnProperty($)||te(e,n,$,null,l,et)}}for(var Y in l){var $=l[Y];if(et=r[Y],l.hasOwnProperty(Y)&&($!=null||et!=null))switch(Y){case"type":d=$;break;case"name":h=$;break;case"checked":H=$;break;case"defaultChecked":J=$;break;case"value":_=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==et&&te(e,n,Y,$,l,et)}}ar(e,_,b,I,H,J,d,h);return;case"select":$=_=b=Y=null;for(d in r)if(I=r[d],r.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||te(e,n,d,null,l,I)}for(h in l)if(d=l[h],I=r[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":Y=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==I&&te(e,n,h,d,l,I)}n=b,r=_,l=$,Y!=null?ma(e,!!r,Y,!1):!!l!=!!r&&(n!=null?ma(e,!!r,n,!0):ma(e,!!r,r?[]:"",!1));return;case"textarea":$=Y=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:te(e,n,b,null,l,h)}for(_ in l)if(h=l[_],d=r[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Y=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,n,_,h,l,d)}uu(e,Y,$);return;case"option":for(var mt in r)Y=r[mt],r.hasOwnProperty(mt)&&Y!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?e.selected=!1:te(e,n,mt,null,l,Y));for(I in l)Y=l[I],$=r[I],l.hasOwnProperty(I)&&Y!==$&&(Y!=null||$!=null)&&(I==="selected"?e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":te(e,n,I,Y,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)Y=r[vt],r.hasOwnProperty(vt)&&Y!=null&&!l.hasOwnProperty(vt)&&te(e,n,vt,null,l,Y);for(H in l)if(Y=l[H],$=r[H],l.hasOwnProperty(H)&&Y!==$&&(Y!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:te(e,n,H,Y,l,$)}return;default:if(sr(n)){for(var ee in r)Y=r[ee],r.hasOwnProperty(ee)&&Y!==void 0&&!l.hasOwnProperty(ee)&&rd(e,n,ee,void 0,l,Y);for(J in l)Y=l[J],$=r[J],!l.hasOwnProperty(J)||Y===$||Y===void 0&&$===void 0||rd(e,n,J,Y,l,$);return}}for(var k in r)Y=r[k],r.hasOwnProperty(k)&&Y!=null&&!l.hasOwnProperty(k)&&te(e,n,k,null,l,Y);for(et in l)Y=l[et],$=r[et],!l.hasOwnProperty(et)||Y===$||Y==null&&$==null||te(e,n,et,Y,l,$)}function dv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&dv(_)){for(_=0,b=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],H=I.startTime;if(H>b)break;var J=I.transferSize,et=I.initiatorType;J&&dv(et)&&(I=I.responseEnd,_+=J*(I<b?1:(b-H)/(I-H)))}if(--l,n+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,od=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function mv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function dS(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(e){return yv.resolve(null).then(e).catch(gS)}:gv;function gS(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function vv(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),zr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")uo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,uo(r);for(var d=r.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&uo(e.ownerDocument.body);r=h}while(r);zr(n)}function _v(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hd(r),nr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function yS(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function vS(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Bn(e.nextSibling),e===null))return null;return e}function Ev(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _S(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function Tv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Sv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function bv(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function uo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);nr(e)}var qn=new Map,Av=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var na=at.d;at.d={f:ES,r:TS,D:SS,C:bS,L:AS,m:wS,X:RS,S:xS,M:CS};function ES(){var e=na.f(),n=ac();return e||n}function TS(e){var n=In(e);n!==null&&n.tag===5&&n.type==="form"?Bg(n):na.r(e)}var Ur=typeof document>"u"?null:document;function wv(e,n,r){var l=Ur;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Av.has(h)||(Av.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),Se(n),l.head.appendChild(n)))}}function SS(e){na.D(e),wv("dns-prefetch",e,null)}function bS(e,n){na.C(e,n),wv("preconnect",e,n)}function AS(e,n,r){na.L(e,n,r);var l=Ur;if(l&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+rn(r.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(n){case"style":d=Pr(e);break;case"script":d=kr(e)}qn.has(d)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),qn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(d))||n==="script"&&l.querySelector(ho(d))||(n=l.createElement("link"),Ge(n,"link",e),Se(n),l.head.appendChild(n)))}}function wS(e,n){na.m(e,n);var r=Ur;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=kr(e)}if(!qn.has(d)&&(e=S({rel:"modulepreload",href:e},n),qn.set(d,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ho(d)))return}l=r.createElement("link"),Ge(l,"link",e),Se(l),r.head.appendChild(l)}}}function xS(e,n,r){na.S(e,n,r);var l=Ur;if(l&&e){var h=pi(l).hoistableStyles,d=Pr(e);n=n||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(co(d)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=qn.get(d))&&pd(e,r);var I=_=l.createElement("link");Se(I),Ge(I,"link",e),I._p=new Promise(function(H,J){I.onload=H,I.onerror=J}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,mc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function RS(e,n){na.X(e,n);var r=Ur;if(r&&e){var l=pi(r).hoistableScripts,h=kr(e),d=l.get(h);d||(d=r.querySelector(ho(h)),d||(e=S({src:e,async:!0},n),(n=qn.get(h))&&gd(e,n),d=r.createElement("script"),Se(d),Ge(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function CS(e,n){na.M(e,n);var r=Ur;if(r&&e){var l=pi(r).hoistableScripts,h=kr(e),d=l.get(h);d||(d=r.querySelector(ho(h)),d||(e=S({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&gd(e,n),d=r.createElement("script"),Se(d),Ge(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xv(e,n,r,l){var h=(h=xt.current)?dc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pr(r.href),r=pi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pr(r.href);var d=pi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(co(e)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(e,r),d||NS(h,e,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=kr(r),r=pi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pr(e){return'href="'+rn(e)+'"'}function co(e){return'link[rel="stylesheet"]['+e+"]"}function Rv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function NS(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",r),Se(n),e.head.appendChild(n))}function kr(e){return'[src="'+rn(e)+'"]'}function ho(e){return"script[async]"+e}function Cv(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+rn(r.href)+'"]');if(l)return n.instance=l,Se(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Ge(l,"style",h),mc(l,r.precedence,e),n.instance=l;case"stylesheet":h=Pr(r.href);var d=e.querySelector(co(h));if(d)return n.state.loading|=4,n.instance=d,Se(d),d;l=Rv(r),(h=qn.get(h))&&pd(l,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var _=d;return _._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Ge(d,"link",l),n.state.loading|=4,mc(d,r.precedence,e),n.instance=d;case"script":return d=kr(r.src),(h=e.querySelector(ho(d)))?(n.instance=h,Se(h),h):(l=r,(h=qn.get(d))&&(l=S({},r),gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,r.precedence,e));return n.instance}function mc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===n)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function Nv(e,n,r){if(pc===null){var l=new Map,h=pc=new Map;h.set(r,l)}else h=pc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var d=r[h];if(!(d[di]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Dv(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function DS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Iv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function IS(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pr(l.href),d=n.querySelector(co(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,Se(d);return}d=n.ownerDocument||n,l=Rv(l),(h=qn.get(h))&&pd(l,h),d=d.createElement("link"),Se(d);var _=d;_._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Ge(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var yd=0;function jS(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*fS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(VS,e),yc=null,gc.call(e))}function VS(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var l=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=r.get(_)||l,d===l&&r.set(null,h),r.set(_,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fo={$$typeof:it,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function MS(e,n,r,l,h,d,_,b,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function jv(e,n,r,l,h,d,_,b,I,H,J,et){return e=new MS(e,n,r,_,I,H,J,et,b),n=1,d===!0&&(n|=24),d=En(3,null,null,n),e.current=d,d.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},Wh(d),e}function Vv(e){return e?(e=gr,e):gr}function Mv(e,n,r,l,h,d){h=Vv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ra(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Ca(e,l,n),r!==null&&(fn(r,e,n),Fl(r,e,n))}function Ov(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function vd(e,n){Ov(e,n),(e=e.alternate)&&Ov(e,n)}function Lv(e){if(e.tag===13||e.tag===31){var n=ws(e,67108864);n!==null&&fn(n,e,67108864),vd(e,67108864)}}function Uv(e){if(e.tag===13||e.tag===31){var n=wn();n=ds(n);var r=ws(e,n);r!==null&&fn(r,e,n),vd(e,n)}}var _c=!0;function OS(e,n,r,l){var h=P.T;P.T=null;var d=at.p;try{at.p=2,_d(e,n,r,l)}finally{at.p=d,P.T=h}}function LS(e,n,r,l){var h=P.T;P.T=null;var d=at.p;try{at.p=8,_d(e,n,r,l)}finally{at.p=d,P.T=h}}function _d(e,n,r,l){if(_c){var h=Ed(l);if(h===null)sd(e,n,l,Ec,r),kv(e,l);else if(PS(h,e,n,r,l))l.stopPropagation();else if(kv(e,l),n&4&&-1<US.indexOf(e)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var I=1<<31-me(_);b.entanglements[1]|=I,_&=~I}Ci(d),(Gt&6)===0&&(nc=en()+500,ro(0))}}break;case 31:case 13:b=ws(d,2),b!==null&&fn(b,d,2),ac(),vd(d,2)}if(d=Ed(l),d===null&&sd(e,n,l,Ec,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else sd(e,n,l,null,r)}}function Ed(e){return e=jn(e),Td(e)}var Ec=null;function Td(e){if(Ec=null,e=mi(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function Pv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case pl:return 2;case gl:return 8;case fa:case xh:return 32;case Jo:return 268435456;default:return 32}default:return 32}}var Sd=!1,ka=null,za=null,Ba=null,mo=new Map,po=new Map,qa=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(e,n){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function go(e,n,r,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&Lv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function PS(e,n,r,l,h){switch(n){case"focusin":return ka=go(ka,e,n,r,l,h),!0;case"dragenter":return za=go(za,e,n,r,l,h),!0;case"mouseover":return Ba=go(Ba,e,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return mo.set(d,go(mo.get(d)||null,e,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,po.set(d,go(po.get(d)||null,e,n,r,l,h)),!0}return!1}function zv(e){var n=mi(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){Uv(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){Uv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ed(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Cl=l,r.target.dispatchEvent(l),Cl=null}else return n=In(r),n!==null&&Lv(n),e.blockedOn=r,!1;n.shift()}return!0}function Bv(e,n,r){Tc(e)&&r.delete(n)}function kS(){Sd=!1,ka!==null&&Tc(ka)&&(ka=null),za!==null&&Tc(za)&&(za=null),Ba!==null&&Tc(Ba)&&(Ba=null),mo.forEach(Bv),po.forEach(Bv)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kS)))}var bc=null;function qv(e){bc!==e&&(bc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Td(l||r)===null)continue;break}var d=In(r);d!==null&&(e.splice(n,3),n-=3,Ef(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function zr(e){function n(I){return Sc(I,e)}ka!==null&&Sc(ka,e),za!==null&&Sc(za,e),Ba!==null&&Sc(Ba,e),mo.forEach(n),po.forEach(n);for(var r=0;r<qa.length;r++){var l=qa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qa.length&&(r=qa[0],r.blockedOn===null);)zv(r),r.blockedOn===null&&qa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],_=h[Le]||null;if(typeof d=="function")_||qv(r);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)b=_.formAction;else if(Td(h)!==null)continue}else b=_.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),qv(r)}}}function Hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}Ac.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=wn();Mv(r,l,e,n,null,null)},Ac.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Mv(e.current,2,null,e,null,null),ac(),n[fi]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<qa.length&&n!==0&&n<qa[r].priority;r++);qa.splice(r,0,e),r===0&&zv(e)}};var Fv=t.version;if(Fv!=="19.2.3")throw Error(s(527,Fv,"19.2.3"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var zS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Gn=wc.inject(zS),ze=wc}catch{}}return vo.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",h=Zg,d=Jg,_=Wg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=jv(e,1,!1,null,null,r,l,null,h,d,_,Hv),e[fi]=n.current,ad(e),new bd(n)},vo.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,h="",d=Zg,_=Jg,b=Wg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=jv(e,1,!0,n,r??null,l,h,I,d,_,b,Hv),n.context=Vv(null),r=n.current,l=wn(),l=ds(l),h=Ra(l),h.callback=null,Ca(r,h,l),r=l,n.current.lanes=r,hs(n,r),Ci(n),e[fi]=n.current,ad(e),new Ac(n)},vo.version="19.2.3",vo}var t_;function $S(){if(t_)return xd.exports;t_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xd.exports=XS(),xd.exports}var ZS=$S();const JS=RE(ZS);var e_="popstate";function WS(a={}){function t(o,u){let{pathname:f="/",search:p="",hash:g=""}=Ys(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gd("",{pathname:f,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,v=g.indexOf("#");p=v===-1?g:g.slice(0,v)}return p+"#"+(typeof u=="string"?u:No(u))}function s(o,u){gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return eb(t,i,s,a)}function ue(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function gn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tb(){return Math.random().toString(36).substring(2,10)}function n_(a,t){return{usr:a.state,key:a.key,idx:t}}function Gd(a,t,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Ys(t):t,state:i,key:t&&t.key||s||tb()}}function No({pathname:a="/",search:t="",hash:i=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ys(a){let t={};if(a){let i=a.indexOf("#");i>=0&&(t.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function eb(a,t,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,v=T();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function T(){return(f.state||{idx:null}).idx}function S(){p="POP";let G=T(),Z=G==null?null:G-v;v=G,g&&g({action:p,location:Q.location,delta:Z})}function w(G,Z){p="PUSH";let F=Gd(Q.location,G,Z);i&&i(F,G),v=T()+1;let it=n_(F,v),ft=Q.createHref(F);try{f.pushState(it,"",ft)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(ft)}u&&g&&g({action:p,location:Q.location,delta:1})}function j(G,Z){p="REPLACE";let F=Gd(Q.location,G,Z);i&&i(F,G),v=T();let it=n_(F,v),ft=Q.createHref(F);f.replaceState(it,"",ft),u&&g&&g({action:p,location:Q.location,delta:0})}function q(G){return nb(G)}let Q={get action(){return p},get location(){return a(o,f)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(e_,S),g=G,()=>{o.removeEventListener(e_,S),g=null}},createHref(G){return t(o,G)},createURL:q,encodeLocation(G){let Z=q(G);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:j,go(G){return f.go(G)}};return Q}function nb(a,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ue(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:No(a);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function NE(a,t,i="/"){return ib(a,t,i,!1)}function ib(a,t,i,s){let o=typeof t=="string"?Ys(t):t,u=sa(o.pathname||"/",i);if(u==null)return null;let f=DE(a);ab(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let v=pb(u);p=db(f[g],v,s)}return p}function DE(a,t=[],i=[],s="",o=!1){let u=(f,p,g=o,v)=>{let T={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ue(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=ia([s,T.relativePath]),w=i.concat(T);f.children&&f.children.length>0&&(ue(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),DE(f.children,t,w,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:hb(S,f.index),routesMeta:w})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of IE(f.path))u(f,p,!0,g)}),t}function IE(a){let t=a.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=IE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function ab(a){a.sort((t,i)=>t.score!==i.score?i.score-t.score:fb(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var sb=/^:[\w-]+$/,rb=3,lb=2,ob=1,ub=10,cb=-2,i_=a=>a==="*";function hb(a,t){let i=a.split("/"),s=i.length;return i.some(i_)&&(s+=cb),t&&(s+=lb),i.filter(o=>!i_(o)).reduce((o,u)=>o+(sb.test(u)?rb:u===""?ob:ub),s)}function fb(a,t){return a.length===t.length&&a.slice(0,-1).every((s,o)=>s===t[o])?a[a.length-1]-t[t.length-1]:0}function db(a,t,i=!1){let{routesMeta:s}=a,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],v=p===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",S=zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},T),w=g.route;if(!S&&v&&i&&!s[s.length-1].route.index&&(S=zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ia([u,S.pathname]),pathnameBase:_b(ia([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=ia([u,S.pathnameBase]))}return f}function zc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=mb(a.path,a.caseSensitive,a.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:T,isOptional:S},w)=>{if(T==="*"){let q=p[w]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const j=p[w];return S&&!j?v[T]=void 0:v[T]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:a}}function mb(a,t=!1,i=!0){gn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function pb(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function sa(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gb=a=>jE.test(a);function yb(a,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Ys(a):a,u;if(i)if(gb(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=a_(i.substring(1),"/"):u=a_(i,t)}else u=t;return{pathname:u,search:Eb(s),hash:Tb(o)}}function a_(a,t){let i=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Dd(a,t,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vb(a){return a.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Em(a){let t=vb(a);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Tm(a,t,i,s=!1){let o;typeof a=="string"?o=Ys(a):(o={...a},ue(!o.pathname||!o.pathname.includes("?"),Dd("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),Dd("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),Dd("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=i;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?t[S]:"/"}let g=yb(o,p),v=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(v||T)&&(g.pathname+="/"),g}var ia=a=>a.join("/").replace(/\/\/+/g,"/"),_b=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Eb=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Tb=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Sb=class{constructor(a,t,i,s=!1){this.status=a,this.statusText=t||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function bb(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Ab(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var VE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ME(a,t){let i=a;if(typeof i!="string"||!jE.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(VE)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),p=sa(f.pathname,t);f.origin===u.origin&&p!=null?i=p+f.search+f.hash:o=!0}catch{gn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OE=["POST","PUT","PATCH","DELETE"];new Set(OE);var wb=["GET",...OE];new Set(wb);var el=M.createContext(null);el.displayName="DataRouter";var nh=M.createContext(null);nh.displayName="DataRouterState";var xb=M.createContext(!1),LE=M.createContext({isTransitioning:!1});LE.displayName="ViewTransition";var Rb=M.createContext(new Map);Rb.displayName="Fetchers";var Cb=M.createContext(null);Cb.displayName="Await";var Nn=M.createContext(null);Nn.displayName="Navigation";var ko=M.createContext(null);ko.displayName="Location";var ri=M.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var Sm=M.createContext(null);Sm.displayName="RouteError";var UE="REACT_ROUTER_ERROR",Nb="REDIRECT",Db="ROUTE_ERROR_RESPONSE";function Ib(a){if(a.startsWith(`${UE}:${Nb}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function jb(a){if(a.startsWith(`${UE}:${Db}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Sb(t.status,t.statusText,t.data)}catch{}}function Vb(a,{relative:t}={}){ue(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=M.useContext(Nn),{hash:o,pathname:u,search:f}=zo(a,{relative:t}),p=u;return i!=="/"&&(p=u==="/"?i:ia([i,u])),s.createHref({pathname:p,search:f,hash:o})}function nl(){return M.useContext(ko)!=null}function Ui(){return ue(nl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ko).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kE(a){M.useContext(Nn).static||M.useLayoutEffect(a)}function il(){let{isDataRoute:a}=M.useContext(ri);return a?Kb():Mb()}function Mb(){ue(nl(),"useNavigate() may be used only in the context of a <Router> component.");let a=M.useContext(el),{basename:t,navigator:i}=M.useContext(Nn),{matches:s}=M.useContext(ri),{pathname:o}=Ui(),u=JSON.stringify(Em(s)),f=M.useRef(!1);return kE(()=>{f.current=!0}),M.useCallback((g,v={})=>{if(gn(f.current,PE),!f.current)return;if(typeof g=="number"){i.go(g);return}let T=Tm(g,JSON.parse(u),o,v.relative==="path");a==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:ia([t,T.pathname])),(v.replace?i.replace:i.push)(T,v.state,v)},[t,i,u,o,a])}var Ob=M.createContext(null);function Lb(a){let t=M.useContext(ri).outlet;return M.useMemo(()=>t&&M.createElement(Ob.Provider,{value:a},t),[t,a])}function zo(a,{relative:t}={}){let{matches:i}=M.useContext(ri),{pathname:s}=Ui(),o=JSON.stringify(Em(i));return M.useMemo(()=>Tm(a,JSON.parse(o),s,t==="path"),[a,o,s,t])}function Ub(a,t){return zE(a,t)}function zE(a,t,i,s,o){ue(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=M.useContext(Nn),{matches:f}=M.useContext(ri),p=f[f.length-1],g=p?p.params:{},v=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let F=S&&S.path||"";qE(v,!S||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Ui(),j;if(t){let F=typeof t=="string"?Ys(t):t;ue(T==="/"||F.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${F.pathname}" was given in the \`location\` prop.`),j=F}else j=w;let q=j.pathname||"/",Q=q;if(T!=="/"){let F=T.replace(/^\//,"").split("/");Q="/"+q.replace(/^\//,"").split("/").slice(F.length).join("/")}let G=NE(a,{pathname:Q});gn(S||G!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),gn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=qb(G&&G.map(F=>Object.assign({},F,{params:Object.assign({},g,F.params),pathname:ia([T,u.encodeLocation?u.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?T:ia([T,u.encodeLocation?u.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),f,i,s,o);return t&&Z?M.createElement(ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},Z):Z}function Pb(){let a=Yb(),t=bb(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),i?M.createElement("pre",{style:o},i):null,f)}var kb=M.createElement(Pb,null),BE=class extends M.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const i=jb(a.digest);i&&(a=i)}let t=a!==void 0?M.createElement(ri.Provider,{value:this.props.routeContext},M.createElement(Sm.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?M.createElement(zb,{error:a},t):t}};BE.contextType=xb;var Id=new WeakMap;function zb({children:a,error:t}){let{basename:i}=M.useContext(Nn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Ib(t.digest);if(s){let o=Id.get(t);if(o)throw o;let u=ME(s.location,i);if(VE&&!Id.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Id.set(t,f),f}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function Bb({routeContext:a,match:t,children:i}){let s=M.useContext(el);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(ri.Provider,{value:a},i)}function qb(a,t=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i?.errors;if(f!=null){let T=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ue(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let p=!1,g=-1;if(i)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=T),S.route.id){let{loaderData:w,errors:j}=i,q=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!j||j[S.route.id]===void 0);if(S.route.lazy||q){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let v=i&&s?(T,S)=>{s(T,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Ab(i.matches),errorInfo:S})}:void 0;return u.reduceRight((T,S,w)=>{let j,q=!1,Q=null,G=null;i&&(j=f&&S.route.id?f[S.route.id]:void 0,Q=S.route.errorElement||kb,p&&(g<0&&w===0?(qE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,G=null):g===w&&(q=!0,G=S.route.hydrateFallbackElement||null)));let Z=t.concat(u.slice(0,w+1)),F=()=>{let it;return j?it=Q:q?it=G:S.route.Component?it=M.createElement(S.route.Component,null):S.route.element?it=S.route.element:it=T,M.createElement(Bb,{match:S,routeContext:{outlet:T,matches:Z,isDataRoute:i!=null},children:it})};return i&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?M.createElement(BE,{location:i.location,revalidation:i.revalidation,component:Q,error:j,children:F(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:v}):F()},null)}function bm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hb(a){let t=M.useContext(el);return ue(t,bm(a)),t}function Fb(a){let t=M.useContext(nh);return ue(t,bm(a)),t}function Gb(a){let t=M.useContext(ri);return ue(t,bm(a)),t}function Am(a){let t=Gb(a),i=t.matches[t.matches.length-1];return ue(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function Qb(){return Am("useRouteId")}function Yb(){let a=M.useContext(Sm),t=Fb("useRouteError"),i=Am("useRouteError");return a!==void 0?a:t.errors?.[i]}function Kb(){let{router:a}=Hb("useNavigate"),t=Am("useNavigate"),i=M.useRef(!1);return kE(()=>{i.current=!0}),M.useCallback(async(o,u={})=>{gn(i.current,PE),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var s_={};function qE(a,t,i){!t&&!s_[a]&&(s_[a]=!0,gn(!1,i))}M.memo(Xb);function Xb({routes:a,future:t,state:i,onError:s}){return zE(a,void 0,i,s,t)}function wm({to:a,replace:t,state:i,relative:s}){ue(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(Nn);gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=M.useContext(ri),{pathname:f}=Ui(),p=il(),g=Tm(a,Em(u),f,s==="path"),v=JSON.stringify(g);return M.useEffect(()=>{p(JSON.parse(v),{replace:t,state:i,relative:s})},[p,v,s,t,i]),null}function $b(a){return Lb(a.context)}function dn(a){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zb({basename:a="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ue(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof i=="string"&&(i=Ys(i));let{pathname:v="/",search:T="",hash:S="",state:w=null,key:j="default"}=i,q=M.useMemo(()=>{let Q=sa(v,p);return Q==null?null:{location:{pathname:Q,search:T,hash:S,state:w,key:j},navigationType:s}},[p,v,T,S,w,j,s]);return gn(q!=null,`<Router basename="${p}"> is not able to match the URL "${v}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:M.createElement(Nn.Provider,{value:g},M.createElement(ko.Provider,{children:t,value:q}))}function Jb({children:a,location:t}){return Ub(Qd(a),t)}function Qd(a,t=[]){let i=[];return M.Children.forEach(a,(s,o)=>{if(!M.isValidElement(s))return;let u=[...t,o];if(s.type===M.Fragment){i.push.apply(i,Qd(s.props.children,u));return}ue(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Qd(s.props.children,u)),i.push(f)}),i}var jc="get",Vc="application/x-www-form-urlencoded";function ih(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function Wb(a){return ih(a)&&a.tagName.toLowerCase()==="button"}function tA(a){return ih(a)&&a.tagName.toLowerCase()==="form"}function eA(a){return ih(a)&&a.tagName.toLowerCase()==="input"}function nA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function iA(a,t){return a.button===0&&(!t||t==="_self")&&!nA(a)}function Yd(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((t,i)=>{let s=a[i];return t.concat(Array.isArray(s)?s.map(o=>[i,o]):[[i,s]])},[]))}function aA(a,t){let i=Yd(a);return t&&t.forEach((s,o)=>{i.has(o)||t.getAll(o).forEach(u=>{i.append(o,u)})}),i}var xc=null;function sA(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var rA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jd(a){return a!=null&&!rA.has(a)?(gn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):a}function lA(a,t){let i,s,o,u,f;if(tA(a)){let p=a.getAttribute("action");s=p?sa(p,t):null,i=a.getAttribute("method")||jc,o=jd(a.getAttribute("enctype"))||Vc,u=new FormData(a)}else if(Wb(a)||eA(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?sa(g,t):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||jc,o=jd(a.getAttribute("formenctype"))||jd(p.getAttribute("enctype"))||Vc,u=new FormData(p,a),!sA()){let{name:v,type:T,value:S}=a;if(T==="image"){let w=v?`${v}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else v&&u.append(v,S)}}else{if(ih(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=jc,s=null,o=Vc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xm(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function oA(a,t,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&sa(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function uA(a,t){if(a.id in t)return t[a.id];try{let i=await import(a.module);return t[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function hA(a,t,i){let s=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await uA(u,i);return f.links?f.links():[]}return[]}));return pA(s.flat(1).filter(cA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function r_(a,t,i,s,o,u){let f=(g,v)=>i[v]?g.route.id!==i[v].route.id:!0,p=(g,v)=>i[v].pathname!==g.pathname||i[v].route.path?.endsWith("*")&&i[v].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,v)=>f(g,v)||p(g,v)):u==="data"?t.filter((g,v)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,v)||p(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function fA(a,t,{includeHydrateFallback:i}={}){return dA(a.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dA(a){return[...new Set(a)]}function mA(a){let t={},i=Object.keys(a).sort();for(let s of i)t[s]=a[s];return t}function pA(a,t){let i=new Set;return new Set(t),a.reduce((s,o)=>{let u=JSON.stringify(mA(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function HE(){let a=M.useContext(el);return xm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function gA(){let a=M.useContext(nh);return xm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Rm=M.createContext(void 0);Rm.displayName="FrameworkContext";function FE(){let a=M.useContext(Rm);return xm(a,"You must render this element inside a <HydratedRouter> element"),a}function yA(a,t){let i=M.useContext(Rm),[s,o]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:v,onMouseLeave:T,onTouchStart:S}=t,w=M.useRef(null);M.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let Q=Z=>{Z.forEach(F=>{f(F.isIntersecting)})},G=new IntersectionObserver(Q,{threshold:.5});return w.current&&G.observe(w.current),()=>{G.disconnect()}}},[a]),M.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let j=()=>{o(!0)},q=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,w,{}]:[u,w,{onFocus:_o(p,j),onBlur:_o(g,q),onMouseEnter:_o(v,j),onMouseLeave:_o(T,q),onTouchStart:_o(S,j)}]:[!1,w,{}]}function _o(a,t){return i=>{a&&a(i),i.defaultPrevented||t(i)}}function vA({page:a,...t}){let{router:i}=HE(),s=M.useMemo(()=>NE(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?M.createElement(EA,{page:a,matches:s,...t}):null}function _A(a){let{manifest:t,routeModules:i}=FE(),[s,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return hA(a,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,t,i]),s}function EA({page:a,matches:t,...i}){let s=Ui(),{manifest:o,routeModules:u}=FE(),{basename:f}=HE(),{loaderData:p,matches:g}=gA(),v=M.useMemo(()=>r_(a,t,g,o,s,"data"),[a,t,g,o,s]),T=M.useMemo(()=>r_(a,t,g,o,s,"assets"),[a,t,g,o,s]),S=M.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let q=new Set,Q=!1;if(t.forEach(Z=>{let F=o.routes[Z.route.id];!F||!F.hasLoader||(!v.some(it=>it.route.id===Z.route.id)&&Z.route.id in p&&u[Z.route.id]?.shouldRevalidate||F.hasClientLoader?Q=!0:q.add(Z.route.id))}),q.size===0)return[];let G=oA(a,f,"data");return Q&&q.size>0&&G.searchParams.set("_routes",t.filter(Z=>q.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[G.pathname+G.search]},[f,p,s,o,v,t,a,u]),w=M.useMemo(()=>fA(T,o),[T,o]),j=_A(T);return M.createElement(M.Fragment,null,S.map(q=>M.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...i})),w.map(q=>M.createElement("link",{key:q,rel:"modulepreload",href:q,...i})),j.map(({key:q,link:Q})=>M.createElement("link",{key:q,nonce:i.nonce,...Q})))}function TA(...a){return t=>{a.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var SA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SA&&(window.__reactRouterVersion="7.11.0")}catch{}function bA({basename:a,children:t,unstable_useTransitions:i,window:s}){let o=M.useRef();o.current==null&&(o.current=WS({window:s,v5Compat:!0}));let u=o.current,[f,p]=M.useState({action:u.action,location:u.location}),g=M.useCallback(v=>{i===!1?p(v):M.startTransition(()=>p(v))},[i]);return M.useLayoutEffect(()=>u.listen(g),[u,g]),M.createElement(Zb,{basename:a,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cm=M.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w,...j},q){let{basename:Q,unstable_useTransitions:G}=M.useContext(Nn),Z=typeof v=="string"&&GE.test(v),F=ME(v,Q);v=F.to;let it=Vb(v,{relative:o}),[ft,ct,st]=yA(s,j),R=RA(v,{replace:f,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:G});function x(V){t&&t(V),V.defaultPrevented||R(V)}let N=M.createElement("a",{...j,...st,href:F.absoluteURL||it,onClick:F.isExternal||u?t:x,ref:TA(q,ct),target:g,"data-discover":!Z&&i==="render"?"true":void 0});return ft&&!Z?M.createElement(M.Fragment,null,N,M.createElement(vA,{page:it})):N});Cm.displayName="Link";var AA=M.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...v},T){let S=zo(f,{relative:v.relative}),w=Ui(),j=M.useContext(nh),{navigator:q,basename:Q}=M.useContext(Nn),G=j!=null&&VA(S)&&p===!0,Z=q.encodeLocation?q.encodeLocation(S).pathname:S.pathname,F=w.pathname,it=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(F=F.toLowerCase(),it=it?it.toLowerCase():null,Z=Z.toLowerCase()),it&&Q&&(it=sa(it,Q)||it);const ft=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ct=F===Z||!o&&F.startsWith(Z)&&F.charAt(ft)==="/",st=it!=null&&(it===Z||!o&&it.startsWith(Z)&&it.charAt(Z.length)==="/"),R={isActive:ct,isPending:st,isTransitioning:G},x=ct?t:void 0,N;typeof s=="function"?N=s(R):N=[s,ct?"active":null,st?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(R):u;return M.createElement(Cm,{...v,"aria-current":x,className:N,ref:T,style:V,to:f,viewTransition:p},typeof g=="function"?g(R):g)});AA.displayName="NavLink";var wA=M.forwardRef(({discover:a="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:u,method:f=jc,action:p,onSubmit:g,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w,...j},q)=>{let{unstable_useTransitions:Q}=M.useContext(Nn),G=IA(),Z=jA(p,{relative:v}),F=f.toLowerCase()==="get"?"get":"post",it=typeof p=="string"&&GE.test(p),ft=ct=>{if(g&&g(ct),ct.defaultPrevented)return;ct.preventDefault();let st=ct.nativeEvent.submitter,R=st?.getAttribute("formmethod")||f,x=()=>G(st||ct.currentTarget,{fetcherKey:t,method:R,navigate:i,replace:o,state:u,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w});Q&&i!==!1?M.startTransition(()=>x()):x()};return M.createElement("form",{ref:q,method:F,action:Z,onSubmit:s?g:ft,...j,"data-discover":!it&&a==="render"?"true":void 0})});wA.displayName="Form";function xA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(a){let t=M.useContext(el);return ue(t,xA(a)),t}function RA(a,{target:t,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let v=il(),T=Ui(),S=zo(a,{relative:u});return M.useCallback(w=>{if(iA(w,t)){w.preventDefault();let j=i!==void 0?i:No(T)===No(S),q=()=>v(a,{replace:j,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});g?M.startTransition(()=>q()):q()}},[T,v,S,i,s,t,a,o,u,f,p,g])}function CA(a){gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=M.useRef(Yd(a)),i=M.useRef(!1),s=Ui(),o=M.useMemo(()=>aA(s.search,i.current?null:t.current),[s.search]),u=il(),f=M.useCallback((p,g)=>{const v=Yd(typeof p=="function"?p(new URLSearchParams(o)):p);i.current=!0,u("?"+v,g)},[u,o]);return[o,f]}var NA=0,DA=()=>`__${String(++NA)}__`;function IA(){let{router:a}=QE("useSubmit"),{basename:t}=M.useContext(Nn),i=Qb(),s=a.fetch,o=a.navigate;return M.useCallback(async(u,f={})=>{let{action:p,method:g,encType:v,formData:T,body:S}=lA(u,t);if(f.navigate===!1){let w=f.fetcherKey||DA();await s(w,i,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||g,formEncType:f.encType||v,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||g,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,i])}function jA(a,{relative:t}={}){let{basename:i}=M.useContext(Nn),s=M.useContext(ri);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...zo(a||".",{relative:t})},f=Ui();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();u.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ia([i,u.pathname])),No(u)}function VA(a,{relative:t}={}){let i=M.useContext(LE);ue(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=QE("useViewTransitionState"),o=zo(a,{relative:t});if(!i.isTransitioning)return!1;let u=sa(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=sa(i.nextLocation.pathname,s)||i.nextLocation.pathname;return zc(o.pathname,f)!=null||zc(o.pathname,u)!=null}const MA=()=>{const a=il(),t=Xa.getCurrentUser(),[i,s]=M.useState(null),o=[{id:"quy-phong",title:"Qu Phng",icon:"",path:"/quy-phong",color:"#3b82f6",description:"Qun l qu chung ca phng"},{id:"accounts",title:"Ti Khon",icon:"",path:"/accounts",color:"#10b981",adminOnly:!0,description:"Qun l ti khon ngi dng"},{id:"persons",title:"Ngi Dng",icon:"",path:"/admin/persons",color:"#f59e0b",adminOnly:!0,description:"Qun l thng tin c nhn"},{id:"transactions",title:"Giao Dch",icon:"",path:"/admin/transactions",color:"#8b5cf6",adminOnly:!0,description:"Xem lch s giao dch"},{id:"diary",title:"Nht k",icon:"",path:"/admin/diary",color:"#5b5cf6",adminOnly:!1,description:"Qun l s tay"},{id:"History",title:"Lch S",icon:"",path:"/history",color:"#5b5cf6",adminOnly:!0,description:"Qun l thay i"}],u=()=>t?.role=="admin"?o:o.filter(p=>!p.adminOnly),f=p=>{a(p)};return t?m.jsxs("div",{className:"dashboard-container",children:[m.jsx("div",{className:"atom-container",children:m.jsxs("div",{className:"atom-scene",children:[m.jsx("div",{className:"nucleus",children:m.jsxs("div",{className:"nucleus-inner",children:[m.jsxs("div",{className:"nucleus-core",children:[m.jsx("div",{className:"user-avatar",children:t.username?.charAt(0).toUpperCase()}),m.jsxs("div",{className:"nucleus-label",children:[m.jsx("div",{className:"nucleus-text",children:t.username}),m.jsxs("p",{children:["@",t.username]}),m.jsx("span",{className:`role-badge ${t.role}`,children:t.role==="admin"?" Qun tr vin":" Ngi dng"})]})]}),m.jsxs("div",{className:"nucleus-glow",children:[m.jsxs("div",{className:"info-item",children:[m.jsx("span",{className:"info-icon",children:""}),m.jsxs("div",{className:"info-content",children:[m.jsx("span",{className:"info-label",children:"M ngi dng"}),m.jsx("span",{className:"info-value",children:t.codePerson})]})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("span",{className:"info-icon",children:""}),m.jsxs("div",{className:"info-content",children:[m.jsx("span",{className:"info-label",children:"Vai tr"}),m.jsx("span",{className:"info-value",children:t.role==="admin"?"Qun tr vin":"Ngi dng"})]})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("span",{className:"info-icon",children:""}),m.jsxs("div",{className:"info-content",children:[m.jsx("span",{className:"info-label",children:"ng nhp lc"}),m.jsx("span",{className:"info-value",children:Xa.getLoginTime()?.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("span",{className:"info-icon",children:""}),m.jsxs("div",{className:"info-content",children:[m.jsx("span",{className:"info-label",children:"Ngy"}),m.jsx("span",{className:"info-value",children:new Date().toLocaleDateString("vi-VN")})]})]})]})]})}),m.jsx("div",{className:"function-cards",children:u().map((p,g)=>m.jsxs("div",{className:"electron",style:{backgroundColor:p.color},onClick:()=>f(p.path),onMouseEnter:()=>s(p.id),onMouseLeave:()=>s(null),children:[m.jsxs("div",{className:"electron-inner",style:{backgroundColor:p.color},children:[m.jsx("span",{className:"electron-icon",children:p.icon}),m.jsx("span",{className:"electron-glow"})]}),m.jsx("div",{className:"electron-label",children:m.jsx("span",{children:p.title})})]},p.id))})]})}),[...Array(15)].map((p,g)=>m.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${10+Math.random()*10}s`}},g))]}):null};function OA({stats:a}){const t=i=>new Intl.NumberFormat("vi-VN").format(i)+" ";return m.jsxs("div",{className:"header",children:[m.jsx("div",{className:"header-top",children:m.jsx("h1",{children:"Qu Phng"})}),m.jsxs("div",{className:"stats",children:[m.jsxs("div",{className:"stat-card balance",children:[m.jsx("div",{className:"stat-label",children:"Tng Qu Hin Ti"}),m.jsx("div",{className:`stat-value ${a.currentFund>=0?"positive":"negative"}`,children:t(a.currentFund)}),m.jsx("div",{className:"stat-note",children:" hon thnh"})]}),m.jsxs("div",{className:"stat-card pending",children:[m.jsx("div",{className:"stat-label",children:"Qu Cha Thu"}),m.jsx("div",{className:"stat-value warning",children:t(a.pendingFund)}),m.jsx("div",{className:"stat-note",children:"ang ch"})]})]})]})}const LA=({startDate:a,endDate:t,onStartDateChange:i,onEndDateChange:s})=>{const[o,u]=M.useState(!1),[f,p]=M.useState(new Date),[g,v]=M.useState(!0),[T,S]=M.useState(a||""),[w,j]=M.useState(t||""),q=M.useRef(null);M.useEffect(()=>{const D=U=>{q.current&&!q.current.contains(U.target)&&u(!1)};return o&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[o]);const Q=D=>{const U=D.getFullYear(),C=D.getMonth(),Ct=new Date(U,C,1),P=new Date(U,C+1,0).getDate(),at=Ct.getDay();return{daysInMonth:P,startingDayOfWeek:at,year:U,month:C}},G=D=>D?new Date(D).toLocaleDateString("vi-VN"):"",Z=D=>{const U=D.getFullYear(),C=String(D.getMonth()+1).padStart(2,"0"),Ct=String(D.getDate()).padStart(2,"0");return`${U}-${C}-${Ct}`},F=D=>{const U=new Date(f.getFullYear(),f.getMonth(),D),C=Z(U);if(g)S(C),j(""),v(!1);else{const Ct=new Date(T);U<Ct?(S(C),j(T)):j(C)}},it=()=>{i(T),s(w),u(!1),v(!0)},ft=()=>{S(a||""),j(t||""),u(!1),v(!0)},ct=D=>{if(!T||!w)return!1;const U=new Date(f.getFullYear(),f.getMonth(),D),C=new Date(T),Ct=new Date(w);return U>=C&&U<=Ct},st=D=>{const U=Z(new Date(f.getFullYear(),f.getMonth(),D));return U===T||U===w},R=()=>{p(new Date(f.getFullYear(),f.getMonth()-1))},x=()=>{p(new Date(f.getFullYear(),f.getMonth()+1))},N=()=>{const{daysInMonth:D,year:U,month:C}=Q(f),Ct=[],Zt=["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"];for(let P=1;P<=D;P++){const at=st(P),dt=ct(P),Nt=new Date().toDateString()===new Date(U,C,P).toDateString();Ct.push(m.jsx("div",{className:`calendar-day ${at?"selected":""} ${dt?"in-range":""} ${Nt?"today":""}`,onClick:()=>F(P),children:P},P))}return m.jsxs("div",{className:"calendar-popup",children:[m.jsxs("div",{className:"calendar-header",children:[m.jsx("button",{className:"calendar-nav",onClick:R,type:"button",children:""}),m.jsx("div",{className:"calendar-month",children:`${Zt[C]}, ${U}`}),m.jsx("button",{className:"calendar-nav",onClick:x,type:"button",children:""})]}),m.jsx("div",{className:"calendar-weekdays",children:["CN","T2","T3","T4","T5","T6","T7"].map(P=>m.jsx("div",{className:"calendar-weekday",children:P},P))}),m.jsx("div",{className:"calendar-grid",children:Ct}),m.jsxs("div",{className:"calendar-footer",children:[m.jsx("button",{className:"btn-cancel",onClick:ft,type:"button",children:"Hy"}),m.jsx("button",{className:"btn-confirm",onClick:it,type:"button",children:"Xc nhn"})]})]})},V=T&&w?`${G(T)}  ${G(w)}`:a&&t?`${G(a)}  ${G(t)}`:"Chn khong thi gian";return m.jsxs("div",{className:"date-range-picker",ref:q,children:[m.jsxs("div",{className:"date-range-input",onClick:()=>u(!o),children:[m.jsx("span",{className:"input-icon",children:""}),m.jsx("span",{className:"input-text",children:V}),m.jsx("span",{className:"input-arrow",children:o?"":""})]}),o&&N()]})};function UA({searchQuery:a,setSearchQuery:t,personFilter:i,setPersonFilter:s,statusFilter:o,setStatusFilter:u,persons:f,startDate:p,setStartDate:g,endDate:v,setEndDate:T}){return m.jsxs("div",{className:"filters-container",children:[m.jsx("div",{className:"search-bar-main",children:m.jsxs("div",{className:"search-input-wrapper",children:[m.jsx("span",{className:"search-icon",children:""}),m.jsx("input",{type:"text",placeholder:"Tm kim theo ni dung, s tin, ngi...",value:a,onChange:S=>t(S.target.value),className:"search-input-main"}),a&&m.jsx("button",{className:"clear-search",onClick:()=>t(""),title:"Xa tm kim",type:"button",children:""})]})}),m.jsxs("div",{className:"filters-row",children:[m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" Khong thi gian"}),m.jsx(LA,{startDate:p||"",endDate:v||"",onStartDateChange:g||(()=>{}),onEndDateChange:T||(()=>{})})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" Ngi"}),m.jsxs("select",{value:i,onChange:S=>s(S.target.value),children:[m.jsx("option",{value:"all",children:"Tt c"}),f.map(S=>m.jsxs("option",{value:S.id,children:[S.name," - ",S.code]},S.id))]})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" Trng thi"}),m.jsxs("select",{value:o,onChange:S=>u(S.target.value),children:[m.jsx("option",{value:"all",children:"Tt c"}),m.jsx("option",{value:"pending",children:"Cha thu"}),m.jsx("option",{value:"completed",children:" thu"})]})]})]})]})}function Nm(){return m.jsxs("div",{className:"loader-container",children:[m.jsxs("div",{className:"bg-particles",children:[m.jsx("div",{className:"particle particle-1"}),m.jsx("div",{className:"particle particle-2"}),m.jsx("div",{className:"particle particle-3"})]}),m.jsxs("div",{className:"floating-shapes",children:[m.jsx("div",{className:"shape shape-1"}),m.jsx("div",{className:"shape shape-2"}),m.jsx("div",{className:"shape shape-3"}),m.jsx("div",{className:"shape shape-4"})]}),m.jsxs("div",{className:"loader-content",children:[m.jsxs("div",{className:"spinner-container",children:[m.jsx("div",{className:"spinner-ring ring-1"}),m.jsx("div",{className:"spinner-ring ring-2"}),m.jsx("div",{className:"spinner-ring ring-3"}),m.jsx("div",{className:"hourglass-icon",children:""})]}),m.jsxs("div",{className:"loader-text",children:[m.jsx("h2",{className:"loading-title",children:"ang ti d liu t Firebase..."}),m.jsxs("div",{className:"loading-dots",children:[m.jsx("span",{className:"dot"}),m.jsx("span",{className:"dot"}),m.jsx("span",{className:"dot"})]}),m.jsx("p",{className:"loading-subtitle",children:"Vui lng i trong giy lt"})]}),m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill"})})]})]})}function PA({filteredTransactions:a,formatCurrency:t,searchQuery:i}){return m.jsxs("div",{className:"transactions",children:[m.jsx("div",{children:m.jsxs("div",{children:[m.jsx("strong",{children:" Tng s giao dch:"})," ",a.length]})}),m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Ngy"}),m.jsx("th",{children:"S tin"}),m.jsx("th",{children:"Loi"}),m.jsx("th",{children:"Ni dung"}),m.jsx("th",{children:"Ngi"}),m.jsx("th",{children:"Trng thi"})]})}),m.jsx("tbody",{children:a.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"empty-state",children:i?" Khng tm thy kt qu ph hp":" Cha c giao dch no"})}):a.map(s=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{className:"date-info",children:[m.jsx("span",{className:"day-of-week",children:s.dayOfWeek}),m.jsx("span",{className:"date-text",children:new Date(s.date).toLocaleDateString("vi-VN")})]})}),m.jsx("td",{children:m.jsxs("span",{className:`amount ${s.type==="thu"?"positive":"negative"}`,children:[s.type==="thu"?"+":"-",t(s.amount)]})}),m.jsx("td",{children:m.jsx("span",{className:`badge ${s.type==="thu"?"income":"expense"}`,children:s.type==="thu"?"Thu":"Chi"})}),m.jsx("td",{children:s.description}),m.jsxs("td",{children:[" ",s.personName]}),m.jsx("td",{children:m.jsx("span",{className:`badge ${s.status}`,children:s.status==="completed"?"  thu":" Cha thu"})})]},s.id))})]})]})}const Dm=()=>m.jsx("div",{className:"loading-overlay",children:m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"loading-glow"}),m.jsxs("div",{className:"loading-content",children:[m.jsxs("div",{className:"spinner-wrapper",children:[m.jsx("div",{className:"spinner-ring"}),m.jsx("div",{className:"spinner-animated"}),m.jsx("div",{className:"spinner-glow"})]}),m.jsxs("div",{className:"loading-text-wrapper",children:[m.jsx("p",{className:"loading-text",children:"ang x l"}),m.jsxs("div",{className:"loading-dots",children:[m.jsx("span",{className:"dot dot-1"}),m.jsx("span",{className:"dot dot-2"}),m.jsx("span",{className:"dot dot-3"})]})]})]})]})}),kA=()=>{};var l_={};const YE=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},zA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],p=a[i++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],f=a[i++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,p=f?a[o+1]:0,g=o+2<a.length,v=g?a[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let w=(p&15)<<2|v>>6,j=v&63;g||(j=64,f||(w=64)),s.push(i[T],i[S],i[w],i[j])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(YE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):zA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||p==null||v==null||S==null)throw new BA;const w=u<<2|p>>4;if(s.push(w),v!==64){const j=p<<4&240|v>>2;if(s.push(j),S!==64){const q=v<<6&192|S;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(a){const t=YE(a);return KE.encodeByteArray(t,!0)},Bc=function(a){return qA(a).replace(/\./g,"")},HA=function(a){try{return KE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function FA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GA=()=>FA().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof l_>"u")return;const a=l_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},YA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&HA(a[1]);return t&&JSON.parse(t)},Im=()=>{try{return kA()||GA()||QA()||YA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},KA=a=>Im()?.emulatorHosts?.[a],XA=a=>{const t=KA(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},XE=()=>Im()?.config;class $A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function jm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZA(a){return(await fetch(a,{credentials:"include"})).ok}function JA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(f)),""].join(".")}const Ao={};function WA(){const a={prod:[],emulator:[]};for(const t of Object.keys(Ao))Ao[t]?a.emulator.push(t):a.prod.push(t);return a}function tw(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let o_=!1;function ew(a,t){if(typeof window>"u"||typeof document>"u"||!jm(window.location.host)||Ao[a]===t||Ao[a]||o_)return;Ao[a]=t;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=WA().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function v(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{o_=!0,f()},w}function T(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=tw(s),j=i("text"),q=document.getElementById(j)||document.createElement("span"),Q=i("learnmore"),G=document.getElementById(Q)||document.createElement("a"),Z=i("preprendIcon"),F=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;p(it),T(G,Q);const ft=v();g(F,Z),it.append(F,q,G,ft),document.body.appendChild(it)}u?(q.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function nw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){const a=Im()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aw(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function sw(){return!iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function ZE(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}function rw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const lw="FirebaseError";class as extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=lw,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ah.prototype.create)}}class ah{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?ow(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new as(o,p,s)}}function ow(a,t){return a.replace(uw,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const uw=/\{\$([^}]+)}/g;function Do(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const u=a[o],f=t[o];if(u_(u)&&u_(f)){if(!Do(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function u_(a){return a!==null&&typeof a=="object"}const cw=1e3,hw=2,fw=14400*1e3,dw=.5;function c_(a,t=cw,i=hw){const s=t*Math.pow(i,a),o=Math.round(dw*s*(Math.random()-.5)*2);return Math.min(fw,s+o)}function Fn(a){return a&&a._delegate?a._delegate:a}class ra{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ps="[DEFAULT]";class mw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new $A;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gw(t))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ps){return this.instances.has(t)}getOptions(t=Ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pw(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ps){return this.component?this.component.multipleInstances?t:Ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pw(a){return a===Ps?void 0:a}function gw(a){return a.instantiationMode==="EAGER"}class yw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new mw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const vw={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},_w=Bt.INFO,Ew={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},Tw=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),o=Ew[t];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vm{constructor(t){this.name=t,this._logLevel=_w,this._logHandler=Tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const Sw=(a,t)=>t.some(i=>a instanceof i);let h_,f_;function bw(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aw(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,Kd=new WeakMap,WE=new WeakMap,Vd=new WeakMap,Mm=new WeakMap;function ww(a){const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(Ga(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&JE.set(i,a)}).catch(()=>{}),Mm.set(t,a),t}function xw(a){if(Kd.has(a))return;const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Kd.set(a,t)}let Xd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Kd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||WE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ga(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function Rw(a){Xd=a(Xd)}function Cw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Md(this),t,...i);return WE.set(s,t.sort?t.sort():[t]),Ga(s)}:Aw().includes(a)?function(...t){return a.apply(Md(this),t),Ga(JE.get(this))}:function(...t){return Ga(a.apply(Md(this),t))}}function Nw(a){return typeof a=="function"?Cw(a):(a instanceof IDBTransaction&&xw(a),Sw(a,bw())?new Proxy(a,Xd):a)}function Ga(a){if(a instanceof IDBRequest)return ww(a);if(Vd.has(a))return Vd.get(a);const t=Nw(a);return t!==a&&(Vd.set(a,t),Mm.set(t,a)),t}const Md=a=>Mm.get(a);function t0(a,t,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(a,t),p=Ga(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Ga(f.result),g.oldVersion,g.newVersion,Ga(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const Dw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],Od=new Map;function d_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=Iw.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Dw.includes(i)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&g.done]))[0]};return Od.set(t,u),u}Rw(a=>({...a,get:(t,i,s)=>d_(t,i)||a.get(t,i,s),has:(t,i)=>!!d_(t,i)||a.has(t,i)}));class jw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Vw(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Vw(a){return a.getComponent()?.type==="VERSION"}const $d="@firebase/app",m_="0.14.6";const la=new Vm("@firebase/app"),Mw="@firebase/app-compat",Ow="@firebase/analytics-compat",Lw="@firebase/analytics",Uw="@firebase/app-check-compat",Pw="@firebase/app-check",kw="@firebase/auth",zw="@firebase/auth-compat",Bw="@firebase/database",qw="@firebase/data-connect",Hw="@firebase/database-compat",Fw="@firebase/functions",Gw="@firebase/functions-compat",Qw="@firebase/installations",Yw="@firebase/installations-compat",Kw="@firebase/messaging",Xw="@firebase/messaging-compat",$w="@firebase/performance",Zw="@firebase/performance-compat",Jw="@firebase/remote-config",Ww="@firebase/remote-config-compat",tx="@firebase/storage",ex="@firebase/storage-compat",nx="@firebase/firestore",ix="@firebase/ai",ax="@firebase/firestore-compat",sx="firebase",rx="12.6.0";const Zd="[DEFAULT]",lx={[$d]:"fire-core",[Mw]:"fire-core-compat",[Lw]:"fire-analytics",[Ow]:"fire-analytics-compat",[Pw]:"fire-app-check",[Uw]:"fire-app-check-compat",[kw]:"fire-auth",[zw]:"fire-auth-compat",[Bw]:"fire-rtdb",[qw]:"fire-data-connect",[Hw]:"fire-rtdb-compat",[Fw]:"fire-fn",[Gw]:"fire-fn-compat",[Qw]:"fire-iid",[Yw]:"fire-iid-compat",[Kw]:"fire-fcm",[Xw]:"fire-fcm-compat",[$w]:"fire-perf",[Zw]:"fire-perf-compat",[Jw]:"fire-rc",[Ww]:"fire-rc-compat",[tx]:"fire-gcs",[ex]:"fire-gcs-compat",[nx]:"fire-fst",[ax]:"fire-fst-compat",[ix]:"fire-vertex","fire-js":"fire-js",[sx]:"fire-js-all"};const qc=new Map,ox=new Map,Jd=new Map;function p_(a,t){try{a.container.addComponent(t)}catch(i){la.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function $a(a){const t=a.name;if(Jd.has(t))return la.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,a);for(const i of qc.values())p_(i,a);for(const i of ox.values())p_(i,a);return!0}function Bo(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ux(a){return a==null?!1:a.settings!==void 0}const cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new ah("app","Firebase",cx);class hx{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}const fx=rx;function e0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:Zd,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Qa.create("bad-app-name",{appName:String(o)});if(i||(i=XE()),!i)throw Qa.create("no-options");const u=qc.get(o);if(u){if(Do(i,u.options)&&Do(s,u.config))return u;throw Qa.create("duplicate-app",{appName:o})}const f=new yw(o);for(const g of Jd.values())f.addComponent(g);const p=new hx(i,s,f);return qc.set(o,p),p}function n0(a=Zd){const t=qc.get(a);if(!t&&a===Zd&&XE())return e0();if(!t)throw Qa.create("no-app",{appName:a});return t}function Ii(a,t,i){let s=lx[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),la.warn(f.join(" "));return}$a(new ra(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const dx="firebase-heartbeat-database",mx=1,Io="firebase-heartbeat-store";let Ld=null;function i0(){return Ld||(Ld=t0(dx,mx,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(a=>{throw Qa.create("idb-open",{originalErrorMessage:a.message})})),Ld}async function px(a){try{const i=(await i0()).transaction(Io),s=await i.objectStore(Io).get(a0(a));return await i.done,s}catch(t){if(t instanceof as)la.warn(t.message);else{const i=Qa.create("idb-get",{originalErrorMessage:t?.message});la.warn(i.message)}}}async function g_(a,t){try{const s=(await i0()).transaction(Io,"readwrite");await s.objectStore(Io).put(t,a0(a)),await s.done}catch(i){if(i instanceof as)la.warn(i.message);else{const s=Qa.create("idb-set",{originalErrorMessage:i?.message});la.warn(s.message)}}}function a0(a){return`${a.name}!${a.options.appId}`}const gx=1024,yx=30;class vx{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ex(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yx){const o=Tx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){la.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y_(),{heartbeatsToSend:i,unsentEntries:s}=_x(this._heartbeatsCache.heartbeats),o=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return la.warn(t),""}}}function y_(){return new Date().toISOString().substring(0,10)}function _x(a,t=gx){const i=[];let s=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),v_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),v_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Ex{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $E()?ZE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await px(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return g_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return g_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function v_(a){return Bc(JSON.stringify({version:2,heartbeats:a})).length}function Tx(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function Sx(a){$a(new ra("platform-logger",t=>new jw(t),"PRIVATE")),$a(new ra("heartbeat",t=>new vx(t),"PRIVATE")),Ii($d,m_,a),Ii($d,m_,"esm2020"),Ii("fire-js","")}Sx("");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ya,s0;(function(){var a;function t(R,x){function N(){}N.prototype=x.prototype,R.F=x.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(V,D,U){for(var C=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)C[Ct-2]=arguments[Ct];return x.prototype[D].apply(V,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,N){N||(N=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(D=0;D<16;++D)V[D]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=R.g[0],N=R.g[1],D=R.g[2];let U=R.g[3],C;C=x+(U^N&(D^U))+V[0]+3614090360&4294967295,x=N+(C<<7&4294967295|C>>>25),C=U+(D^x&(N^D))+V[1]+3905402710&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(N^U&(x^N))+V[2]+606105819&4294967295,D=U+(C<<17&4294967295|C>>>15),C=N+(x^D&(U^x))+V[3]+3250441966&4294967295,N=D+(C<<22&4294967295|C>>>10),C=x+(U^N&(D^U))+V[4]+4118548399&4294967295,x=N+(C<<7&4294967295|C>>>25),C=U+(D^x&(N^D))+V[5]+1200080426&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(N^U&(x^N))+V[6]+2821735955&4294967295,D=U+(C<<17&4294967295|C>>>15),C=N+(x^D&(U^x))+V[7]+4249261313&4294967295,N=D+(C<<22&4294967295|C>>>10),C=x+(U^N&(D^U))+V[8]+1770035416&4294967295,x=N+(C<<7&4294967295|C>>>25),C=U+(D^x&(N^D))+V[9]+2336552879&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(N^U&(x^N))+V[10]+4294925233&4294967295,D=U+(C<<17&4294967295|C>>>15),C=N+(x^D&(U^x))+V[11]+2304563134&4294967295,N=D+(C<<22&4294967295|C>>>10),C=x+(U^N&(D^U))+V[12]+1804603682&4294967295,x=N+(C<<7&4294967295|C>>>25),C=U+(D^x&(N^D))+V[13]+4254626195&4294967295,U=x+(C<<12&4294967295|C>>>20),C=D+(N^U&(x^N))+V[14]+2792965006&4294967295,D=U+(C<<17&4294967295|C>>>15),C=N+(x^D&(U^x))+V[15]+1236535329&4294967295,N=D+(C<<22&4294967295|C>>>10),C=x+(D^U&(N^D))+V[1]+4129170786&4294967295,x=N+(C<<5&4294967295|C>>>27),C=U+(N^D&(x^N))+V[6]+3225465664&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^N&(U^x))+V[11]+643717713&4294967295,D=U+(C<<14&4294967295|C>>>18),C=N+(U^x&(D^U))+V[0]+3921069994&4294967295,N=D+(C<<20&4294967295|C>>>12),C=x+(D^U&(N^D))+V[5]+3593408605&4294967295,x=N+(C<<5&4294967295|C>>>27),C=U+(N^D&(x^N))+V[10]+38016083&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^N&(U^x))+V[15]+3634488961&4294967295,D=U+(C<<14&4294967295|C>>>18),C=N+(U^x&(D^U))+V[4]+3889429448&4294967295,N=D+(C<<20&4294967295|C>>>12),C=x+(D^U&(N^D))+V[9]+568446438&4294967295,x=N+(C<<5&4294967295|C>>>27),C=U+(N^D&(x^N))+V[14]+3275163606&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^N&(U^x))+V[3]+4107603335&4294967295,D=U+(C<<14&4294967295|C>>>18),C=N+(U^x&(D^U))+V[8]+1163531501&4294967295,N=D+(C<<20&4294967295|C>>>12),C=x+(D^U&(N^D))+V[13]+2850285829&4294967295,x=N+(C<<5&4294967295|C>>>27),C=U+(N^D&(x^N))+V[2]+4243563512&4294967295,U=x+(C<<9&4294967295|C>>>23),C=D+(x^N&(U^x))+V[7]+1735328473&4294967295,D=U+(C<<14&4294967295|C>>>18),C=N+(U^x&(D^U))+V[12]+2368359562&4294967295,N=D+(C<<20&4294967295|C>>>12),C=x+(N^D^U)+V[5]+4294588738&4294967295,x=N+(C<<4&4294967295|C>>>28),C=U+(x^N^D)+V[8]+2272392833&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^N)+V[11]+1839030562&4294967295,D=U+(C<<16&4294967295|C>>>16),C=N+(D^U^x)+V[14]+4259657740&4294967295,N=D+(C<<23&4294967295|C>>>9),C=x+(N^D^U)+V[1]+2763975236&4294967295,x=N+(C<<4&4294967295|C>>>28),C=U+(x^N^D)+V[4]+1272893353&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^N)+V[7]+4139469664&4294967295,D=U+(C<<16&4294967295|C>>>16),C=N+(D^U^x)+V[10]+3200236656&4294967295,N=D+(C<<23&4294967295|C>>>9),C=x+(N^D^U)+V[13]+681279174&4294967295,x=N+(C<<4&4294967295|C>>>28),C=U+(x^N^D)+V[0]+3936430074&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^N)+V[3]+3572445317&4294967295,D=U+(C<<16&4294967295|C>>>16),C=N+(D^U^x)+V[6]+76029189&4294967295,N=D+(C<<23&4294967295|C>>>9),C=x+(N^D^U)+V[9]+3654602809&4294967295,x=N+(C<<4&4294967295|C>>>28),C=U+(x^N^D)+V[12]+3873151461&4294967295,U=x+(C<<11&4294967295|C>>>21),C=D+(U^x^N)+V[15]+530742520&4294967295,D=U+(C<<16&4294967295|C>>>16),C=N+(D^U^x)+V[2]+3299628645&4294967295,N=D+(C<<23&4294967295|C>>>9),C=x+(D^(N|~U))+V[0]+4096336452&4294967295,x=N+(C<<6&4294967295|C>>>26),C=U+(N^(x|~D))+V[7]+1126891415&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~N))+V[14]+2878612391&4294967295,D=U+(C<<15&4294967295|C>>>17),C=N+(U^(D|~x))+V[5]+4237533241&4294967295,N=D+(C<<21&4294967295|C>>>11),C=x+(D^(N|~U))+V[12]+1700485571&4294967295,x=N+(C<<6&4294967295|C>>>26),C=U+(N^(x|~D))+V[3]+2399980690&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~N))+V[10]+4293915773&4294967295,D=U+(C<<15&4294967295|C>>>17),C=N+(U^(D|~x))+V[1]+2240044497&4294967295,N=D+(C<<21&4294967295|C>>>11),C=x+(D^(N|~U))+V[8]+1873313359&4294967295,x=N+(C<<6&4294967295|C>>>26),C=U+(N^(x|~D))+V[15]+4264355552&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~N))+V[6]+2734768916&4294967295,D=U+(C<<15&4294967295|C>>>17),C=N+(U^(D|~x))+V[13]+1309151649&4294967295,N=D+(C<<21&4294967295|C>>>11),C=x+(D^(N|~U))+V[4]+4149444226&4294967295,x=N+(C<<6&4294967295|C>>>26),C=U+(N^(x|~D))+V[11]+3174756917&4294967295,U=x+(C<<10&4294967295|C>>>22),C=D+(x^(U|~N))+V[2]+718787259&4294967295,D=U+(C<<15&4294967295|C>>>17),C=N+(U^(D|~x))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const N=x-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<x;){if(D==0)for(;U<=N;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<x;)if(V[D++]=R.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<x;)if(V[D++]=R[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)R[x++]=this.g[N]>>>V&255;return R};function u(R,x){var N=p;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=x(R)}function f(R,x){this.h=x;const N=[];let V=!0;for(let D=R.length-1;D>=0;D--){const U=R[D]|0;V&&U==x||(N[D]=U,V=!1)}this.g=N}var p={};function g(R){return-128<=R&&R<128?u(R,function(x){return new f([x|0],x<0?-1:0)}):new f([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return G(v(-R));const x=[];let N=1;for(let V=0;R>=N;V++)x[V]=R/N|0,N*=4294967296;return new f(x,0)}function T(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return G(T(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(x,8));let V=S;for(let U=0;U<R.length;U+=8){var D=Math.min(8,R.length-U);const C=parseInt(R.substring(U,U+D),x);D<8?(D=v(Math.pow(x,D)),V=V.j(D).add(v(C))):(V=V.j(N),V=V.add(v(C)))}return V}var S=g(0),w=g(1),j=g(16777216);a=f.prototype,a.m=function(){if(Q(this))return-G(this).m();let R=0,x=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);R+=(V>=0?V:4294967296+V)*x,x*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(q(this))return"0";if(Q(this))return"-"+G(this).toString(R);const x=v(Math.pow(R,6));var N=this;let V="";for(;;){const D=ft(N,x).g;N=Z(N,D.j(x));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=D,q(N))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function q(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function Q(R){return R.h==-1}a.l=function(R){return R=Z(this,R),Q(R)?-1:q(R)?0:1};function G(R){const x=R.g.length,N=[];for(let V=0;V<x;V++)N[V]=~R.g[V];return new f(N,~R.h).add(w)}a.abs=function(){return Q(this)?G(this):this},a.add=function(R){const x=Math.max(this.g.length,R.g.length),N=[];let V=0;for(let D=0;D<=x;D++){let U=V+(this.i(D)&65535)+(R.i(D)&65535),C=(U>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=C>>>16,U&=65535,C&=65535,N[D]=C<<16|U}return new f(N,N[N.length-1]&-2147483648?-1:0)};function Z(R,x){return R.add(G(x))}a.j=function(R){if(q(this)||q(R))return S;if(Q(this))return Q(R)?G(this).j(G(R)):G(G(this).j(R));if(Q(R))return G(this.j(G(R)));if(this.l(j)<0&&R.l(j)<0)return v(this.m()*R.m());const x=this.g.length+R.g.length,N=[];for(var V=0;V<2*x;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const U=this.i(V)>>>16,C=this.i(V)&65535,Ct=R.i(D)>>>16,Zt=R.i(D)&65535;N[2*V+2*D]+=C*Zt,F(N,2*V+2*D),N[2*V+2*D+1]+=U*Zt,F(N,2*V+2*D+1),N[2*V+2*D+1]+=C*Ct,F(N,2*V+2*D+1),N[2*V+2*D+2]+=U*Ct,F(N,2*V+2*D+2)}for(R=0;R<x;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=x;R<2*x;R++)N[R]=0;return new f(N,0)};function F(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function it(R,x){this.g=R,this.h=x}function ft(R,x){if(q(x))throw Error("division by zero");if(q(R))return new it(S,S);if(Q(R))return x=ft(G(R),x),new it(G(x.g),G(x.h));if(Q(x))return x=ft(R,G(x)),new it(G(x.g),x.h);if(R.g.length>30){if(Q(R)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var N=w,V=x;V.l(R)<=0;)N=ct(N),V=ct(V);var D=st(N,1),U=st(V,1);for(V=st(V,2),N=st(N,2);!q(V);){var C=U.add(V);C.l(R)<=0&&(D=D.add(N),U=C),V=st(V,1),N=st(N,1)}return x=Z(R,D.j(x)),new it(D,x)}for(D=S;R.l(x)>=0;){for(N=Math.max(1,Math.floor(R.m()/x.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=v(N),C=U.j(x);Q(C)||C.l(R)>0;)N-=V,U=v(N),C=U.j(x);q(U)&&(U=w),D=D.add(U),R=Z(R,C)}return new it(D,R)}a.B=function(R){return ft(this,R).h},a.and=function(R){const x=Math.max(this.g.length,R.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)&R.i(V);return new f(N,this.h&R.h)},a.or=function(R){const x=Math.max(this.g.length,R.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)|R.i(V);return new f(N,this.h|R.h)},a.xor=function(R){const x=Math.max(this.g.length,R.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)^R.i(V);return new f(N,this.h^R.h)};function ct(R){const x=R.g.length+1,N=[];for(let V=0;V<x;V++)N[V]=R.i(V)<<1|R.i(V-1)>>>31;return new f(N,R.h)}function st(R,x){const N=x>>5;x%=32;const V=R.g.length-N,D=[];for(let U=0;U<V;U++)D[U]=x>0?R.i(U+N)>>>x|R.i(U+N+1)<<32-x:R.i(U+N);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,s0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,Ya=f}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var r0,Eo,l0,Mc,Wd,o0,u0,c0;(function(){var a,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=i(this);function o(c,y){if(y)t:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in E))break t;E=E[z]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&t(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},f=this||self;function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function v(c,y,E){return v=g,v.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,z,K){for(var lt=Array(arguments.length-2),At=2;At<arguments.length;At++)lt[At-2]=arguments[At];return y.prototype[z].apply(A,lt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function q(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const K=z.length||0;c.length=E+K;for(let lt=0;lt<K;lt++)c[E+lt]=z[lt]}else c.push(z)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class F{constructor(){this.h=this.g=null}add(y,E){const A=it.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new Q(()=>new ft,c=>c.reset());class ft{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,st=!1,R=new F,x=()=>{const c=Promise.resolve(void 0);ct=()=>{c.then(N)}};function N(){for(var c;c=Z();){try{c.h.call(c.g)}catch(E){G(E)}var y=it;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}st=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ct(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(Ct,D),Ct.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Zt="closure_listenable_"+(Math.random()*1e6|0),P=0;function at(c,y,E,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=z,this.key=++P,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nt(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function Pt(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function L(c){const y={};for(const E in c)y[E]=c[E];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,y){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)c[E]=A[E];for(let K=0;K<X.length;K++)E=X[K],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,y,E,A,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const lt=xt(c,y,A,z);return lt>-1?(y=c[lt],E||(y.fa=!1)):(y=new at(y,this.src,K,!!A,z),y.fa=E,c.push(y)),y};function Et(c,y){const E=y.type;if(E in c.g){var A=c.g[E],z=Array.prototype.indexOf.call(A,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(A,z,1),K&&(dt(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xt(c,y,E,A){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==A)return z}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),je={};function re(c,y,E,A,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)re(c,y[K],E,A,z);return null}return E=ml(E),c&&c[Zt]?c.J(y,E,p(A)?!!A.capture:!1,z):ls(c,y,E,!1,A,z)}function ls(c,y,E,A,z,K){if(!y)throw Error("Invalid event type");const lt=p(z)?!!z.capture:!!z;let At=os(c);if(At||(c[kt]=At=new ut(c)),E=At.add(y,E,A,lt,K),E.proxy)return E;if(A=Zs(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)U||(z=lt),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(li(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Zs(){function c(E){return y.call(c.src,c.listener,E)}const y=fl;return c}function Js(c,y,E,A,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Js(c,y[K],E,A,z);else A=p(A)?!!A.capture:!!A,E=ml(E),c&&c[Zt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=xt(y,E,A,z),E>-1&&(dt(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=os(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xt(y,E,A,z)),(E=c>-1?y[c]:null)&&Ws(E))}function Ws(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Zt])Et(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(li(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=os(y))?(Et(E,c),E.h==0&&(E.src=null,y[kt]=null)):dt(c)}}}function li(c){return c in je?je[c]:je[c]="on"+c}function fl(c,y){if(c.da)c=!0;else{y=new Ct(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&Ws(c),c=E.call(A,y)}return c}function os(c){return c=c[kt],c instanceof ut?c:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(c){return typeof c=="function"?c:(c[dl]||(c[dl]=function(y){return c.handleEvent(y)}),c[dl])}function _e(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}S(_e,V),_e.prototype[Zt]=!0,_e.prototype.removeEventListener=function(c,y,E,A){Js(this,c,y,E,A)};function Ve(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(A,c),rt(y,z)}z=!0;let K,lt;if(E)for(lt=E.length-1;lt>=0;lt--)K=y.g=E[lt],z=ha(K,A,!0,y)&&z;if(K=y.g=c,z=ha(K,A,!0,y)&&z,z=ha(K,A,!1,y)&&z,E)for(lt=0;lt<E.length;lt++)K=y.g=E[lt],z=ha(K,A,!1,y)&&z}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)dt(E[A]);delete c.g[y],c.h--}}this.G=null},_e.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},_e.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function ha(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const lt=y[K];if(lt&&!lt.da&&lt.capture==E){const At=lt.listener,pe=lt.ha||lt.src;lt.fa&&Et(c.i,lt),z=At.call(pe,A)!==!1&&z}}return z&&!A.defaultPrevented}function wh(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Zo(c){c.g=wh(()=>{c.g=null,c.i&&(c.i=!1,Zo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){V.call(this),this.h=c,this.g={}}S(us,V);var pl=[];function gl(c){Nt(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ws(y)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),gl(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=f.JSON.stringify,xh=f.JSON.parse,Jo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Wo(){}function tu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}S(ze,D);function Dn(){D.call(this,"c")}S(Dn,D);var me={},eu=null;function tr(){return eu=eu||new _e}me.Ia="serverreachability";function nu(c){D.call(this,me.Ia,c)}S(nu,D);function oi(c){const y=tr();Ve(y,new nu(y))}me.STAT_EVENT="statevent";function cs(c,y){D.call(this,me.STAT_EVENT,c),this.stat=y}S(cs,D);function Ee(c){const y=tr();Ve(y,new cs(y,c))}me.Ja="timingevent";function ui(c,y){D.call(this,me.Ja,c),this.size=y}S(ui,D);function ci(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Rh(c,y,E,A,z,K){c.info(function(){if(c.g)if(K){var lt="",At=K.split("&");for(let Ft=0;Ft<At.length;Ft++){var pe=At[Ft].split("=");if(pe.length>1){const le=pe[0];pe=pe[1];const Mn=le.split("_");lt=Mn.length>=2&&Mn[1]=="type"?lt+(le+"="+pe+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+E+`
`+lt})}function iu(c,y,E,A,z,K,lt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+E+`
`+K+" "+lt})}function hi(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ch(c,E)+(A?" "+A:"")})}function hs(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Ch(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let lt=1;lt<A.length;lt++)A[lt]=""}}}}return fa(K)}catch{return y}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function ds(){}S(ds,Wo),ds.prototype.g=function(){return new XMLHttpRequest},vl=new ds;function Pi(c){return encodeURIComponent(String(c))}function au(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Yn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Te={},Le={};function fi(c,y,E){c.M=1,c.A=ms(be(y)),c.u=E,c.R=!0,er(c,null)}function er(c,y){c.F=Date.now(),di(c),c.B=be(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),sr(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Kn,c.g=_u(c.j,E?y:null,!c.u),c.P>0&&(c.O=new en(v(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(pl[0]=z.toString()),z=pl);for(let K=0;K<z.length;K++){const lt=re(E,z[K],A||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=c.J?L(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),Rh(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Zn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Zn(this.g),pe=this.g.ya(),Ft=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||pe==7||(pe==8||Ft<=0?oi(3):oi(2)),mi(this);var y=this.g.ca();this.X=y;var E=Nh(this);if(this.o=y==200,iu(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var K=A;break e}}K=null}if(c=K)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Ee(12),yn(this),In(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<E.length;)if(le=ru(this,E),le==Le){At==4&&(this.m=4,Ee(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),hi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,le,null),pi(this,le);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||E.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,E,"[Invalid Chunked Response]"),yn(this),In(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Vl(lt),lt.P=!0,Ee(11))}}else hi(this.i,this.l,E,null),pi(this,E);At==4&&yn(this),this.o&&!this.K&&(At==4?pu(this.j,this):(this.o=!1,di(this)))}else zi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),yn(this),In(this)}}}catch{}};function Nh(c){if(!su(c))return c.g.la();const y=Be(c.g);if(y==="")return"";let E="";const A=y.length,z=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),In(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(z&&K==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function su(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ru(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Le:(E=Number(y.substring(E,A)),isNaN(E)?Te:(A+=1,A+E>y.length?Le:(y=y.slice(A,A+E),c.C=A+E,y)))}Yn.prototype.cancel=function(){this.K=!0,yn(this)};function di(c){c.T=Date.now()+c.H,nr(c,c.H)}function nr(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(v(c.aa,c),y)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hs(this.i,this.B),this.M!=2&&(oi(),Ee(17)),yn(this),this.m=2,In(this)):nr(this,this.T-c)};function In(c){c.j.I==0||c.K||pu(c.j,c)}function yn(c){mi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,gl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function pi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||yi(E.h,c))){if(!c.L&&yi(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)cr(E),Ea(E);else break t;Ts(E),Ee(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ci(v(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else bi(E,11)}else if((c.L||E.g==c)&&cr(E),!C(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Ft=z[y];const le=Ft[0];if(!(le<=E.K))if(E.K=le,Ft=Ft[1],E.I==2)if(Ft[0]=="c"){E.M=Ft[1],E.ba=Ft[2];const Mn=Ft[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Ai=Ft[4];Ai!=null&&(E.za=Ai,E.j.info("SVER="+E.za));const Jn=Ft[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(A=1.5*Jn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Wn=c.g;if(Wn){const Ss=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var K=A.h;K.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Tl(K,K.h),K.h=null))}if(A.G){const hr=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(A.wa=hr,Kt(A.J,A.G,hr))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var lt=c;if(A.na=vu(A,A.L?A.ba:null,A.W),lt.L){Sl(A.h,lt);var At=lt,pe=A.O;pe&&(At.H=pe),At.D&&(mi(At),di(At)),A.g=lt}else du(A);E.i.length>0&&Si(E)}else Ft[0]!="stop"&&Ft[0]!="close"||bi(E,7);else E.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?bi(E,7):Il(E):Ft[0]!="noop"&&E.l&&E.l.qa(Ft),E.A=0)}}oi(4)}catch{}}var Se=class{constructor(c,y){this.g=c,this.map=y}};function _l(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function El(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Tl(c,y){c.g?c.g.add(y):c.h=y}function Sl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}_l.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return j(c.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let z,K=null;A>=0?(z=c[E].substring(0,A),K=c[E].substring(A+1)):z=c[E],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,da(this,c.u),this.h=c.h,Al(this,hu(c.i)),this.m=c.m):c&&(y=String(c).match(lu))?(this.l=!1,Ue(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),da(this,y[4]),this.h=vi(y[5]||"",!0),Al(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new pa(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ps(y,ar,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ps(y,ar,!0),"@"),c.push(Pi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ps(E,E.charAt(0)=="/"?wl:ou,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ps(E,uu)),c.join("")},vn.prototype.resolve=function(c){const y=be(this);let E=!!c.j;E?Ue(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)da(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let lt=0;lt<z.length;){const At=z[lt++];At=="."?A&&lt==z.length&&K.push(""):At==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&lt==z.length&&K.push("")):(K.push(At),A=!0)}A=K.join("/")}else A=z}return E?y.h=A:E=c.i.toString()!=="",E?Al(y,hu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function be(c){return new vn(c)}function Ue(c,y,E){c.j=E?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function da(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Al(c,y,E){y instanceof pa?(c.i=y,rr(c.i,c.l)):(E||(y=ps(y,ma)),c.i=new pa(y,c.l))}function Kt(c,y,E){c.i.set(y,E)}function ms(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ar=/[#\/\?@]/g,ou=/[#\?:]/g,wl=/[#\?]/g,ma=/[#\?@]/g,uu=/#/g;function pa(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ir(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}a=pa.prototype,a.add=function(c,y){ln(this),this.i=null,c=ga(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function cu(c,y){ln(c),y=ga(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xl(c,y){return ln(c),y=ga(c,y),c.g.has(y)}a.forEach=function(c,y){ln(this),this.g.forEach(function(E,A){E.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Rl(c,y){ln(c);let E=[];if(typeof y=="string")xl(c,y)&&(E=E.concat(c.g.get(ga(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}a.set=function(c,y){return ln(this),this.i=null,c=ga(this,c),xl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},a.get=function(c,y){return c?(c=Rl(this,c),c.length>0?String(c[0]):y):y};function sr(c,y,E){cu(c,y),E.length>0&&(c.i=null,c.g.set(ga(c,y),j(E)),c.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const z=Pi(E);E=Rl(this,E);for(let K=0;K<E.length;K++){let lt=z;E[K]!==""&&(lt+="="+Pi(E[K])),c.push(lt)}}return this.i=c.join("&")};function hu(c){const y=new pa;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ga(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function rr(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(cu(this,A),sr(this,z,E))},c)),c.j=y}function Xn(c,y){const E=new Qn;if(f.Image){const A=new Image;A.onload=T(jn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=T(jn,E,"TestLoadImage: error",!1,y,A),A.onabort=T(jn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=T(jn,E,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Cl(c,y){const E=new Qn,A=new AbortController,z=setTimeout(()=>{A.abort(),jn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?jn(E,"TestPingServer: ok",!0,y):jn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),jn(E,"TestPingServer: error",!1,y)})}function jn(c,y,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function ya(){this.g=new Jo}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}S(_i,Wo),_i.prototype.g=function(){return new gs(this.i,this.h)};function gs(c,y){_e.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gs,_e),a=gs.prototype,a.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?va(this):$n(this),this.readyState==3&&lr(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,va(this))},a.Na=function(c){this.g&&(this.response=c,va(this))},a.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}a.setRequestHeader=function(c,y){this.A.append(c,y)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let y="";return Nt(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ys(c,y,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Vn(E),typeof c=="string"?E!=null&&Pi(E):Kt(c,y,E))}function Jt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,_e);var Ei=/^https?$/i,Nl=["POST","PUT"];a=Jt.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=w(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){vs(this,K);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Nl,y,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of E)this.g.setRequestHeader(K,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){vs(this,K)}};function vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Dl(c),ki(c)}function Dl(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),ki(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Jt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},a.Xa=function(){_s(this)};function _s(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const K=c.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var A;if(A=K===0){let lt=String(c.D).match(lu)[1]||null;!lt&&f.self&&f.self.location&&(lt=f.self.location.protocol.slice(0,-1)),A=!Ei.test(lt?lt.toLowerCase():"")}E=A}if(E)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var z=Zn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Dl(c)}}finally{ki(c)}}}}function ki(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Ve(c,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),xh(y)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const y={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var E=au(c[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[z]||[];y[z]=K,K.push(E)}Pt(y,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function _a(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(c&&c.concurrentRequestLimit),this.Ba=new ya,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=_a.prototype,a.ka=8,a.I=1,a.connect=function(c,y,E,A){Ee(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=vu(this,null,this.W),Si(this)};function Il(c){if(or(c),c.I==3){var y=c.V++,E=be(c.J);if(Kt(E,"SID",c.M),Kt(E,"RID",y),Kt(E,"TYPE","terminate"),Es(c,E),y=new Yn(c,c.j,y),y.M=2,y.A=ms(be(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=_u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}yu(c)}function Ea(c){c.g&&(Vl(c),c.g.cancel(),c.g=null)}function or(c){Ea(c),c.v&&(f.clearTimeout(c.v),c.v=null),cr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!El(c.h)&&!c.m){c.m=!0;var y=c.Ea;ct||x(),st||(ct(),st=!0),R.add(y,c),c.D=0}}function ur(c,y){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(v(c.Ea,c,y),gu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Yn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=L(K),rt(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=fu(this,z,y),E=be(this.J),Kt(E,"RID",c),Kt(E,"CVER",22),this.G&&Kt(E,"X-HTTP-Session-Id",this.G),Es(this,E),K&&(this.R?y="headers="+Pi(Vn(K))+"&"+y:this.u&&ys(E,this.u,K)),Tl(this.h,z),this.Ra&&Kt(E,"TYPE","init"),this.S?(Kt(E,"$req",y),Kt(E,"SID","null"),z.U=!0,fi(z,E,null)):fi(z,E,y),this.I=2}}else this.I==3&&(c?jl(this,c):this.i.length==0||El(this.h)||jl(this))};function jl(c,y){var E;y?E=y.l:E=c.V++;const A=be(c.J);Kt(A,"SID",c.M),Kt(A,"RID",E),Kt(A,"AID",c.K),Es(c,A),c.u&&c.o&&ys(A,c.u,c.o),E=new Yn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=fu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Tl(c.h,E),fi(E,A,y)}function Es(c,y){c.H&&Nt(c.H,function(E,A){Kt(y,A,E)}),c.l&&Nt({},function(E,A){Kt(y,A,E)})}function fu(c,y,E){E=Math.min(c.i.length,E);const A=c.l?v(c.l.Ka,c.l,c):null;t:{var z=c.i;let At=-1;for(;;){const pe=["count="+E];At==-1?E>0?(At=z[0].g,pe.push("ofs="+At)):At=0:pe.push("ofs="+At);let Ft=!0;for(let le=0;le<E;le++){var K=z[le].g;const Mn=z[le].map;if(K-=At,K<0)At=Math.max(0,z[le].g-100),Ft=!1;else try{K="req"+K+"_"||"";try{var lt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ai,Jn]of lt){let Wn=Jn;p(Jn)&&(Wn=fa(Jn)),pe.push(K+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw pe.push(K+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(Mn)}}if(Ft){lt=pe.join("&");break t}}lt=void 0}return c=c.i.splice(0,E),y.G=c,lt}function du(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ct||x(),st||(ct(),st=!0),R.add(y,c),c.A=0}}function Ts(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(v(c.Da,c),gu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(v(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Ea(this),mu(this))};function Vl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function mu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=be(c.na);Kt(y,"RID","rpc"),Kt(y,"SID",c.M),Kt(y,"AID",c.K),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(y,"TO",c.ia),Kt(y,"TYPE","xmlhttp"),Es(c,y),c.u&&c.o&&ys(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ms(be(y)),E.u=null,E.R=!0,er(E,c)}a.Va=function(){this.C!=null&&(this.C=null,Ea(this),Ts(this),Ee(19))};function cr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function pu(c,y){var E=null;if(c.g==y){cr(c),Vl(c),c.g=null;var A=2}else if(yi(c.h,y))E=y.G,Sl(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=tr(),Ve(A,new ui(A,E)),Si(c)}else du(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&ur(c,y)||A==2&&Ts(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),z){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function gu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var E=v(c.bb,c),A=c.Ua;const z=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ue(A,"https"),ms(A),z?Xn(A.toString(),E):Cl(A.toString(),E)}else Ee(2);c.I=0,c.l&&c.l.pa(y),yu(c),or(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function yu(c){if(c.I=0,c.ja=[],c.l){const y=bl(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function vu(c,y,E){var A=E instanceof vn?be(E):new vn(E);if(A.g!="")y&&(A.g=y+"."+A.g),da(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new vn(null);A&&Ue(K,A),y&&(K.g=y),z&&da(K,z),E&&(K.h=E),A=K}return E=c.G,y=c.wa,E&&y&&Kt(A,E,y),Kt(A,"VER",c.ka),Es(c,A),A}function _u(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Jt(new _i({ab:E})):new Jt(c.ma),y.Fa(c.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}a=Eu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){_e.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Bi(this)}S(nn,_e),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Il(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=fa(c),c=E);y.i.push(new Se(y.Ya++,c)),y.I==3&&Si(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,nn.Z.N.call(this)};function Tu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const E in y){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Tu,ze);function Su(){Dn.call(this),this.status=1}S(Su,Dn);function Bi(c){this.g=c}S(Bi,Eu),Bi.prototype.ra=function(){Ve(this.g,"a")},Bi.prototype.qa=function(c){Ve(this.g,new Tu(c))},Bi.prototype.pa=function(c){Ve(this.g,new Su)},Bi.prototype.oa=function(){Ve(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,c0=function(){return new Ta},u0=function(){return tr()},o0=me,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Mc=fs,yl.COMPLETE="complete",l0=yl,tu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Eo=tu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,r0=Jt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",T_="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let al="12.7.0";const qs=new Vm("@firebase/firestore");function Br(){return qs.logLevel}function ht(a,...t){if(qs.logLevel<=Bt.DEBUG){const i=t.map(Om);qs.debug(`Firestore (${al}): ${a}`,...i)}}function oa(a,...t){if(qs.logLevel<=Bt.ERROR){const i=t.map(Om);qs.error(`Firestore (${al}): ${a}`,...i)}}function Kr(a,...t){if(qs.logLevel<=Bt.WARN){const i=t.map(Om);qs.warn(`Firestore (${al}): ${a}`,...i)}}function Om(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function _t(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,h0(a,s,i)}function h0(a,t,i){let s=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw oa(s),new Error(s)}function Yt(a,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||h0(t,o,s)}function bt(a,t){return a}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class aa{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class f0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class Ax{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class wx{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let u=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new aa,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new aa)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new f0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class xx{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rx{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new xx(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cx{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ux(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Nx(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Nx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=t.charAt(o[u]%62))}return s}}function Mt(a,t){return a<t?-1:a>t?1:0}function tm(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const o=a.charAt(s),u=t.charAt(s);if(o!==u)return Ud(o)===Ud(u)?Mt(o,u):Ud(o)?1:-1}return Mt(a.length,t.length)}const Dx=55296,Ix=57343;function Ud(a){const t=a.charCodeAt(0);return t>=Dx&&t<=Ix}function Xr(a,t,i){return a.length===t.length&&a.every(((s,o)=>i(s,t[o])))}const b_="__name__";class Di{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const u=Di.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Mt(t.length,i.length)}static compareSegments(t,i){const s=Di.isNumericId(t),o=Di.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(t).compare(Di.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ya.fromString(t.substring(4,t.length-2))}}class ie extends Di{construct(t,i,s){return new ie(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Di{construct(t,i,s){return new Ye(t,i,s)}static isValidIdentifier(t){return jx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new Ye([b_])}static fromServerFormat(t){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ot(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ot(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ie.fromString(t))}static fromName(t){return new yt(ie.fromString(t).popFirst(5))}static empty(){return new yt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ie(t.slice()))}}function d0(a,t,i){if(!i)throw new ot(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Vx(a,t,i,s){if(t===!0&&s===!0)throw new ot(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function A_(a){if(!yt.isDocumentKey(a))throw new ot(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function w_(a){if(yt.isDocumentKey(a))throw new ot(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function m0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function sh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function ua(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sh(a);throw new ot(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function De(a,t){const i={typeString:a};return t&&(i.value=t),i}function qo(a,t){if(!m0(a))throw new ot(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const f=a[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ot(tt.INVALID_ARGUMENT,i);return!0}const x_=-62135596800,R_=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(t){return Qt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*R_);return new Qt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<x_)throw new ot(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qo(t,Qt._jsonSchema))return new Qt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-x_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:De("string",Qt._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Qt(0,0))}static max(){return new Tt(new Qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function Mx(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Qt(i+1,0):new Qt(i,s));return new Za(o,yt.empty(),t)}function Ox(a){return new Za(a.readTime,a.key,jo)}class Za{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Za(Tt.min(),yt.empty(),jo)}static max(){return new Za(Tt.max(),yt.empty(),jo)}}function Lx(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,t.documentKey),i!==0?i:Mt(a.largestBatchId,t.largestBatchId))}const Ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Px{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function sl(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==Ux)throw a;ht("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.reject(i)}static resolve(t){return new nt(((i,s)=>{i(t)}))}static reject(t){return new nt(((i,s)=>{s(t)}))}static waitFor(t){return new nt(((i,s)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&i()}),(g=>s(g)))})),f=!0,u===o&&i()}))}static or(t){let i=nt.resolve(!1);for(const s of t)i=i.next((o=>o?nt.resolve(o):s()));return i}static forEach(t,i){const s=[];return t.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(t,i){return new nt(((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;i(t[v]).next((T=>{f[v]=T,++p,p===u&&s(f)}),(T=>o(T)))}}))}static doWhile(t,i){return new nt(((s,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):s()};u()}))}}function kx(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function rl(a){return a.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const Um=-1;function lh(a){return a==null}function Hc(a){return a===0&&1/a==-1/0}function zx(a){return typeof a=="number"&&Number.isInteger(a)&&!Hc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const p0="";function Bx(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=C_(t)),t=qx(a.get(i),t);return C_(t)}function qx(a,t){let i=t;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case p0:i+="";break;default:i+=u}}return i}function C_(a){return a+p0+""}function N_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function ss(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function g0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class he{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,s,o,u){this.key=t,this.value=i,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,u){return new Qe(t??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,o,u){return this}insert(t,i,s){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(t){return new D_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class D_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new xn([])}unionWith(t){let i=new Oe(Ye.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xr(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new y0("Invalid base64 string: "+u):u}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(a){if(Yt(!!a,39018),typeof a=="string"){let t=0;const i=Hx.exec(a);if(Yt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(a.seconds),nanos:ve(a.nanos)}}function ve(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Wa(a){return typeof a=="string"?Ke.fromBase64String(a):Ke.fromUint8Array(a)}const v0="server_timestamp",_0="__type__",E0="__previous_value__",T0="__local_write_time__";function Pm(a){return(a?.mapValue?.fields||{})[_0]?.stringValue===v0}function oh(a){const t=a.mapValue.fields[E0];return Pm(t)?oh(t):t}function Vo(a){const t=Ja(a.mapValue.fields[T0].timestampValue);return new Qt(t.seconds,t.nanos)}class Fx{constructor(t,i,s,o,u,f,p,g,v,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T}}const Fc="(default)";class Mo{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}const S0="__type__",Gx="__max__",Nc={mapValue:{}},b0="__vector__",Gc="value";function ts(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Pm(a)?4:Yx(a)?9007199254740991:Qx(a)?10:11:_t(28295,{value:a})}function Li(a,t){if(a===t)return!0;const i=ts(a);if(i!==ts(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Vo(a).isEqual(Vo(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ja(o.timestampValue),p=Ja(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,u){return Wa(o.bytesValue).isEqual(Wa(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(a,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),p=ve(u.doubleValue);return f===p?Hc(f)===Hc(p):isNaN(f)&&isNaN(p)}return!1})(a,t);case 9:return Xr(a.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(N_(f)!==N_(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Li(f[g],p[g])))return!1;return!0})(a,t);default:return _t(52216,{left:a})}}function Oo(a,t){return(a.values||[]).find((i=>Li(i,t)))!==void 0}function $r(a,t){if(a===t)return 0;const i=ts(a),s=ts(t);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ve(u.integerValue||u.doubleValue),g=ve(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,t);case 3:return I_(a.timestampValue,t.timestampValue);case 4:return I_(Vo(a),Vo(t));case 5:return tm(a.stringValue,t.stringValue);case 6:return(function(u,f){const p=Wa(u),g=Wa(f);return p.compareTo(g)})(a.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let v=0;v<p.length&&v<g.length;v++){const T=Mt(p[v],g[v]);if(T!==0)return T}return Mt(p.length,g.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Mt(ve(u.latitude),ve(f.latitude));return p!==0?p:Mt(ve(u.longitude),ve(f.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return j_(a.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},v=p[Gc]?.arrayValue,T=g[Gc]?.arrayValue,S=Mt(v?.values?.length||0,T?.values?.length||0);return S!==0?S:j_(v,T)})(a.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Nc.mapValue&&f===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(f===Nc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=f.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const w=tm(g[S],T[S]);if(w!==0)return w;const j=$r(p[g[S]],v[T[S]]);if(j!==0)return j}return Mt(g.length,T.length)})(a.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function I_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Mt(a,t);const i=Ja(a),s=Ja(t),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function j_(a,t){const i=a.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=$r(i[o],s[o]);if(u)return u}return Mt(i.length,s.length)}function Zr(a){return em(a)}function em(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Ja(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Wa(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return yt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=em(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${em(i.fields[f])}`;return o+"}"})(a.mapValue):_t(61005,{value:a})}function Oc(a){switch(ts(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(a);return t?16+Oc(t):16;case 5:return 2*a.stringValue.length;case 6:return Wa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Oc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return ss(s.fields,((u,f)=>{o+=u.length+Oc(f)})),o})(a.mapValue);default:throw _t(13486,{value:a})}}function V_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function nm(a){return!!a&&"integerValue"in a}function km(a){return!!a&&"arrayValue"in a}function M_(a){return!!a&&"nullValue"in a}function O_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Lc(a){return!!a&&"mapValue"in a}function Qx(a){return(a?.mapValue?.fields||{})[S0]?.stringValue===b0}function wo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return ss(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=wo(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wo(a.arrayValue.values[i]);return t}return{...a}}function Yx(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Gx}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(i)}setAll(t){let i=Ye.emptyPath(),s={},o=[];t.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}f?s[p.lastSegment()]=wo(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){ss(i,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new pn(wo(this.value))}}function A0(a){const t=[];return ss(a.fields,((i,s)=>{const o=new Ye([i]);if(Lc(s)){const u=A0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new xn(t)}class We{constructor(t,i,s,o,u,f,p){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new We(t,0,Tt.min(),Tt.min(),Tt.min(),pn.empty(),0)}static newFoundDocument(t,i,s,o){return new We(t,1,i,Tt.min(),s,o,0)}static newNoDocument(t,i){return new We(t,2,i,Tt.min(),Tt.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,Tt.min(),Tt.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function L_(a,t,i){let s=0;for(let o=0;o<a.position.length;o++){const u=t[o],f=a.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),i.key):s=$r(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function U_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Li(a.position[i],t.position[i]))return!1;return!0}class Lo{constructor(t,i="asc"){this.field=t,this.dir=i}}function Kx(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class w0{}class Ne extends w0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new $x(t,i,s):i==="array-contains"?new Wx(t,s):i==="in"?new t2(t,s):i==="not-in"?new e2(t,s):i==="array-contains-any"?new n2(t,s):new Ne(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Zx(t,s):new Jx(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($r(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison($r(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends w0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ai(t,i)}matches(t){return x0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x0(a){return a.op==="and"}function R0(a){return Xx(a)&&x0(a)}function Xx(a){for(const t of a.filters)if(t instanceof ai)return!1;return!0}function im(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Zr(a.value);if(R0(a))return a.filters.map((t=>im(t))).join(",");{const t=a.filters.map((i=>im(i))).join(",");return`${a.op}(${t})`}}function C0(a,t){return a instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(a,t):a instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&C0(f,o.filters[p])),!0):!1})(a,t):void _t(19439)}function N0(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Zr(i.value)}`})(a):a instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(N0).join(" ,")+"}"})(a):"Filter"}class $x extends Ne{constructor(t,i,s){super(t,i,s),this.key=yt.fromName(s.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Zx extends Ne{constructor(t,i){super(t,"in",i),this.keys=D0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Jx extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=D0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function D0(a,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class Wx extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&Oo(i.arrayValue,this.value)}}class t2 extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class e2 extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class n2 extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Oo(this.value.arrayValue,s)))}}class i2{constructor(t,i=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function P_(a,t=null,i=[],s=[],o=null,u=null,f=null){return new i2(a,t,i,s,o,u,f)}function zm(a){const t=bt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>im(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Zr(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Zr(s))).join(",")),t.Te=i}return t.Te}function Bm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Kx(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!C0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!U_(a.startAt,t.startAt)&&U_(a.endAt,t.endAt)}function am(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class ll{constructor(t,i=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function a2(a,t,i,s,o,u,f,p){return new ll(a,t,i,s,o,u,f,p)}function qm(a){return new ll(a)}function k_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function I0(a){return a.collectionGroup!==null}function xo(a){const t=bt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Oe(Ye.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Lo(u,s))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Lo(Ye.keyField(),s))}return t.Ie}function ji(a){const t=bt(a);return t.Ee||(t.Ee=s2(t,xo(a))),t.Ee}function s2(a,t){if(a.limitType==="F")return P_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lo(o.field,u)}));const i=a.endAt?new Qc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Qc(a.startAt.position,a.startAt.inclusive):null;return P_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function sm(a,t){const i=a.filters.concat([t]);return new ll(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function rm(a,t,i){return new ll(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return Bm(ji(a),ji(t))&&a.limitType===t.limitType}function j0(a){return`${zm(ji(a))}|lt:${a.limitType}`}function qr(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>N0(o))).join(", ")}]`),lh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Zr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Zr(o))).join(",")),`Target(${s})`})(ji(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,t)&&(function(s,o){for(const u of xo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,t)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const v=L_(f,p,g);return f.inclusive?v<=0:v<0})(s.startAt,xo(s),o)||s.endAt&&!(function(f,p,g){const v=L_(f,p,g);return f.inclusive?v>=0:v>0})(s.endAt,xo(s),o))})(a,t)}function r2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function V0(a){return(t,i)=>{let s=!1;for(const o of xo(a)){const u=l2(o,t,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function l2(a,t,i){const s=a.field.isKeyField()?yt.comparator(t.key,i.key):(function(u,f,p){const g=f.data.field(u),v=p.data.field(u);return g!==null&&v!==null?$r(g,v):_t(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}class Ks{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,((i,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}const o2=new he(yt.comparator);function ca(){return o2}const M0=new he(yt.comparator);function To(...a){let t=M0;for(const i of a)t=t.insert(i.key,i);return t}function O0(a){let t=M0;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function ks(){return Ro()}function L0(){return Ro()}function Ro(){return new Ks((a=>a.toString()),((a,t)=>a.isEqual(t)))}const u2=new he(yt.comparator),c2=new Oe(yt.comparator);function Ot(...a){let t=c2;for(const i of a)t=t.add(i);return t}const h2=new Oe(Mt);function f2(){return h2}function Hm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function U0(a){return{integerValue:""+a}}function d2(a,t){return zx(t)?U0(t):Hm(a,t)}class hh{constructor(){this._=void 0}}function m2(a,t,i){return a instanceof Yc?(function(o,u){const f={fields:{[_0]:{stringValue:v0},[T0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pm(u)&&(u=oh(u)),u&&(f.fields[E0]=u),{mapValue:f}})(i,t):a instanceof Uo?k0(a,t):a instanceof Po?z0(a,t):(function(o,u){const f=P0(o,u),p=z_(f)+z_(o.Ae);return nm(f)&&nm(o.Ae)?U0(p):Hm(o.serializer,p)})(a,t)}function p2(a,t,i){return a instanceof Uo?k0(a,t):a instanceof Po?z0(a,t):i}function P0(a,t){return a instanceof Kc?(function(s){return nm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Yc extends hh{}class Uo extends hh{constructor(t){super(),this.elements=t}}function k0(a,t){const i=B0(t);for(const s of a.elements)i.some((o=>Li(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Po extends hh{constructor(t){super(),this.elements=t}}function z0(a,t){let i=B0(t);for(const s of a.elements)i=i.filter((o=>!Li(o,s)));return{arrayValue:{values:i}}}class Kc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function z_(a){return ve(a.integerValue||a.doubleValue)}function B0(a){return km(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function g2(a,t){return a.field.isEqual(t.field)&&(function(s,o){return s instanceof Uo&&o instanceof Uo||s instanceof Po&&o instanceof Po?Xr(s.elements,o.elements,Li):s instanceof Kc&&o instanceof Kc?Li(s.Ae,o.Ae):s instanceof Yc&&o instanceof Yc})(a.transform,t.transform)}class y2{constructor(t,i){this.version=t,this.transformResults=i}}class ii{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function q0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Fm(a.key,ii.none()):new Ho(a.key,a.data,ii.none());{const i=a.data,s=pn.empty();let o=new Oe(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(a.key,s,new xn(o.toArray()),ii.none())}}function v2(a,t,i){a instanceof Ho?(function(o,u,f){const p=o.value.clone(),g=q_(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,t,i):a instanceof rs?(function(o,u,f){if(!Uc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=q_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(H0(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,t,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Co(a,t,i,s){return a instanceof Ho?(function(u,f,p,g){if(!Uc(u.precondition,f))return p;const v=u.value.clone(),T=H_(u.fieldTransforms,g,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(a,t,i,s):a instanceof rs?(function(u,f,p,g){if(!Uc(u.precondition,f))return p;const v=H_(u.fieldTransforms,g,f),T=f.data;return T.setAll(H0(u)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(u,f,p){return Uc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,t,i)}function _2(a,t){let i=null;for(const s of a.fieldTransforms){const o=t.data.field(s.field),u=P0(s.transform,o||null);u!=null&&(i===null&&(i=pn.empty()),i.set(s.field,u))}return i||null}function B_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xr(s,o,((u,f)=>g2(u,f)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ho extends fh{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends fh{constructor(t,i,s,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function H0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function q_(a,t,i){const s=new Map;Yt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,p2(f,p,i[o]))}return s}function H_(a,t,i){const s=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);s.set(o.field,m2(u,f,t))}return s}class Fm extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class T2{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&v2(u,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Co(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Co(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=L0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(o.key)?null:p;const g=q0(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Xr(this.mutations,t.mutations,((i,s)=>B_(i,s)))&&Xr(this.baseMutations,t.baseMutations,((i,s)=>B_(i,s)))}}class Gm{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return u2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Gm(t,i,s,o)}}class S2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class b2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,zt;function A2(a){switch(a){case tt.OK:return _t(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function F0(a){if(a===void 0)return oa("GRPC error has no .code"),tt.UNKNOWN;switch(a){case Ce.OK:return tt.OK;case Ce.CANCELLED:return tt.CANCELLED;case Ce.UNKNOWN:return tt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return tt.INTERNAL;case Ce.UNAVAILABLE:return tt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return tt.NOT_FOUND;case Ce.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ce.ABORTED:return tt.ABORTED;case Ce.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ce.DATA_LOSS:return tt.DATA_LOSS;default:return _t(39323,{code:a})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function w2(){return new TextEncoder}const x2=new Ya([4294967295,4294967295],0);function F_(a){const t=w2().encode(a),i=new s0;return i.update(t),new Uint8Array(i.digest())}function G_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ya([i,s],0),new Ya([o,u],0)]}class Qm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(s<0)throw new So(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ya.fromNumber(this.ge)}ye(t,i,s){let o=t.add(i.multiply(Ya.fromNumber(s)));return o.compare(x2)===1&&(o=new Ya([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=F_(t),[s,o]=G_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Qm(u,o,i);return s.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const i=F_(t),[s,o]=G_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,s,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Fo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new dh(Tt.min(),o,new he(Mt),ca(),Ot())}}class Fo{constructor(t,i,s,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Fo(s,i,Ot(),Ot(),Ot())}}class Pc{constructor(t,i,s,o){this.be=t,this.removedTargetIds=i,this.key=s,this.De=o}}class G0{constructor(t,i){this.targetId=t,this.Ce=i}}class Q0{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Q_{constructor(){this.ve=0,this.Fe=Y_(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}})),new Fo(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Y_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class R2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ca(),this.Je=Dc(),this.He=Dc(),this.Ye=new he(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,s=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(am(u))if(s===0){const f=new yt(u.path);this.et(i,f,We.newNoDocument(f,Tt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,p;try{f=Wa(s).toUint8Array()}catch(g){if(g instanceof y0)return Kr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Qm(f,o,u)}catch(g){return Kr(g instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&am(p.target)){const g=new yt(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,We.newNoDocument(g,t))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=Ot();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new dh(t,i,this.Ye,this.je,s);return this.je=ca(),this.Je=Dc(),this.He=Dc(),this.Ye=new he(Mt),o}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Q_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new he(yt.comparator)}function Y_(){return new he(yt.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},N2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class I2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(a,t){return a.useProto3Json||lh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function j2(a,t){return Xc(a,t.toTimestamp())}function Vi(a){return Yt(!!a,49232),Tt.fromTimestamp((function(i){const s=Ja(i);return new Qt(s.seconds,s.nanos)})(a))}function Ym(a,t){return om(a,t).canonicalString()}function om(a,t){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function K0(a){const t=ie.fromString(a);return Yt(W0(t),10190,{key:t.toString()}),t}function um(a,t){return Ym(a.databaseId,t.path)}function Pd(a,t){const i=K0(t);if(i.get(1)!==a.databaseId.projectId)throw new ot(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt($0(i))}function X0(a,t){return Ym(a.databaseId,t)}function V2(a){const t=K0(a);return t.length===4?ie.emptyPath():$0(t)}function cm(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function $0(a){return Yt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function K_(a,t,i){return{name:um(a,t),fields:i.value.mapValue.fields}}function M2(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(Yt(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(Yt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(a,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(v){const T=v.code===void 0?tt.UNKNOWN:F0(v.code);return new ot(T,v.message||"")})(f);i=new Q0(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pd(a,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):Tt.min(),p=new pn({mapValue:{fields:s.document.fields}}),g=We.newFoundDocument(o,u,f,p),v=s.targetIds||[],T=s.removedTargetIds||[];i=new Pc(v,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Pd(a,s.document),u=s.readTime?Vi(s.readTime):Tt.min(),f=We.newNoDocument(o,u),p=s.removedTargetIds||[];i=new Pc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Pd(a,s.document),u=s.removedTargetIds||[];i=new Pc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new b2(o,u),p=s.targetId;i=new G0(p,f)}}return i}function O2(a,t){let i;if(t instanceof Ho)i={update:K_(a,t.key,t.value)};else if(t instanceof Fm)i={delete:um(a,t.key)};else if(t instanceof rs)i={update:K_(a,t.key,t.data),updateMask:F2(t.fieldMask)};else{if(!(t instanceof E2))return _t(16599,{Vt:t.type});i={verify:um(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Yc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Po)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:j2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(a,t.precondition)),i}function L2(a,t){return a&&a.length>0?(Yt(t!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(Tt.min())&&(f=Vi(u)),new y2(f,o.transformResults||[])})(i,t)))):[]}function U2(a,t){return{documents:[X0(a,t.path)]}}function P2(a,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=X0(a,o);const u=(function(v){if(v.length!==0)return J0(ai.create(v,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((T=>(function(w){return{field:Hr(w.field),direction:B2(w.dir)}})(T)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const p=lm(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function k2(a){let t=V2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Yt(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];i.where&&(u=(function(S){const w=Z0(S);return w instanceof ai&&R0(w)?w.getFilters():[w]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((w=>(function(q){return new Lo(Fr(q.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let w;return w=typeof S=="object"?S.value:S,lh(w)?null:w})(i.limit));let g=null;i.startAt&&(g=(function(S){const w=!!S.before,j=S.values||[];return new Qc(j,w)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const w=!S.before,j=S.values||[];return new Qc(j,w)})(i.endAt)),a2(t,o,f,u,p,"F",g,v)}function z2(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Z0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Fr(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fr(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fr(i.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fr(i.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Fr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((s=>Z0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(a):_t(30097,{filter:a})}function B2(a){return C2[a]}function q2(a){return N2[a]}function H2(a){return D2[a]}function Hr(a){return{fieldPath:a.canonicalString()}}function Fr(a){return Ye.fromServerFormat(a.fieldPath)}function J0(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(O_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NAN"}};if(M_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NAN"}};if(M_(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(i.field),op:q2(i.op),value:i.value}}})(a):a instanceof ai?(function(i){const s=i.getFilters().map((o=>J0(o)));return s.length===1?s[0]:{compositeFilter:{op:H2(i.op),filters:s}}})(a):_t(54877,{filter:a})}function F2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function W0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Fa{constructor(t,i,s,o,u=Tt.min(),f=Tt.min(),p=Ke.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Fa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class G2{constructor(t){this.yt=t}}function Q2(a){const t=k2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?rm(t,t.limit,"L"):t}class Y2{constructor(){this.Cn=new K2}addToCollectionParentIndex(t,i){return this.Cn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(Za.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(Za.min())}updateCollectionGroup(t,i,s){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class K2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Oe(ie.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(ie.comparator)).toArray()}}const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(tT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Jr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Jr(0)}static cr(){return new Jr(-1)}}const $_="LruGarbageCollector",X2=1048576;function Z_([a,t],[i,s]){const o=Mt(a,i);return o===0?Mt(t,s):o}class $2{constructor(t){this.Ir=t,this.buffer=new Oe(Z_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Z_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht($_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){rl(i)?ht($_,"Ignoring IndexedDB error during garbage collection: ",i):await sl(i)}await this.Vr(3e5)}))}}class J2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(rh.ce);const s=new $2(i);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(X_)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,o,u,f,p,g,v;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(v=Date.now(),Br()<=Bt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function W2(a,t){return new J2(a,t)}class tR{constructor(){this.changes=new Ks((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?nt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nR{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(s!==null&&Co(s.mutation,o,xn.empty(),Qt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const o=ks();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,s).next((u=>{let f=To();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const s=ks();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(t,i,s,o){let u=ca();const f=Ro(),p=(function(){return Ro()})();return i.forEach(((g,v)=>{const T=s.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof rs)?u=u.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),Co(T.mutation,v,T.mutation.getFieldMask(),Qt.now())):f.set(v.key,xn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((v,T)=>f.set(v,T))),i.forEach(((v,T)=>p.set(v,new eR(T,f.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Ro();let o=new he(((f,p)=>f-p)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const p of f)p.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let T=s.get(g)||xn.empty();T=p.applyToLocalView(v,T),s.set(g,T);const S=(o.get(p.batchId)||Ot()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,T=g.value,S=L0();T.forEach((w=>{if(!u.has(w)){const j=q0(i.get(w),s.get(w));j!==null&&S.set(w,j),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,v,S))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):I0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-u.size):nt.resolve(ks());let p=jo,g=u;return f.next((v=>nt.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?nt.resolve():this.remoteDocumentCache.getEntry(t,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,g,v,Ot()))).next((T=>({batchId:p,changes:O0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((s=>{let o=To();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const u=i.collectionGroup;let f=To();return this.indexManager.getCollectionParents(t,u).next((p=>nt.forEach(p,(g=>{const v=(function(S,w){return new ll(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,s,o).next((T=>{T.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,o)))).next((f=>{u.forEach(((g,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,We.newInvalidDocument(T)))}));let p=To();return f.forEach(((g,v)=>{const T=u.get(g);T!==void 0&&Co(T.mutation,v,xn.empty(),Qt.now()),ch(i,v)&&(p=p.insert(g,v))})),p}))}}class iR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return nt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Q2(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),nt.resolve()}}class aR{constructor(){this.overlays=new he(yt.comparator),this.qr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=ks();return nt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((o,u)=>{this.St(t,i,u)})),nt.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,i,s){const o=ks(),u=i.length+1,f=new yt(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let u=new he(((v,T)=>v-T));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let T=u.get(v.largestBatchId);T===null&&(T=ks(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=ks(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return nt.resolve(p)}St(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new S2(i,s));let u=this.qr.get(i);u===void 0&&(u=Ot(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class sR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}class Km{constructor(){this.Qr=new Oe(ke.$r),this.Ur=new Oe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new ke(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new yt(new ie([])),s=new ke(i,t),o=new ke(i,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new ie([])),s=new ke(i,t),o=new ke(i,t+1);let u=Ot();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const i=new ke(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class rR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(ke.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new T2(u,i,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new ke(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,i){return nt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Oe(Mt);return i.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new yt(u),0);let p=new Oe(Mt);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Yr)),!0)}),f),nt.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(i.mutations,(o=>{const u=new ke(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new ke(i,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lR{constructor(t){this.ri=t,this.docs=(function(){return new he(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return nt.resolve(s?s.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let s=ca();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let u=ca();const f=i.path,p=new yt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||Lx(Ox(T),s)<=0||(o.has(T.key)||ch(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,i,s,o){_t(9500)}ii(t,i){return nt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new oR(this)}getSize(t){return nt.resolve(this.size)}}class oR extends tR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uR{constructor(t){this.persistence=t,this.si=new Ks((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=Jr.ur()}forEachTarget(t,i){return this.si.forEach(((s,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),nt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Jr(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.Pr(i),nt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return nt.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),nt.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return nt.resolve(s)}containsKey(t,i){return nt.resolve(this._i.containsKey(i))}}class eT{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new sR,this.referenceDelegate=t(this),this.Pi=new uR(this),this.indexManager=new Y2,this.remoteDocumentCache=(function(o){return new lR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new G2(i),this.Ii=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new rR(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){ht("MemoryPersistence","Starting transaction:",t);const o=new cR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class cR extends Px{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Xm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),nt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new Ks((s=>Bx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=W2(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((o=>s+o))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():i(o)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,i).next((p=>{p||(s++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,s){return nt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=o}static As(t,i){let s=Ot(),o=Ot();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $m(t,i.fromCache,s,o)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sw()?8:kx(nw())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,o){const u={result:null};return this.ys(t,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new hR;return this.Ss(t,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,i,f,p.size)}))})).next((()=>u.result))}bs(t,i,s,o){return s.documentReadCount<this.fs?(Br()<=Bt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",qr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Br()<=Bt.DEBUG&&ht("QueryEngine","Query:",qr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Br()<=Bt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",qr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(i))):nt.resolve())}ys(t,i){if(k_(i))return nt.resolve(null);let s=ji(i);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),s=ji(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Ot(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const v=this.Ds(i,p);return this.Cs(i,v,f,g.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,v,i,g)}))))})))))}ws(t,i,s,o){return k_(i)||o.isEqual(Tt.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?nt.resolve(null):(Br()<=Bt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qr(i)),this.vs(t,f,i,Mx(o,jo)).next((p=>p)))}))}Ds(t,i){let s=new Oe(V0(t));return i.forEach(((o,u)=>{ch(t,u)&&(s=s.add(u))})),s}Cs(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,s){return Br()<=Bt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",qr(i)),this.ps.getDocumentsMatchingQuery(t,i,Za.min(),s)}vs(t,i,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Zm="LocalStore",dR=3e8;class mR{constructor(t,i,s,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new he(Mt),this.xs=new Ks((u=>zm(u)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pR(a,t,i,s){return new mR(a,t,i,s)}async function nT(a,t){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=Ot();for(const v of o){f.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of u){p.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(s,g).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:p})))}))}))}function gR(a,t){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,T){const S=v.batch,w=S.keys();let j=nt.resolve();return w.forEach((q=>{j=j.next((()=>T.getEntry(g,q))).next((Q=>{const G=v.docVersions.get(q);Yt(G!==null,48541),Q.version.compareTo(G)<0&&(S.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),T.addEntry(Q)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,s,t,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ot();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function iT(a){const t=bt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yR(a,t){const i=bt(a),s=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const w=o.get(S);if(!w)return;p.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,S))));let j=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(S,j),(function(Q,G,Z){return Q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=dR?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,j,T)&&p.push(i.Pi.updateTargetData(u,j))}));let g=ca(),v=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(vR(u,f,t.documentUpdates).next((T=>{g=T.ks,v=T.qs}))),!s.isEqual(Tt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return nt.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(i.Ms=o,u)))}function vR(a,t,i){let s=Ot(),o=Ot();return i.forEach((u=>s=s.add(u))),t.getEntries(a,s).next((u=>{let f=ca();return i.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):ht(Zm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function _R(a,t){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function ER(a,t){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Fa(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function hm(a,t,i){const s=bt(a),o=s.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!rl(f))throw f;ht(Zm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function J_(a,t,i){const s=bt(a);let o=Tt.min(),u=Ot();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,v,T){const S=bt(g),w=S.xs.get(T);return w!==void 0?nt.resolve(S.Ms.get(w)):S.Pi.getTargetData(v,T)})(s,f,ji(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,i?o:Tt.min(),i?u:Ot()))).next((p=>(TR(s,r2(t),p),{documents:p,Qs:u})))))}function TR(a,t,i){let s=a.Os.get(t)||Tt.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(t,s)}class W_{constructor(){this.activeTargetIds=f2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SR{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bR{Oo(t){}shutdown(){}}const tE="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(tE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(tE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function fm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const kd="RestConnection",AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,i,s,o,u){const f=fm(),p=this.zo(t,i.toUriEncodedString());ht(kd,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:v}=new URL(p),T=jm(v);return this.Jo(t,p,g,s,T).then((S=>(ht(kd,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Kr(kd,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,o,u,f){return this.Go(t,i,s,o,u)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const s=AR[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class xR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class RR extends wR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,o,u){const f=fm();return new Promise(((p,g)=>{const v=new r0;v.setWithCredentials(!0),v.listenOnce(l0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Mc.NO_ERROR:const S=v.getResponseJson();ht(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case Mc.TIMEOUT:ht(Ze,`RPC '${t}' ${f} timed out`),g(new ot(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const w=v.getStatus();if(ht(Ze,`RPC '${t}' ${f} failed with status:`,w,"response text:",v.getResponseText()),w>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const q=j?.error;if(q&&q.status&&q.message){const Q=(function(Z){const F=Z.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(F)>=0?F:tt.UNKNOWN})(q.status);g(new ot(Q,q.message))}else g(new ot(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ot(tt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ht(Ze,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ht(Ze,`RPC '${t}' ${f} sending request:`,o),v.send(i,"POST",T,s,15)}))}T_(t,i,s){const o=fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=c0(),p=u0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ht(Ze,`Creating RPC '${t}' stream ${o}: ${T}`,g);const S=f.createWebChannel(T,g);this.I_(S);let w=!1,j=!1;const q=new xR({Yo:G=>{j?ht(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(w||(ht(Ze,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),ht(Ze,`RPC '${t}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),Q=(G,Z,F)=>{G.listen(Z,(it=>{try{F(it)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return Q(S,Eo.EventType.OPEN,(()=>{j||(ht(Ze,`RPC '${t}' stream ${o} transport opened.`),q.o_())})),Q(S,Eo.EventType.CLOSE,(()=>{j||(j=!0,ht(Ze,`RPC '${t}' stream ${o} transport closed`),q.a_(),this.E_(S))})),Q(S,Eo.EventType.ERROR,(G=>{j||(j=!0,Kr(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),q.a_(new ot(tt.UNAVAILABLE,"The operation could not be completed")))})),Q(S,Eo.EventType.MESSAGE,(G=>{if(!j){const Z=G.data[0];Yt(!!Z,16349);const F=Z,it=F?.error||F[0]?.error;if(it){ht(Ze,`RPC '${t}' stream ${o} received error:`,it);const ft=it.status;let ct=(function(x){const N=Ce[x];if(N!==void 0)return F0(N)})(ft),st=it.message;ct===void 0&&(ct=tt.INTERNAL,st="Unknown error status: "+ft+" with message "+it.message),j=!0,q.a_(new ot(ct,st)),S.close()}else ht(Ze,`RPC '${t}' stream ${o} received:`,Z),q.u_(Z)}})),Q(p,o0.STAT_EVENT,(G=>{G.stat===Wd.PROXY?ht(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===Wd.NOPROXY&&ht(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function zd(){return typeof document<"u"?document:null}function mh(a){return new I2(a,!0)}class aT{constructor(t,i,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nE="PersistentStream";class sT{constructor(t,i,s,o,u,f,p,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(oa(i.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(nE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ht(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends sT{constructor(t,i,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=M2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?Vi(f.readTime):Tt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(u,f){let p;const g=f.target;if(p=am(g)?{documents:U2(u,g)}:{query:P2(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Y0(u,f.resumeToken);const v=lm(u,f.expectedCount);v!==null&&(p.expectedCount=v)}else if(f.snapshotVersion.compareTo(Tt.min())>0){p.readTime=Xc(u,f.snapshotVersion.toTimestamp());const v=lm(u,f.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const s=z2(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class NR extends sT{constructor(t,i,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=L2(t.writeResults,t.commitTime),s=Vi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>O2(this.serializer,s)))};this.q_(i)}}class DR{}class IR extends DR{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,om(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(tt.UNKNOWN,u.toString())}))}Ho(t,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,om(i,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oa(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hs="RemoteStore";class VR{constructor(t,i,s,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Xs(this)&&(ht(Hs,"Restarting streams for network reachability change."),await(async function(g){const v=bt(g);v.Ea.add(4),await Go(v),v.Ra.set("Unknown"),v.Ea.delete(4),await ph(v)})(this))}))})),this.Ra=new jR(s,o)}}async function ph(a){if(Xs(a))for(const t of a.da)await t(!0)}async function Go(a){for(const t of a.da)await t(!1)}function rT(a,t){const i=bt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ep(i)?tp(i):ol(i).O_()&&Wm(i,t))}function Jm(a,t){const i=bt(a),s=ol(i);i.Ia.delete(t),s.O_()&&lT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Xs(i)&&i.Ra.set("Unknown"))}function Wm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ol(a).Y_(t)}function lT(a,t){a.Va.Ue(t),ol(a).Z_(t)}function tp(a){a.Va=new R2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ol(a).start(),a.Ra.ua()}function ep(a){return Xs(a)&&!ol(a).x_()&&a.Ia.size>0}function Xs(a){return bt(a).Ea.size===0}function oT(a){a.Va=void 0}async function MR(a){a.Ra.set("Online")}async function OR(a){a.Ia.forEach(((t,i)=>{Wm(a,t)}))}async function LR(a,t){oT(a),ep(a)?(a.Ra.ha(t),tp(a)):a.Ra.set("Unknown")}async function UR(a,t,i){if(a.Ra.set("Online"),t instanceof Q0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(s){ht(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zc(a,s)}else if(t instanceof Pc?a.Va.Ze(t):t instanceof G0?a.Va.st(t):a.Va.tt(t),!i.isEqual(Tt.min()))try{const s=await iT(a.localStore);i.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(v);T&&u.Ia.set(v,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,v)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),lT(u,g);const S=new Fa(T.target,g,v,T.sequenceNumber);Wm(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){ht(Hs,"Failed to raise snapshot:",s),await Zc(a,s)}}async function Zc(a,t,i){if(!rl(t))throw t;a.Ea.add(1),await Go(a),a.Ra.set("Offline"),i||(i=()=>iT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ht(Hs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await ph(a)}))}function uT(a,t){return t().catch((i=>Zc(a,i,t)))}async function gh(a){const t=bt(a),i=es(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;PR(t);)try{const o=await _R(t.localStore,s);if(o===null){t.Ta.length===0&&i.L_();break}s=o.batchId,kR(t,o)}catch(o){await Zc(t,o)}cT(t)&&hT(t)}function PR(a){return Xs(a)&&a.Ta.length<10}function kR(a,t){a.Ta.push(t);const i=es(a);i.O_()&&i.X_&&i.ea(t.mutations)}function cT(a){return Xs(a)&&!es(a).x_()&&a.Ta.length>0}function hT(a){es(a).start()}async function zR(a){es(a).ra()}async function BR(a){const t=es(a);for(const i of a.Ta)t.ea(i.mutations)}async function qR(a,t,i){const s=a.Ta.shift(),o=Gm.from(s,t,i);await uT(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await gh(a)}async function HR(a,t){t&&es(a).X_&&await(async function(s,o){if((function(f){return A2(f)&&f!==tt.ABORTED})(o.code)){const u=s.Ta.shift();es(s).B_(),await uT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gh(s)}})(a,t),cT(a)&&hT(a)}async function iE(a,t){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),ht(Hs,"RemoteStore received new credentials");const s=Xs(i);i.Ea.add(3),await Go(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function FR(a,t){const i=bt(a);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await Go(i),i.Ra.set("Unknown"))}function ol(a){return a.ma||(a.ma=(function(i,s,o){const u=bt(i);return u.sa(),new CR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:MR.bind(null,a),t_:OR.bind(null,a),r_:LR.bind(null,a),H_:UR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),ep(a)?tp(a):a.Ra.set("Unknown")):(await a.ma.stop(),oT(a))}))),a.ma}function es(a){return a.fa||(a.fa=(function(i,s,o){const u=bt(i);return u.sa(),new NR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:zR.bind(null,a),r_:HR.bind(null,a),ta:BR.bind(null,a),na:qR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await gh(a)):(await a.fa.stop(),a.Ta.length>0&&(ht(Hs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class np{constructor(t,i,s,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,u){const f=Date.now()+s,p=new np(t,i,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(a,t){if(oa("AsyncQueue",`${t}: ${a}`),rl(a))return new ot(tt.UNAVAILABLE,`${t}: ${a}`);throw a}class Gr{static emptySet(t){return new Gr(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=To(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Gr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Gr;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class aE{constructor(){this.ga=new he(yt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Wr{constructor(t,i,s,o,u,f,p,g,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,o,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new Wr(t,i,Gr.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class GR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QR{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=bt(i),u=o.queries;o.queries=sE(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ot(tt.ABORTED,"Firestore shutting down"))}}function sE(){return new Ks((a=>j0(a)),uh)}async function fT(a,t){const i=bt(a);let s=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new GR,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=ip(f,`Initialization of query '${qr(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&ap(i)}async function dT(a,t){const i=bt(a),s=t.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function YR(a,t){const i=bt(a);let s=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&ap(i)}function KR(a,t,i){const s=bt(a),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(t)}function ap(a){a.Ca.forEach((t=>{t.next()}))}var dm,rE;(rE=dm||(dm={})).Ma="default",rE.Cache="cache";class mT{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Wr(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class pT{constructor(t){this.key=t}}class gT{constructor(t){this.key=t}}class XR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=V0(t),this.tu=new Gr(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new aE,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const w=o.get(T),j=ch(this.query,S)?S:null,q=!!w&&this.mutatedKeys.has(w.key),Q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let G=!1;w&&j?w.data.isEqual(j.data)?q!==Q&&(s.track({type:3,doc:j}),G=!0):this.su(w,j)||(s.track({type:2,doc:j}),G=!0,(g&&this.eu(j,g)>0||v&&this.eu(j,v)<0)&&(p=!0)):!w&&j?(s.track({type:0,doc:j}),G=!0):w&&!j&&(s.track({type:1,doc:w}),G=!0,(g||v)&&(p=!0)),G&&(j?(f=f.add(j),u=Q?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(j,q){const Q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:G})}};return Q(j)-Q(q)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,v=g!==this.Za;return this.Za=g,f.length!==0||v?{snapshot:new Wr(this.query,t.tu,u,f,t.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new gT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new pT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class $R{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class ZR{constructor(t){this.key=t,this.hu=!1}}class JR{constructor(t,i,s,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ks((p=>j0(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new he(yt.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=Jr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WR(a,t,i=!0){const s=ST(a);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await yT(s,t,i,!0),o}async function tC(a,t){const i=ST(a);await yT(i,t,!0,!1)}async function yT(a,t,i,s){const o=await ER(a.localStore,ji(t)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let p;return s&&(p=await eC(a,t,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&rT(a.remoteStore,o),p}async function eC(a,t,i,s,o){a.pu=(S,w,j)=>(async function(Q,G,Z,F){let it=G.view.ru(Z);it.Cs&&(it=await J_(Q.localStore,G.query,!1).then((({documents:R})=>G.view.ru(R,it))));const ft=F&&F.targetChanges.get(G.targetId),ct=F&&F.targetMismatches.get(G.targetId)!=null,st=G.view.applyChanges(it,Q.isPrimaryClient,ft,ct);return oE(Q,G.targetId,st.au),st.snapshot})(a,S,w,j);const u=await J_(a.localStore,t,!0),f=new XR(t,u.Qs),p=f.ru(u.documents),g=Fo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=f.applyChanges(p,a.isPrimaryClient,g);oE(a,i,v.au);const T=new $R(t,i,f);return a.Tu.set(t,T),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function nC(a,t,i){const s=bt(a),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!uh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Jm(s.remoteStore,o.targetId),mm(s,o.targetId)})).catch(sl)):(mm(s,o.targetId),await hm(s.localStore,o.targetId,!0))}async function iC(a,t){const i=bt(a),s=i.Tu.get(t),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Jm(i.remoteStore,s.targetId))}async function aC(a,t,i){const s=hC(a);try{const o=await(function(f,p){const g=bt(f),v=Qt.now(),T=p.reduce(((j,q)=>j.add(q.key)),Ot());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let q=ca(),Q=Ot();return g.Ns.getEntries(j,T).next((G=>{q=G,q.forEach(((Z,F)=>{F.isValidDocument()||(Q=Q.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,q))).next((G=>{S=G;const Z=[];for(const F of p){const it=_2(F,S.get(F.key).overlayedDocument);it!=null&&Z.push(new rs(F.key,it,A0(it.value.mapValue),ii.exists(!0)))}return g.mutationQueue.addMutationBatch(j,v,Z,p)})).next((G=>{w=G;const Z=G.applyToLocalDocumentSet(S,Q);return g.documentOverlayCache.saveOverlays(j,G.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:O0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let v=f.Vu[f.currentUser.toKey()];v||(v=new he(Mt)),v=v.insert(p,g),f.Vu[f.currentUser.toKey()]=v})(s,o.batchId,i),await Qo(s,o.changes),await gh(s.remoteStore)}catch(o){const u=ip(o,"Failed to persist write");i.reject(u)}}async function vT(a,t){const i=bt(a);try{const s=await yR(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Yt(f.hu,14607):o.removedDocuments.size>0&&(Yt(f.hu,42227),f.hu=!1))})),await Qo(i,s,t)}catch(s){await sl(s)}}function lE(a,t,i){const s=bt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=bt(f);g.onlineState=p;let v=!1;g.queries.forEach(((T,S)=>{for(const w of S.Sa)w.va(p)&&(v=!0)})),v&&ap(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sC(a,t,i){const s=bt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new he(yt.comparator);f=f.insert(u,We.newNoDocument(u,Tt.min()));const p=Ot().add(u),g=new dh(Tt.min(),new Map,new he(Mt),f,p);await vT(s,g),s.du=s.du.remove(u),s.Au.delete(t),rp(s)}else await hm(s.localStore,t,!1).then((()=>mm(s,t,i))).catch(sl)}async function rC(a,t){const i=bt(a),s=t.batch.batchId;try{const o=await gR(i.localStore,t);ET(i,s,null),_T(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Qo(i,o)}catch(o){await sl(o)}}async function lC(a,t,i){const s=bt(a);try{const o=await(function(f,p){const g=bt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(Yt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>g.localDocuments.getDocuments(v,T)))}))})(s.localStore,t);ET(s,t,i),_T(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Qo(s,o)}catch(o){await sl(o)}}function _T(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function ET(a,t,i){const s=bt(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function mm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||TT(a,s)}))}function TT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Jm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),rp(a))}function oE(a,t,i){for(const s of i)s instanceof pT?(a.Ru.addReference(s.key,t),oC(a,s)):s instanceof gT?(ht(sp,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||TT(a,s.key)):_t(19791,{wu:s})}function oC(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ht(sp,"New document in limbo: "+i),a.Eu.add(s),rp(a))}function rp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new yt(ie.fromString(t)),s=a.fu.next();a.Au.set(s,new ZR(i)),a.du=a.du.insert(i,s),rT(a.remoteStore,new Fa(ji(qm(i.path)),s,"TargetPurposeLimboResolution",rh.ce))}}async function Qo(a,t,i){const s=bt(a),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,t,i).then((v=>{if((v||i)&&s.isPrimaryClient){const T=v?!v.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){o.push(v);const T=$m.As(g.targetId,v);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,v){const T=bt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>nt.forEach(v,(w=>nt.forEach(w.Es,(j=>T.persistence.referenceDelegate.addReference(S,w.targetId,j))).next((()=>nt.forEach(w.ds,(j=>T.persistence.referenceDelegate.removeReference(S,w.targetId,j)))))))))}catch(S){if(!rl(S))throw S;ht(Zm,"Failed to update sequence numbers: "+S)}for(const S of v){const w=S.targetId;if(!S.fromCache){const j=T.Ms.get(w),q=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(q);T.Ms=T.Ms.insert(w,Q)}}})(s.localStore,u))}async function uC(a,t){const i=bt(a);if(!i.currentUser.isEqual(t)){ht(sp,"User change. New user:",t.toKey());const s=await nT(i.localStore,t);i.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ot(tt.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Qo(i,s.Ls)}}function cC(a,t){const i=bt(a),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const u=i.Iu.get(t);if(!u)return o;for(const f of u){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function ST(a){const t=bt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sC.bind(null,t),t.Pu.H_=YR.bind(null,t.eventManager),t.Pu.yu=KR.bind(null,t.eventManager),t}function hC(a){const t=bt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new eT(Xm.mi,this.serializer)}Du(t){return new SR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class fC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof $c,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Z2(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new eT((s=>$c.mi(s,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uC.bind(null,this.syncEngine),await FR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QR})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),s=(function(u){return new RR(u)})(t.databaseInfo);return(function(u,f,p,g){return new IR(u,f,p,g)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,o,u,f,p){return new VR(s,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>lE(this.syncEngine,i,0)),(function(){return eE.v()?new eE:new bR})())}createSyncEngine(t,i){return(function(o,u,f,p,g,v,T){const S=new JR(o,u,f,p,g,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=bt(i);ht(Hs,"RemoteStore shutting down."),s.Ea.add(5),await Go(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class bT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):oa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ns="FirestoreClient";class dC{constructor(t,i,s,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=ip(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Bd(a,t){a.asyncQueue.verifyOperationInProgress(),ht(ns,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await nT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function uE(a,t){a.asyncQueue.verifyOperationInProgress();const i=await mC(a);ht(ns,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>iE(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>iE(t.remoteStore,o))),a._onlineComponents=t}async function mC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ht(ns,"Using user provided OfflineComponentProvider");try{await Bd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Kr("Error using user provided cache. Falling back to memory cache: "+i),await Bd(a,new Jc)}}else ht(ns,"Using default OfflineComponentProvider"),await Bd(a,new fC(void 0));return a._offlineComponents}async function AT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ht(ns,"Using user provided OnlineComponentProvider"),await uE(a,a._uninitializedComponentsProvider._online)):(ht(ns,"Using default OnlineComponentProvider"),await uE(a,new pm))),a._onlineComponents}function pC(a){return AT(a).then((t=>t.syncEngine))}async function wT(a){const t=await AT(a),i=t.eventManager;return i.onListen=WR.bind(null,t.syncEngine),i.onUnlisten=nC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=tC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=iC.bind(null,t.syncEngine),i}function gC(a,t,i={}){const s=new aa;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,v){const T=new bT({next:w=>{T.Nu(),f.enqueueAndForget((()=>dT(u,S)));const j=w.docs.has(p);!j&&w.fromCache?v.reject(new ot(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&g&&g.source==="server"?v.reject(new ot(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:w=>v.reject(w)}),S=new mT(qm(p.path),T,{includeMetadataChanges:!0,qa:!0});return fT(u,S)})(await wT(a),a.asyncQueue,t,i,s))),s.promise}function yC(a,t,i={}){const s=new aa;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,v){const T=new bT({next:w=>{T.Nu(),f.enqueueAndForget((()=>dT(u,S))),w.fromCache&&g.source==="server"?v.reject(new ot(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:w=>v.reject(w)}),S=new mT(p,T,{includeMetadataChanges:!0,qa:!0});return fT(u,S)})(await wT(a),a.asyncQueue,t,i,s))),s.promise}function xT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const cE=new Map;const RT="firestore.googleapis.com",hE=!0;class fE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=hE}else this.host=t.host,this.ssl=t.ssl??hE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<X2)throw new ot(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Vx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bx;switch(s.type){case"firstParty":return new Rx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=cE.get(i);s&&(ht("ComponentProvider","Removing Datastore"),cE.delete(i),s.terminate())})(this),Promise.resolve()}}function vC(a,t,i,s={}){a=ua(a,yh);const o=jm(t),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(ZA(`https://${p}`),ew("Firestore",!0)),u.host!==RT&&u.host!==p&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!Do(g,f)&&(a._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=Je.MOCK_USER;else{v=JA(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(S)}a._authCredentials=new Ax(new f0(v,T))}}class $s{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new $s(this.firestore,t,this._query)}}class Ie{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(qo(i,Ie._jsonSchema))return new Ie(t,s||null,new yt(ie.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:De("string",Ie._jsonSchemaVersion),referencePath:De("string")};class Ka extends $s{constructor(t,i,s){super(t,i,qm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new yt(t))}withConverter(t){return new Ka(this.firestore,t,this._path)}}function ce(a,t,...i){if(a=Fn(a),d0("collection","path",t),a instanceof yh){const s=ie.fromString(t,...i);return w_(s),new Ka(a,null,s)}{if(!(a instanceof Ie||a instanceof Ka))throw new ot(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ie.fromString(t,...i));return w_(s),new Ka(a.firestore,null,s)}}function Cn(a,t,...i){if(a=Fn(a),arguments.length===1&&(t=Lm.newId()),d0("doc","path",t),a instanceof yh){const s=ie.fromString(t,...i);return A_(s),new Ie(a,null,new yt(s))}{if(!(a instanceof Ie||a instanceof Ka))throw new ot(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ie.fromString(t,...i));return A_(s),new Ie(a.firestore,a instanceof Ka?a.converter:null,new yt(s))}}const dE="AsyncQueue";class mE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const s=zd();s&&ht(dE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rl(t))throw t;ht(dE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,oa("INTERNAL UNHANDLED ERROR: ",pE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=np.createAndSchedule(this,t,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function pE(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class ul extends yh{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new mE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mE(t),this._firestoreClient=void 0,await t}}}function _C(a,t){const i=typeof a=="object"?a:n0(),s=typeof a=="string"?a:Fc,o=Bo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XA("firestore");u&&vC(o,...u)}return o}function lp(a){if(a._terminated)throw new ot(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||EC(a),a._firestoreClient}function EC(a){const t=a._freezeSettings(),i=(function(o,u,f,p){return new Fx(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,xT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new dC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(Ke.fromBase64String(t))}catch(i){throw new ot(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qo(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:De("string",Hn._jsonSchemaVersion),bytes:De("string")};class vh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class op{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(qo(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:De("string",Mi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qo(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Oi(t.vectorValues);throw new ot(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),vectorValues:De("object")};const TC=/^__.*__$/;class SC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ho(t,this.data,i,this.fieldTransforms)}}class CT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function NT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class up{constructor(t,i,s,o,u,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NT(this.Ac)&&TC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||mh(t)}Cc(t,i,s,o=!1){return new up({Ac:t,methodName:i,Dc:s,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cp(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new bC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function AC(a,t,i,s,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,t,i,o);hp("Data must be an object, but it was:",f,s);const p=DT(s,f);let g,v;if(u.merge)g=new xn(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const w=gm(t,S,i);if(!f.contains(w))throw new ot(tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);jT(T,w)||T.push(w)}g=new xn(T),v=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=f.fieldTransforms;return new SC(new pn(p),g,v)}class _h extends op{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _h}}function wC(a,t,i,s){const o=a.Cc(1,t,i);hp("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();ss(s,((g,v)=>{const T=fp(t,g,i);v=Fn(v);const S=o.yc(T);if(v instanceof _h)u.push(T);else{const w=Yo(v,S);w!=null&&(u.push(T),f.set(T,w))}}));const p=new xn(u);return new CT(f,p,o.fieldTransforms)}function xC(a,t,i,s,o,u){const f=a.Cc(1,t,i),p=[gm(t,s,i)],g=[o];if(u.length%2!=0)throw new ot(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(gm(t,u[w])),g.push(u[w+1]);const v=[],T=pn.empty();for(let w=p.length-1;w>=0;--w)if(!jT(v,p[w])){const j=p[w];let q=g[w];q=Fn(q);const Q=f.yc(j);if(q instanceof _h)v.push(j);else{const G=Yo(q,Q);G!=null&&(v.push(j),T.set(j,G))}}const S=new xn(v);return new CT(T,S,f.fieldTransforms)}function RC(a,t,i,s=!1){return Yo(i,a.Cc(s?4:3,t))}function Yo(a,t){if(IT(a=Fn(a)))return hp("Unsupported field value:",t,a),DT(a,t);if(a instanceof op)return(function(s,o){if(!NT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=Yo(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(a,t)}return(function(s,o){if((s=Fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Qt.fromDate(s);return{timestampValue:Xc(o.serializer,u)}}if(s instanceof Qt){const u=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:Y0(o.serializer,s._byteString)};if(s instanceof Ie){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ym(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,p){return{mapValue:{fields:{[S0]:{stringValue:b0},[Gc]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${sh(s)}`)})(a,t)}function DT(a,t){const i={};return g0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(a,((s,o)=>{const u=Yo(o,t.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function IT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Qt||a instanceof Mi||a instanceof Hn||a instanceof Ie||a instanceof op||a instanceof Oi)}function hp(a,t,i){if(!IT(i)||!m0(i)){const s=sh(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function gm(a,t,i){if((t=Fn(t))instanceof vh)return t._internalPath;if(typeof t=="string")return fp(a,t);throw Wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const CC=new RegExp("[~\\*/\\[\\]]");function fp(a,t,i){if(t.search(CC)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new vh(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Wc(a,t,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ot(tt.INVALID_ARGUMENT,p+a+g)}function jT(a,t){return a.some((i=>i.isEqual(t)))}class VT{constructor(t,i,s,o,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Eh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NC extends VT{data(){return super.data()}}function Eh(a,t){return typeof t=="string"?fp(a,t):t instanceof vh?t._internalPath:t._delegate._internalPath}function DC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dp{}class MT extends dp{}function tn(a,t,...i){let s=[];t instanceof dp&&s.push(t),s=s.concat(i),(function(u){const f=u.filter((g=>g instanceof mp)).length,p=u.filter((g=>g instanceof Th)).length;if(f>1||f>0&&p>0)throw new ot(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Th extends MT{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Th(t,i,s)}_apply(t){const i=this._parse(t);return OT(t._query,i),new $s(t.firestore,t.converter,sm(t._query,i))}_parse(t){const i=cp(t.firestore);return(function(u,f,p,g,v,T,S){let w;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ot(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){yE(S,T);const q=[];for(const Q of S)q.push(gE(g,u,Q));w={arrayValue:{values:q}}}else w=gE(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||yE(S,T),w=RC(p,f,S,T==="in"||T==="not-in");return Ne.create(v,T,w)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function si(a,t,i){const s=t,o=Eh("where",a);return Th._create(o,s,i)}class mp extends dp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new mp(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ai.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)OT(f,g),f=sm(f,g)})(t._query,i),new $s(t.firestore,t.converter,sm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pp extends MT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new pp(t,i)}_apply(t){const i=(function(o,u,f){if(o.startAt!==null)throw new ot(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lo(u,f)})(t._query,this._field,this._direction);return new $s(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new ll(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function cl(a,t="asc"){const i=t,s=Eh("orderBy",a);return pp._create(s,i)}function gE(a,t,i){if(typeof(i=Fn(i))=="string"){if(i==="")throw new ot(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I0(t)&&i.indexOf("/")!==-1)throw new ot(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ie.fromString(i));if(!yt.isDocumentKey(s))throw new ot(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return V_(a,new yt(s))}if(i instanceof Ie)return V_(a,i._key);throw new ot(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(i)}.`)}function yE(a,t){if(!Array.isArray(a)||a.length===0)throw new ot(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OT(a,t){const i=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class IC{convertValue(t,i="none"){switch(ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ss(t,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new Oi(i)}convertGeoPoint(t){return new Mi(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=oh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Vo(t));default:return null}}convertTimestamp(t){const i=Ja(t);return new Qt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ie.fromString(t);Yt(W0(s),9688,{name:t});const o=new Mo(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(i)||oa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function jC(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class bo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends VT{constructor(t,i,s,o,u,f){super(t,i,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Eh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:De("string",Bs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class kc extends Bs{data(t={}){return super.data(t)}}class Qr{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new kc(this._firestore,this._userDataWriter,s.key,s,new bo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:VC(p.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}function LT(a){a=ua(a,Ie);const t=ua(a.firestore,ul);return gC(lp(t),a._key).then((i=>MC(t,a,i)))}Qr._jsonSchemaVersion="firestore/querySnapshot/1.0",Qr._jsonSchema={type:De("string",Qr._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class UT extends IC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function Xe(a){a=ua(a,$s);const t=ua(a.firestore,ul),i=lp(t),s=new UT(t);return DC(a._query),yC(i,a._query).then((o=>new Qr(t,s,a,o)))}function Ko(a,t,i,...s){a=ua(a,Ie);const o=ua(a.firestore,ul),u=cp(o);let f;return f=typeof(t=Fn(t))=="string"||t instanceof vh?xC(u,"updateDoc",a._key,t,i,s):wC(u,"updateDoc",a._key,t),gp(o,[f.toMutation(a._key,ii.exists(!0))])}function Xo(a){return gp(ua(a.firestore,ul),[new Fm(a._key,ii.none())])}function hl(a,t){const i=ua(a.firestore,ul),s=Cn(a),o=jC(a.converter,t);return gp(i,[AC(cp(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function gp(a,t){return(function(s,o){const u=new aa;return s.asyncQueue.enqueueAndForget((async()=>aC(await pC(s),o,u))),u.promise})(lp(a),t)}function MC(a,t,i){const s=i.docs.get(t._key),o=new UT(a);return new Bs(a,o,t._key,s,new bo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){al=o})(fx),$a(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ul(new wx(s.getProvider("auth-internal")),new Cx(f,s.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(v.options.projectId,T)})(f,o),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ii(E_,T_,t),Ii(E_,T_,"esm2020")})();var OC="firebase",LC="12.7.0";Ii(OC,LC,"app");const PT="@firebase/installations",yp="0.6.19";const kT=1e4,zT=`w:${yp}`,BT="FIS_v2",UC="https://firebaseinstallations.googleapis.com/v1",PC=3600*1e3,kC="installations",zC="Installations";const BC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fs=new ah(kC,zC,BC);function qT(a){return a instanceof as&&a.code.includes("request-failed")}function HT({projectId:a}){return`${UC}/projects/${a}/installations`}function FT(a){return{token:a.token,requestStatus:2,expiresIn:HC(a.expiresIn),creationTime:Date.now()}}async function GT(a,t){const s=(await t.json()).error;return Fs.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function QT({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function qC(a,{refreshToken:t}){const i=QT(a);return i.append("Authorization",FC(t)),i}async function YT(a){const t=await a();return t.status>=500&&t.status<600?a():t}function HC(a){return Number(a.replace("s","000"))}function FC(a){return`${BT} ${a}`}async function GC({appConfig:a,heartbeatServiceProvider:t},{fid:i}){const s=HT(a),o=QT(a),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const f={fid:i,authVersion:BT,appId:a.appId,sdkVersion:zT},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await YT(()=>fetch(s,p));if(g.ok){const v=await g.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:FT(v.authToken)}}else throw await GT("Create Installation",g)}function KT(a){return new Promise(t=>{setTimeout(t,a)})}function QC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const YC=/^[cdef][\w-]{21}$/,ym="";function KC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=XC(a);return YC.test(i)?i:ym}catch{return ym}}function XC(a){return QC(a).substr(0,22)}function Sh(a){return`${a.appName}!${a.appId}`}const XT=new Map;function $T(a,t){const i=Sh(a);ZT(i,t),$C(i,t)}function ZT(a,t){const i=XT.get(a);if(i)for(const s of i)s(t)}function $C(a,t){const i=ZC();i&&i.postMessage({key:a,fid:t}),JC()}let zs=null;function ZC(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=a=>{ZT(a.data.key,a.data.fid)}),zs}function JC(){XT.size===0&&zs&&(zs.close(),zs=null)}const WC="firebase-installations-database",tN=1,Gs="firebase-installations-store";let qd=null;function vp(){return qd||(qd=t0(WC,tN,{upgrade:(a,t)=>{t===0&&a.createObjectStore(Gs)}})),qd}async function th(a,t){const i=Sh(a),o=(await vp()).transaction(Gs,"readwrite"),u=o.objectStore(Gs),f=await u.get(i);return await u.put(t,i),await o.done,(!f||f.fid!==t.fid)&&$T(a,t.fid),t}async function JT(a){const t=Sh(a),s=(await vp()).transaction(Gs,"readwrite");await s.objectStore(Gs).delete(t),await s.done}async function bh(a,t){const i=Sh(a),o=(await vp()).transaction(Gs,"readwrite"),u=o.objectStore(Gs),f=await u.get(i),p=t(f);return p===void 0?await u.delete(i):await u.put(p,i),await o.done,p&&(!f||f.fid!==p.fid)&&$T(a,p.fid),p}async function _p(a){let t;const i=await bh(a.appConfig,s=>{const o=eN(s),u=nN(a,o);return t=u.registrationPromise,u.installationEntry});return i.fid===ym?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function eN(a){const t=a||{fid:KC(),registrationStatus:0};return WT(t)}function nN(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Fs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=iN(a,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:aN(a)}:{installationEntry:t}}async function iN(a,t){try{const i=await GC(a,t);return th(a.appConfig,i)}catch(i){throw qT(i)&&i.customData.serverCode===409?await JT(a.appConfig):await th(a.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function aN(a){let t=await vE(a.appConfig);for(;t.registrationStatus===1;)await KT(100),t=await vE(a.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await _p(a);return s||i}return t}function vE(a){return bh(a,t=>{if(!t)throw Fs.create("installation-not-found");return WT(t)})}function WT(a){return sN(a)?{fid:a.fid,registrationStatus:0}:a}function sN(a){return a.registrationStatus===1&&a.registrationTime+kT<Date.now()}async function rN({appConfig:a,heartbeatServiceProvider:t},i){const s=lN(a,i),o=qC(a,i),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const f={installation:{sdkVersion:zT,appId:a.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await YT(()=>fetch(s,p));if(g.ok){const v=await g.json();return FT(v)}else throw await GT("Generate Auth Token",g)}function lN(a,{fid:t}){return`${HT(a)}/${t}/authTokens:generate`}async function Ep(a,t=!1){let i;const s=await bh(a.appConfig,u=>{if(!t1(u))throw Fs.create("not-registered");const f=u.authToken;if(!t&&cN(f))return u;if(f.requestStatus===1)return i=oN(a,t),u;{if(!navigator.onLine)throw Fs.create("app-offline");const p=fN(u);return i=uN(a,p),p}});return i?await i:s.authToken}async function oN(a,t){let i=await _E(a.appConfig);for(;i.authToken.requestStatus===1;)await KT(100),i=await _E(a.appConfig);const s=i.authToken;return s.requestStatus===0?Ep(a,t):s}function _E(a){return bh(a,t=>{if(!t1(t))throw Fs.create("not-registered");const i=t.authToken;return dN(i)?{...t,authToken:{requestStatus:0}}:t})}async function uN(a,t){try{const i=await rN(a,t),s={...t,authToken:i};return await th(a.appConfig,s),i}catch(i){if(qT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await JT(a.appConfig);else{const s={...t,authToken:{requestStatus:0}};await th(a.appConfig,s)}throw i}}function t1(a){return a!==void 0&&a.registrationStatus===2}function cN(a){return a.requestStatus===2&&!hN(a)}function hN(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+PC}function fN(a){const t={requestStatus:1,requestTime:Date.now()};return{...a,authToken:t}}function dN(a){return a.requestStatus===1&&a.requestTime+kT<Date.now()}async function mN(a){const t=a,{installationEntry:i,registrationPromise:s}=await _p(t);return s?s.catch(console.error):Ep(t).catch(console.error),i.fid}async function pN(a,t=!1){const i=a;return await gN(i),(await Ep(i,t)).token}async function gN(a){const{registrationPromise:t}=await _p(a);t&&await t}function yN(a){if(!a||!a.options)throw Hd("App Configuration");if(!a.name)throw Hd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!a.options[i])throw Hd(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Hd(a){return Fs.create("missing-app-config-values",{valueName:a})}const e1="installations",vN="installations-internal",_N=a=>{const t=a.getProvider("app").getImmediate(),i=yN(t),s=Bo(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},EN=a=>{const t=a.getProvider("app").getImmediate(),i=Bo(t,e1).getImmediate();return{getId:()=>mN(i),getToken:o=>pN(i,o)}};function TN(){$a(new ra(e1,_N,"PUBLIC")),$a(new ra(vN,EN,"PRIVATE"))}TN();Ii(PT,yp);Ii(PT,yp,"esm2020");const eh="analytics",SN="firebase_id",bN="origin",AN=60*1e3,wN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tp="https://www.googletagmanager.com/gtag/js";const sn=new Vm("@firebase/analytics");const xN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new ah("analytics","Analytics",xN);function RN(a){if(!a.startsWith(Tp)){const t=Rn.create("invalid-gtag-resource",{gtagURL:a});return sn.warn(t.message),""}return a}function n1(a){return Promise.all(a.map(t=>t.catch(i=>i)))}function CN(a,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,t)),i}function NN(a,t){const i=CN("firebase-js-sdk-policy",{createScriptURL:RN}),s=document.createElement("script"),o=`${Tp}?l=${a}&id=${t}`;s.src=i?i?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function DN(a){let t=[];return Array.isArray(window[a])?t=window[a]:window[a]=t,t}async function IN(a,t,i,s,o,u){const f=s[o];try{if(f)await t[f];else{const g=(await n1(i)).find(v=>v.measurementId===o);g&&await t[g.appId]}}catch(p){sn.error(p)}a("config",o,u)}async function jN(a,t,i,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=await n1(i);for(const g of f){const v=p.find(S=>S.measurementId===g),T=v&&t[v.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),a("event",s,o||{})}catch(u){sn.error(u)}}function VN(a,t,i,s){async function o(u,...f){try{if(u==="event"){const[p,g]=f;await jN(a,t,i,p,g)}else if(u==="config"){const[p,g]=f;await IN(a,t,i,s,p,g)}else if(u==="consent"){const[p,g]=f;a("consent",p,g)}else if(u==="get"){const[p,g,v]=f;a("get",p,g,v)}else if(u==="set"){const[p]=f;a("set",p)}else a(u,...f)}catch(p){sn.error(p)}}return o}function MN(a,t,i,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=VN(u,a,t,i),{gtagCore:u,wrappedGtag:window[o]}}function ON(a){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Tp)&&i.src.includes(a))return i;return null}const LN=30,UN=1e3;class PN{constructor(t={},i=UN){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const i1=new PN;function kN(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function zN(a){const{appId:t,apiKey:i}=a,s={method:"GET",headers:kN(i)},o=wN.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const p=await u.json();p.error?.message&&(f=p.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function BN(a,t=i1,i){const{appId:s,apiKey:o,measurementId:u}=a.options;if(!s)throw Rn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Rn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new FN;return setTimeout(async()=>{p.abort()},AN),a1({appId:s,apiKey:o,measurementId:u},f,p,t)}async function a1(a,{throttleEndTimeMillis:t,backoffCount:i},s,o=i1){const{appId:u,measurementId:f}=a;try{await qN(s,t)}catch(p){if(f)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw p}try{const p=await zN(a);return o.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!HN(g)){if(o.deleteThrottleMetadata(u),f)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw p}const v=Number(g?.customData?.httpStatus)===503?c_(i,o.intervalMillis,LN):c_(i,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(u,T),sn.debug(`Calling attemptFetch again in ${v} millis`),a1(a,T,s,o)}}function qN(a,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(u),s(Rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function HN(a){if(!(a instanceof as)||!a.customData)return!1;const t=Number(a.customData.httpStatus);return t===429||t===500||t===503||t===504}class FN{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function GN(a,t,i,s,o){if(o&&o.global){a("event",i,s);return}else{const u=await t,f={...s,send_to:u};a("event",i,f)}}async function QN(a,t,i,s){if(s&&s.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return a("set",o),Promise.resolve()}else{const o=await t;a("config",o,{update:!0,user_properties:i})}}async function YN(){if($E())try{await ZE()}catch(a){return sn.warn(Rn.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return sn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KN(a,t,i,s,o,u,f){const p=BN(a);p.then(w=>{i[w.measurementId]=w.appId,a.options.measurementId&&w.measurementId!==a.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>sn.error(w)),t.push(p);const g=YN().then(w=>{if(w)return s.getId()}),[v,T]=await Promise.all([p,g]);ON(u)||NN(u,v.measurementId),o("js",new Date);const S=f?.config??{};return S[bN]="firebase",S.update=!0,T!=null&&(S[SN]=T),o("config",v.measurementId,S),v.measurementId}class XN{constructor(t){this.app=t}_delete(){return delete Yr[this.app.options.appId],Promise.resolve()}}let Yr={},EE=[];const TE={};let Fd="dataLayer",$N="gtag",SE,Sp,bE=!1;function ZN(){const a=[];if(aw()&&a.push("This is a browser extension environment."),rw()||a.push("Cookies are not available."),a.length>0){const t=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=Rn.create("invalid-analytics-context",{errorInfo:t});sn.warn(i.message)}}function JN(a,t,i){ZN();const s=a.options.appId;if(!s)throw Rn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Yr[s]!=null)throw Rn.create("already-exists",{id:s});if(!bE){DN(Fd);const{wrappedGtag:u,gtagCore:f}=MN(Yr,EE,TE,Fd,$N);Sp=u,SE=f,bE=!0}return Yr[s]=KN(a,EE,TE,t,SE,Fd,i),new XN(a)}function WN(a=n0()){a=Fn(a);const t=Bo(a,eh);return t.isInitialized()?t.getImmediate():tD(a)}function tD(a,t={}){const i=Bo(a,eh);if(i.isInitialized()){const o=i.getImmediate();if(Do(t,i.getOptions()))return o;throw Rn.create("already-initialized")}return i.initialize({options:t})}function eD(a,t,i){a=Fn(a),QN(Sp,Yr[a.app.options.appId],t,i).catch(s=>sn.error(s))}function nD(a,t,i,s){a=Fn(a),GN(Sp,Yr[a.app.options.appId],t,i,s).catch(o=>sn.error(o))}const AE="@firebase/analytics",wE="0.10.19";function iD(){$a(new ra(eh,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return JN(s,o,i)},"PUBLIC")),$a(new ra("analytics-internal",a,"PRIVATE")),Ii(AE,wE),Ii(AE,wE,"esm2020");function a(t){try{const i=t.getProvider(eh).getImmediate();return{logEvent:(s,o,u)=>nD(i,s,o,u),setUserProperties:(s,o)=>eD(i,s,o)}}catch(i){throw Rn.create("interop-component-reg-failed",{reason:i})}}}iD();const aD={apiKey:"AIzaSyBnP8V6xWabk0cfGhwY4AdPX829rPPRnf4",authDomain:"bourbon-d0505.firebaseapp.com",projectId:"bourbon-d0505",storageBucket:"bourbon-d0505.firebasestorage.app",messagingSenderId:"935278237286",appId:"1:935278237286:web:2b8183abb241ac932fffa7",measurementId:"G-TEV7YQWQBZ"},s1=e0(aD);WN(s1);const Ut=_C(s1),$o=async()=>{try{const a=tn(ce(Ut,"persons"),cl("name","asc")),t=await Xe(a),i=[];return t.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(a){throw console.error("Li khi ly danh sch ngi:",a),a}},sD=async a=>{try{return(await hl(ce(Ut,"persons"),{...a,createdAt:Qt.now()})).id}catch(t){throw console.error("Li khi thm ngi:",t),t}},rD=async(a,t)=>{try{const i=Cn(Ut,"persons",a);await Ko(i,t)}catch(i){throw console.error("Li khi cp nht ngi:",i),i}},lD=async a=>{try{await Xo(Cn(Ut,"persons",a))}catch(t){throw console.error("Li khi xa ngi:",t),t}},oD=async()=>{try{const a=tn(ce(Ut,"transactions"),cl("createdAt","desc")),t=await Xe(a),i=[];return t.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(a){throw console.error("Li khi ly giao dch:",a),a}},uD=()=>{const[a,t]=M.useState([]),[i,s]=M.useState([]),[o,u]=M.useState(!0),[f,p]=M.useState("all"),[g,v]=M.useState("all"),[T,S]=M.useState(""),[w,j]=M.useState(""),[q,Q]=M.useState("");M.useEffect(()=>{G()},[]);const G=async()=>{try{u(!0);const[st,R]=await Promise.all([$o(),oD()]);t(st),s(R)}catch(st){console.error("Li khi ti d liu:",st),alert("Khng th ti d liu t Firebase. Vui lng kim tra kt ni!")}finally{u(!1)}},Z=st=>new Intl.NumberFormat("vi-VN").format(st)+" ",F=()=>{let st=[...i];if(w&&q&&(st=st.filter(R=>{const x=new Date(R.date),N=new Date(w),V=new Date(q);return V.setHours(23,59,59,999),x>=N&&x<=V})),f!=="all"&&(st=st.filter(R=>R.personId===f)),g!=="all"&&(st=st.filter(R=>R.status===g)),T.trim()){const R=T.toLowerCase();st=st.filter(x=>x.description.toLowerCase().includes(R)||x.personName.toLowerCase().includes(R)||x.amount.toString().includes(R))}return st.sort((R,x)=>new Date(x.date).getTime()-new Date(R.date).getTime())},ft=(()=>{const st=i.filter(V=>V.status==="completed"),R=st.filter(V=>V.type==="thu").reduce((V,D)=>V+D.amount,0),x=st.filter(V=>V.type==="chi").reduce((V,D)=>V+D.amount,0),N=i.filter(V=>V.type==="thu"&&V.status==="pending").reduce((V,D)=>V+D.amount,0);return{currentFund:R-x,pendingFund:N,totalIncome:R,totalExpense:x}})(),ct=F();return o&&i.length===0?m.jsx(Nm,{}):Xa.isAuthenticated()===!1?m.jsx(wm,{to:"/login",replace:!0}):m.jsxs("div",{className:"container",children:[m.jsx(OA,{stats:ft}),m.jsx(UA,{persons:a,personFilter:f,setPersonFilter:p,statusFilter:g,setStatusFilter:v,searchQuery:T,setSearchQuery:S,startDate:w,setStartDate:j,endDate:q,setEndDate:Q}),o&&m.jsx(Dm,{}),m.jsx(PA,{filteredTransactions:ct,formatCurrency:Z,searchQuery:T})]})};function cD({openModal:a}){return m.jsxs("div",{className:"header-container",children:[m.jsxs("div",{className:"header-title-wrapper",children:[m.jsx("div",{className:"header-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),m.jsx("h1",{className:"header-title",children:"Qun l Ngi"})]}),m.jsxs("button",{className:"add-button",onClick:a,children:[m.jsx("span",{className:"add-button-icon",children:"+"}),m.jsx("span",{className:"add-button-text",children:"Thm ngi mi"})]})]})}function hD({persons:a,openModal:t,handleDelete:i}){return m.jsx("div",{className:"grid-container",children:m.jsxs("table",{className:"data-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Tn"}),m.jsx("th",{children:"M"}),m.jsx("th",{children:"Thao tc"})]})}),m.jsx("tbody",{children:a.length===0?m.jsx("tr",{children:m.jsxs("td",{colSpan:3,className:"empty-state",children:[m.jsx("div",{className:"empty-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),m.jsx("p",{className:"empty-text",children:"Cha c ngi no"}),m.jsx("p",{className:"empty-subtext",children:'Nhn nt "Thm ngi mi"  bt u'})]})}):a.map(s=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{className:"person-name",children:[m.jsx("div",{className:"person-avatar",children:s.name.charAt(0).toUpperCase()}),m.jsx("strong",{children:s.name})]})}),m.jsx("td",{children:m.jsx("span",{className:"person-code",children:s.code})}),m.jsxs("td",{className:"actions-cell",children:[m.jsxs("button",{className:"btn btn-edit",onClick:()=>t(s),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),m.jsx("span",{children:"Sa"})]}),m.jsxs("button",{className:"btn btn-delete",onClick:()=>i(s.id),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),m.jsx("span",{children:"Xa"})]})]})]},s.id))})]})})}function fD({editingPerson:a,formData:t,setFormData:i,setShowModal:s,handleSubmit:o}){return CE.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]),m.jsx("div",{className:"modal-overlay-centered",onClick:()=>s(!1),children:m.jsxs("div",{className:"modal-content-centered",onClick:u=>u.stopPropagation(),children:[m.jsx("button",{className:"modal-close-centered",onClick:()=>s(!1),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsxs("div",{className:"modal-header-centered",children:[m.jsx("div",{className:"modal-icon-edit",children:""}),m.jsx("h2",{className:"modal-title-centered",children:a?"Sa ngi":"Thm ngi mi"})]}),m.jsxs("div",{className:"modal-body-centered",children:[m.jsxs("div",{className:"form-group-centered",children:[m.jsx("label",{className:"form-label-centered",children:"Tn"}),m.jsx("input",{className:"form-input-centered",type:"text",placeholder:"Nhp tn...",value:t.name,onChange:u=>i({...t,name:u.target.value}),autoFocus:!0})]}),m.jsxs("div",{className:"form-group-centered",children:[m.jsx("label",{className:"form-label-centered",children:"M"}),m.jsx("input",{className:"form-input-centered",type:"text",placeholder:"Nhp m (VD: NVA001)...",value:t.code,onChange:u=>i({...t,code:u.target.value.toUpperCase()})})]})]}),m.jsxs("div",{className:"modal-footer-centered",children:[m.jsx("button",{className:"btn-cancel-centered",onClick:()=>s(!1),children:"Hy"}),m.jsx("button",{className:"btn-submit-centered",onClick:o,children:a?"Cp nht":"Thm"})]})]})})}const r1="history",Ah=async(a,t,i)=>{try{const s={username:a,type:t,updatedAt:Qt.now(),content:i||""};return(await hl(ce(Ut,r1),s)).id}catch(s){throw console.error("Error adding history:",s),s}},dD=async()=>{try{const a=tn(ce(Ut,r1),cl("updatedAt","desc"));return(await Xe(a)).docs.map(i=>({id:i.id,...i.data()}))}catch(a){throw console.error("Error getting history:",a),a}},l1=async(a,t)=>{await Ah(a,"DELETE",t)},o1=async(a,t)=>{await Ah(a,"CREATE",t)},u1=async(a,t)=>{await Ah(a,"UPDATE",t)},mD=async a=>{await Ah(a,"LOGIN","ng nhp thnh cng")};class bp{state={isAuthenticated:!1,username:null,role:null,codePerson:null,loginTime:null};isAuthenticated(){return this.state.isAuthenticated}login(t,i,s){this.state={isAuthenticated:!0,username:t,role:i,codePerson:s,loginTime:new Date}}logout(){this.state={isAuthenticated:!1,username:null,role:null,codePerson:null,loginTime:null}}getCurrentUser(){return!this.state.isAuthenticated||!this.state.username||!this.state.role||!this.state.codePerson?null:{username:this.state.username,role:this.state.role,codePerson:this.state.codePerson}}getUsername(){return this.state.username}getRole(){return this.state.role}getCodePerson(){return this.state.codePerson}isAdmin(){return this.state.role==="admin"}isUser(){return this.state.role==="user"}getLoginTime(){return this.state.loginTime}getState(){return{...this.state}}}const pD=()=>{const[a,t]=M.useState([]),[i,s]=M.useState(!0),[o,u]=M.useState(!1),[f,p]=M.useState(null),g=new bp,[v,T]=M.useState({name:"",code:""});M.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0);const Q=await $o();t(Q)}catch{alert("Khng th ti danh sch ngi!")}finally{s(!1)}},w=Q=>{Q?(p(Q),T({name:Q.name,code:Q.code})):(p(null),T({name:"",code:""})),u(!0)},j=async()=>{if(!v.name.trim()||!v.code.trim()){alert("Vui lng in y  thng tin!");return}try{s(!0),f&&f.id?(await rD(f.id,v),u1(g.getUsername(),`Cp nht Person c id: ${f.id}`),alert(" Cp nht thnh cng!")):(await sD(v),o1(g.getUsername(),`Thm Person mi vi tn: ${v.name}`),alert(" Thm ngi thnh cng!")),await S(),u(!1)}catch{alert(" C li xy ra!")}finally{s(!1)}},q=async Q=>{if(Q&&window.confirm(`Bn c chc mun xa ngi ny?
 Cnh bo: Cc giao dch lin quan s khng b xa nhng c th b li hin th!`))try{s(!0),await lD(Q),await S(),l1(g.getUsername(),`Xa Person c id: ${Q}`),alert(" Xa thnh cng!")}catch{alert(" Khng th xa!")}finally{s(!1)}};return i&&a.length===0?m.jsx(Nm,{}):m.jsxs("div",{children:[m.jsx(cD,{openModal:w}),m.jsx(hD,{persons:a,openModal:w,handleDelete:q}),o&&m.jsx(fD,{setShowModal:u,formData:v,setFormData:T,handleSubmit:j,editingPerson:f}),i&&m.jsx(Dm,{})]})},gD=()=>{const[a,t]=M.useState(!0),i=Ui(),s=[{path:"/admin/transactions",icon:"",label:"Giao dch",description:"Qun l giao dch"},{path:"/admin/persons",icon:"",label:"Ngi",description:"Qun l ngi"}],o=u=>i.pathname===u;return m.jsxs("div",{className:"admin-layout",children:[m.jsxs("aside",{className:`sidebar ${a?"open":"closed"}`,children:[m.jsx("div",{className:"sidebar-header",children:m.jsxs("div",{className:"logo",children:[m.jsx("div",{className:"logo-icon",children:""}),a&&m.jsxs("div",{className:"logo-text",children:[m.jsx("h2",{children:"Admin Panel"}),m.jsx("p",{children:"Qun tr h thng"})]})]})}),m.jsx("nav",{className:"sidebar-nav",children:m.jsx("ul",{className:"nav-list",children:s.map(u=>m.jsx("li",{children:m.jsxs(Cm,{to:u.path,className:`nav-item ${o(u.path)?"active":""}`,title:a?"":u.label,children:[m.jsx("span",{className:"nav-icon",children:u.icon}),a&&m.jsxs("div",{className:"nav-content",children:[m.jsx("span",{className:"nav-label",children:u.label}),m.jsx("span",{className:"nav-description",children:u.description})]}),o(u.path)&&m.jsx("div",{className:"active-indicator"})]})},u.path))})})]}),m.jsxs("main",{className:"main-content",children:[m.jsxs("div",{className:"header-left",children:[m.jsx("button",{className:"mobile-menu-toggle",onClick:()=>t(!a),children:""}),m.jsxs("div",{className:"breadcrumb",children:[m.jsx("span",{className:"breadcrumb-item",children:"Admin"}),m.jsx("span",{className:"breadcrumb-separator",children:"/"}),m.jsx("span",{className:"breadcrumb-item active",children:s.find(u=>o(u.path))?.label||"Dashboard"})]})]}),m.jsx("div",{className:"content-wrapper",children:m.jsx($b,{})})]}),a&&m.jsx("div",{className:"mobile-overlay",onClick:()=>t(!1)})]})};function yD({openModal:a}){return m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:" Qun l Giao dch"}),m.jsx("button",{className:"btn btn-primary",onClick:()=>a(),children:" Thm giao dch mi"})]})}function vD({stats:a,formatCurrency:t}){return m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card stat-total",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:"Tng giao dch"}),m.jsx("div",{className:"stat-value",children:a.total})]})]}),m.jsxs("div",{className:"stat-card stat-pending",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:"ang ch"}),m.jsx("div",{className:"stat-value",children:a.pending})]})]}),m.jsxs("div",{className:"stat-card stat-completed",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:"Hon thnh"}),m.jsx("div",{className:"stat-value",children:a.completed})]})]}),m.jsxs("div",{className:"stat-card stat-thu",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:"Tng thu"}),m.jsx("div",{className:"stat-value",children:t(a.totalThu)})]})]}),m.jsxs("div",{className:"stat-card stat-chi",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:"Tng chi"}),m.jsx("div",{className:"stat-value",children:t(a.totalChi)})]})]}),m.jsxs("div",{className:"stat-card stat-balance",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:"Chnh lch"}),m.jsx("div",{className:"stat-value",children:t(a.totalThu-a.totalChi)})]})]})]})}function _D({filterStatus:a,setFilterStatus:t,filterType:i,setFilterType:s,filterDateFrom:o,setFilterDateFrom:u,filterDateTo:f,setFilterDateTo:p,searchTerm:g,setSearchTerm:v}){return m.jsxs("div",{className:"filters-container",children:[m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" Tm kim"}),m.jsx("input",{type:"text",placeholder:"Tm theo m t hoc ngi...",value:g,onChange:T=>v(T.target.value),className:"filter-input"})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" Trng thi"}),m.jsxs("select",{value:a,onChange:T=>t(T.target.value),className:"filter-select",children:[m.jsx("option",{value:"all",children:"Tt c"}),m.jsx("option",{value:"pending",children:"ang ch"}),m.jsx("option",{value:"completed",children:"Hon thnh"})]})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" Loi"}),m.jsxs("select",{value:i,onChange:T=>s(T.target.value),className:"filter-select",children:[m.jsx("option",{value:"all",children:"Tt c"}),m.jsx("option",{value:"thu",children:"Thu"}),m.jsx("option",{value:"chi",children:"Chi"})]})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" T ngy"}),m.jsx("input",{type:"date",value:o,onChange:T=>u(T.target.value),className:"filter-input"})]}),m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:" n ngy"}),m.jsx("input",{type:"date",value:f,onChange:T=>p(T.target.value),className:"filter-input"})]}),m.jsx("div",{className:"filter-group",children:m.jsx("button",{className:"btn btn-secondary",onClick:()=>{t("all"),s("all"),u(""),p(""),v("")},children:" t li"})})]})}function ED({openModal:a,filteredTransactions:t,setFilteredTransactions:i,handleDelete:s}){const o=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u);return m.jsx("div",{className:"table-container",children:m.jsxs("table",{className:"transactions-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Ngy"}),m.jsx("th",{children:"Ngi"}),m.jsx("th",{children:"Loi"}),m.jsx("th",{children:"S tin"}),m.jsx("th",{children:"M t"}),m.jsx("th",{children:"Trng thi"}),m.jsx("th",{children:"Thao tc"})]})}),m.jsx("tbody",{children:t.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"no-data",children:"Khng c giao dch no"})}):t.map(u=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{className:"date-cell",children:[m.jsx("div",{className:"date-main",children:u.date}),m.jsx("div",{className:"date-sub",children:u.dayOfWeek})]})}),m.jsx("td",{children:m.jsx("span",{className:"person-badge",children:u.personName})}),m.jsx("td",{children:m.jsx("span",{className:`type-badge type-${u.type}`,children:u.type==="thu"?" Thu":" Chi"})}),m.jsx("td",{children:m.jsx("span",{className:`amount amount-${u.type}`,children:o(u.amount)})}),m.jsx("td",{className:"description-cell",children:u.description||""}),m.jsx("td",{children:m.jsx("span",{className:`status-badge status-${u.status}`,children:u.status==="pending"?" ang ch":" Hon thnh"})}),m.jsx("td",{children:m.jsxs("div",{className:"action-buttons",children:[m.jsx("button",{className:"btn-icon btn-edit",onClick:()=>a(u),title:"Sa",children:""}),m.jsx("button",{className:"btn-icon btn-delete",onClick:()=>s(u.id),title:"Xa",children:""})]})})]},u.id))})]})})}function TD({setShowModal:a,formData:t,setFormData:i,editingTransaction:s,handleSubmit:o,persons:u}){return m.jsx("div",{className:"modal-overlay",onClick:()=>a(!1),children:m.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:s?" Sa giao dch":" Thm giao dch mi"}),m.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:""})]}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Ngy"}),m.jsx("input",{type:"date",value:t.date,onChange:f=>i({...t,date:f.target.value})})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Loi giao dch"}),m.jsxs("select",{value:t.type,onChange:f=>i({...t,type:f.target.value}),children:[m.jsx("option",{value:"thu",children:" Thu"}),m.jsx("option",{value:"chi",children:" Chi"})]})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Ngi"}),m.jsxs("select",{value:t.personId,onChange:f=>i({...t,personId:f.target.value}),children:[m.jsx("option",{value:"",children:"-- Chn ngi --"}),u.map(f=>m.jsxs("option",{value:f.id,children:[f.name," (",f.code,")"]},f.id))]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" S tin"}),m.jsx("input",{type:"number",placeholder:"Nhp s tin...",value:t.amount,onChange:f=>i({...t,amount:f.target.value})})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Trng thi"}),m.jsxs("select",{value:t.status,onChange:f=>i({...t,status:f.target.value}),children:[m.jsx("option",{value:"pending",children:" ang ch"}),m.jsx("option",{value:"completed",children:" Hon thnh"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" M t"}),m.jsx("textarea",{placeholder:"Nhp m t (ty chn)...",value:t.description,onChange:f=>i({...t,description:f.target.value}),rows:3})]})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{className:"btn btn-secondary",onClick:()=>a(!1),children:"Hy"}),m.jsx("button",{className:"btn btn-primary",onClick:o,children:s?"Cp nht":"Thm"})]})]})})}const SD=()=>{const[a,t]=M.useState([]),[i,s]=M.useState([]),[o,u]=M.useState(!0),[f,p]=M.useState(!1),[g,v]=M.useState(null),T=new bp,[S,w]=M.useState("all"),[j,q]=M.useState("all"),[Q,G]=M.useState(""),[Z,F]=M.useState(""),[it,ft]=M.useState(""),[ct,st]=M.useState({date:new Date().toISOString().split("T")[0],amount:"",type:"thu",description:"",personId:"",status:"pending"});M.useEffect(()=>{R()},[]);const R=async()=>{try{u(!0);const[P,at]=await Promise.all([x(),$o()]);t(P),s(at)}catch{alert("Khng th ti d liu!")}finally{u(!1)}},x=async()=>{const P=tn(ce(Ut,"transactions"),cl("date","desc"));return(await Xe(P)).docs.map(dt=>({id:dt.id,...dt.data()}))},N=P=>{const at=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],dt=new Date(P);return at[dt.getDay()]},V=P=>{P?(v(P),st({date:P.date,amount:P.amount.toString(),type:P.type,description:P.description,personId:P.personId,status:P.status})):(v(null),st({date:new Date().toISOString().split("T")[0],amount:"",type:"thu",description:"",personId:"",status:"pending"})),p(!0)},D=async()=>{if(!ct.date||!ct.amount||!ct.personId){alert("Vui lng in y  thng tin!");return}try{u(!0);const P=i.find(dt=>dt.id===ct.personId),at={date:ct.date,dayOfWeek:N(ct.date),amount:parseFloat(ct.amount),type:ct.type,description:ct.description,personId:ct.personId,personName:P?.name||"",status:ct.status,createdAt:Qt.now()};g&&g.id?(u1(T.getUsername(),`Cp nht giao dch c id: ${g.id}`),await Ko(Cn(Ut,"transactions",g.id),at),alert(" Cp nht giao dch thnh cng!")):(o1(T.getUsername(),`Thm giao dch mi cho ngi: ${P?.name||""} vi s tin: ${ct.amount}`),await hl(ce(Ut,"transactions"),at),alert(" Thm giao dch thnh cng!")),await R(),p(!1)}catch{alert(" C li xy ra!")}finally{u(!1)}},U=async P=>{if(P&&window.confirm("Bn c chc mun xa giao dch ny?"))try{u(!0),await Xo(Cn(Ut,"transactions",P)),await R(),l1(T.getUsername(),`Xa giao dch c id: ${P}`),alert(" Xa thnh cng!")}catch{alert(" Khng th xa!")}finally{u(!1)}},C=a.filter(P=>!(S!=="all"&&P.status!==S||j!=="all"&&P.type!==j||Q&&P.date<Q||Z&&P.date>Z||it&&!P.description.toLowerCase().includes(it.toLowerCase())&&!P.personName.toLowerCase().includes(it.toLowerCase()))),Ct={total:C.length,pending:C.filter(P=>P.status==="pending").length,completed:C.filter(P=>P.status==="completed").length,totalThu:C.filter(P=>P.type==="thu").reduce((P,at)=>P+at.amount,0),totalChi:C.filter(P=>P.type==="chi").reduce((P,at)=>P+at.amount,0)},Zt=P=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(P);return o&&a.length===0?m.jsx(Nm,{}):m.jsxs("div",{className:"manage-transactions",children:[m.jsx(yD,{openModal:V}),m.jsx(vD,{stats:Ct,formatCurrency:Zt}),m.jsx(_D,{filterStatus:S,setFilterStatus:w,filterType:j,setFilterType:q,filterDateFrom:Q,setFilterDateFrom:G,filterDateTo:Z,setFilterDateTo:F,searchTerm:it,setSearchTerm:ft}),m.jsx(ED,{filteredTransactions:C,openModal:V,setFilteredTransactions:t,handleDelete:U}),f&&m.jsx(TD,{setShowModal:p,formData:ct,setFormData:st,editingTransaction:g,handleSubmit:D,persons:i}),o&&m.jsx(Dm,{})]})},is="accounts",Ap="persons",bD=async a=>{try{const t=tn(ce(Ut,Ap),si("code","==",a.codePerson)),i=await Xe(t);if(i.empty)throw new Error(`Khng tm thy ngi vi m: ${a.codePerson}`);const s=i.docs[0].data(),o=tn(ce(Ut,is),si("username","==",a.username));if(!(await Xe(o)).empty)throw new Error(`Username "${a.username}"  tn ti!`);const f={...a,personName:s.name,createdAt:Qt.now()};return(await hl(ce(Ut,is),f)).id}catch(t){throw console.error("Error creating account:",t),t}},AD=async()=>{try{const a=tn(ce(Ut,is),cl("createdAt","desc"));return(await Xe(a)).docs.map(i=>({id:i.id,...i.data()}))}catch(a){throw console.error("Error getting accounts:",a),a}},wD=async a=>{try{const t=Cn(Ut,is,a),i=await LT(t);return i.exists()?{id:i.id,...i.data()}:null}catch(t){throw console.error("Error getting account:",t),t}},xD=async a=>{try{const t=tn(ce(Ut,is),si("username","==",a)),i=await Xe(t);if(!i.empty){const s=i.docs[0];return{id:s.id,...s.data()}}return null}catch(t){throw console.error("Error getting account by username:",t),t}},vm=async(a,t)=>{try{const i=Cn(Ut,is,a);if(t.codePerson){const s=tn(ce(Ut,Ap),si("code","==",t.codePerson)),o=await Xe(s);if(o.empty)throw new Error(`Khng tm thy ngi vi m: ${t.codePerson}`);const u=o.docs[0].data();t.personName=u.name}if(t.username){const s=tn(ce(Ut,is),si("username","==",t.username));if((await Xe(s)).docs.find(f=>f.id!==a))throw new Error(`Username "${t.username}"  tn ti!`)}await Ko(i,t)}catch(i){throw console.error("Error updating account:",i),i}},RD=async a=>{try{await Xo(Cn(Ut,is,a))}catch(t){throw console.error("Error deleting account:",t),t}},CD=async(a,t)=>{try{const i=await xD(a);return i&&i.password===t?i:null}catch(i){throw console.error("Error authenticating account:",i),i}},ND=async()=>{try{const a=await AD(),t=await Xe(ce(Ut,Ap)),i=new Map;return t.docs.forEach(s=>{const o={id:s.id,...s.data()};i.set(o.code,o)}),a.map(s=>({...s,person:i.get(s.codePerson)}))}catch(a){throw console.error("Error getting accounts with person info:",a),a}},xE=()=>{const a=il(),[t,i]=M.useState(""),[s,o]=M.useState(""),[u,f]=M.useState(!1),[p,g]=M.useState(""),[v,T]=M.useState(!1);M.useEffect(()=>{Xa.isAuthenticated()&&a("/")},[a]);const S=async()=>{if(!t.trim()){g(" Vui lng nhp ti khon!"),setTimeout(()=>g(""),3e3);return}if(!s.trim()){g(" Vui lng nhp mt khu!"),setTimeout(()=>g(""),3e3);return}try{T(!0),g("");const j=await CD(t,s);j?(Xa.login(j.username,j.role,j.codePerson),console.log("Login successful:",Xa.getState()),mD(j.username),a("/")):(g(" Ti khon hoc mt khu khng ng!"),setTimeout(()=>g(""),3e3))}catch(j){console.error("Login error:",j),g(" C li xy ra! Vui lng th li."),setTimeout(()=>g(""),3e3)}finally{T(!1)}},w=j=>{j.key==="Enter"&&!v&&S()};return m.jsxs("div",{className:"login-container",children:[m.jsx("div",{className:"bg-box bg-box-1"}),m.jsx("div",{className:"bg-box bg-box-2"}),m.jsx("div",{className:"bg-box bg-box-3"}),m.jsx("div",{className:"bg-box bg-box-4"}),m.jsxs("div",{className:"login-box",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("div",{className:"login-icon",children:""}),m.jsx("h1",{className:"login-title",children:"ng nhp"}),m.jsx("p",{className:"login-subtitle",children:"Vui lng nhp thng tin ti khon"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:" Ti khon"}),m.jsx("input",{type:"text",className:"form-input",placeholder:"Nhp ti khon...",value:t,onChange:j=>i(j.target.value),onKeyPress:w,disabled:v,autoComplete:"username"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:" Mt khu"}),m.jsxs("div",{className:"password-wrapper",children:[m.jsx("input",{type:u?"text":"password",className:"form-input password-input",placeholder:"Nhp mt khu...",value:s,onChange:j=>o(j.target.value),onKeyPress:w,disabled:v,autoComplete:"current-password"}),m.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!u),disabled:v,children:u?"":""})]})]}),p&&m.jsx("div",{className:"error-message",children:p}),m.jsx("button",{className:"login-button",onClick:S,disabled:v,children:v?"ang x l...":"ng nhp"}),m.jsx("div",{className:"forgot-password",children:m.jsx("span",{onClick:()=>!v&&alert("Vui lng lin h admin  ly li mt khu!"),children:"Qun mt khu?"})})]}),v&&m.jsx("div",{className:"login-loading-overlay",children:m.jsx("div",{className:"login-spinner"})})]})},DD=({openModal:a})=>m.jsxs("div",{className:"header-accounts-container",children:[m.jsxs("div",{className:"header-accounts-title-wrapper",children:[m.jsx("div",{className:"header-accounts-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"}),m.jsx("path",{d:"M16 11h6M19 8v6"})]})}),m.jsx("h1",{className:"header-accounts-title",children:"Qun l Ti khon"})]}),m.jsxs("button",{className:"add-accounts-button",onClick:a,children:[m.jsx("span",{className:"add-accounts-button-icon",children:"+"}),m.jsx("span",{className:"add-accounts-button-text",children:"Thm ti khon"})]})]}),ID=({accounts:a,openModal:t,handleDelete:i,handleResetPassword:s})=>m.jsx("div",{className:"grid-accounts-container",children:m.jsxs("table",{className:"accounts-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Username"}),m.jsx("th",{children:"Tn ngi dng"}),m.jsx("th",{children:"M nhn vin"}),m.jsx("th",{children:"Vai tr"}),m.jsx("th",{children:"Thao tc"})]})}),m.jsx("tbody",{children:a.length===0?m.jsx("tr",{children:m.jsxs("td",{colSpan:5,className:"empty-state-accounts",children:[m.jsx("div",{className:"empty-icon-accounts",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),m.jsx("p",{className:"empty-text-accounts",children:"Cha c ti khon no"}),m.jsx("p",{className:"empty-subtext-accounts",children:'Nhn "Thm ti khon"  bt u'})]})}):a.map(o=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{className:"account-username",children:[m.jsx("div",{className:"account-avatar",children:o.username.charAt(0).toUpperCase()}),m.jsx("strong",{children:o.username})]})}),m.jsx("td",{children:o.personName}),m.jsx("td",{children:m.jsx("span",{className:"account-code",children:o.codePerson})}),m.jsx("td",{children:m.jsx("span",{className:`account-role ${o.role}`,children:o.role==="admin"?" Admin":" User"})}),m.jsxs("td",{className:"actions-cell-accounts",children:[m.jsx("button",{className:"btn-accounts btn-edit-accounts",onClick:()=>t(o),title:"Sa",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),m.jsx("button",{className:"btn-accounts btn-reset-accounts",onClick:()=>s(o.id),title:"Reset mt khu",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),m.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),m.jsx("button",{className:"btn-accounts btn-delete-accounts",onClick:()=>i(o.id),title:"Xa",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},o.id))})]})}),jD=({editingAccount:a,formData:t,setFormData:i,persons:s,setShowModal:o,handleSubmit:u})=>m.jsx("div",{className:"modal-overlay-accounts",onClick:()=>o(!1),children:m.jsxs("div",{className:"modal-content-accounts",onClick:f=>f.stopPropagation(),children:[m.jsx("button",{className:"modal-close-accounts",onClick:()=>o(!1),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsxs("div",{className:"modal-header-accounts",children:[m.jsx("div",{className:"modal-icon-accounts",children:a?"":""}),m.jsx("h2",{className:"modal-title-accounts",children:a?"Sa ti khon":"Thm ti khon mi"})]}),m.jsxs("div",{className:"modal-body-accounts",children:[m.jsxs("div",{className:"form-group-accounts",children:[m.jsx("label",{className:"form-label-accounts",children:"Username"}),m.jsx("input",{className:"form-input-accounts",type:"text",placeholder:"Nhp username...",value:t.username,onChange:f=>i({...t,username:f.target.value})})]}),!a&&m.jsxs("div",{className:"form-group-accounts",children:[m.jsx("label",{className:"form-label-accounts",children:"Mt khu"}),m.jsx("input",{className:"form-input-accounts",type:"password",placeholder:"Nhp mt khu...",value:t.password,onChange:f=>i({...t,password:f.target.value})})]}),m.jsxs("div",{className:"form-group-accounts",children:[m.jsx("label",{className:"form-label-accounts",children:"Tn ngi dng"}),m.jsx("input",{className:"form-input-accounts",type:"text",placeholder:"Nhp tn...",value:t.userName,onChange:f=>i({...t,userName:f.target.value})})]}),m.jsxs("div",{className:"form-group-accounts",children:[m.jsx("label",{className:"form-label-accounts",children:"Chn nhn vin"}),m.jsxs("select",{className:"form-input-accounts",value:t.codePerson,onChange:f=>i({...t,codePerson:f.target.value}),children:[m.jsx("option",{value:"",children:"-- Chn nhn vin --"}),s.map(f=>m.jsxs("option",{value:f.code,children:[f.name," (",f.code,")"]},f.id))]})]}),m.jsxs("div",{className:"form-group-accounts",children:[m.jsx("label",{className:"form-label-accounts",children:"Vai tr"}),m.jsxs("select",{className:"form-input-accounts",value:t.role,onChange:f=>i({...t,role:f.target.value}),children:[m.jsx("option",{value:"user",children:" User"}),m.jsx("option",{value:"admin",children:" Admin"})]})]})]}),m.jsxs("div",{className:"modal-footer-accounts",children:[m.jsx("button",{className:"btn-cancel-accounts",onClick:()=>o(!1),children:"Hy"}),m.jsx("button",{className:"btn-submit-accounts",onClick:u,children:a?"Cp nht":"Thm"})]})]})}),VD=()=>{const[a,t]=M.useState([]),[i,s]=M.useState([]),[o,u]=M.useState(!0),[f,p]=M.useState(!1),[g,v]=M.useState(null),[T,S]=M.useState({username:"",password:"",userName:"",codePerson:"",role:"user"});M.useEffect(()=>{w()},[]);const w=async()=>{try{u(!0);const[Z,F]=await Promise.all([ND(),$o()]);t(Z),s(F)}catch{alert("Khng th ti d liu!")}finally{u(!1)}},j=Z=>{Z?(v(Z),S({username:Z.username,password:"",userName:Z.userName,codePerson:Z.codePerson,role:Z.role})):(v(null),S({username:"",password:"",userName:"",codePerson:"",role:"user"})),p(!0)},q=async()=>{if(!T.username||!T.userName||!T.codePerson){alert("Vui lng in y  thng tin!");return}if(!g&&!T.password){alert("Vui lng nhp mt khu!");return}if(!T.role||T.role!=="admin"&&T.role!=="user"){alert("Vui lng chn vai tr hp l!");return}try{u(!0),g&&g.id?(await vm(g.id,{userName:T.userName,codePerson:T.codePerson,role:T.role||"user"}),alert(" Cp nht thnh cng!")):(await bD({...T,role:T.role||"user"}),alert(" Thm ti khon thnh cng!")),await w(),p(!1)}catch(Z){alert(` ${Z.message||"C li xy ra!"}`)}finally{u(!1)}},Q=async Z=>{if(window.confirm("Bn c chc mun xa ti khon ny?"))try{u(!0),await RD(Z),await w(),alert(" Xa thnh cng!")}catch{alert(" Khng th xa!")}finally{u(!1)}},G=async Z=>{const F=prompt("Nhp mt khu mi:");if(F)try{u(!0),await vm(Z,{password:F}),alert(" t li mt khu thnh cng!")}catch{alert(" Khng th t li mt khu!")}finally{u(!1)}};return o&&a.length===0?m.jsxs("div",{className:"page-loader-accounts",children:[m.jsx("div",{className:"loader-spinner-accounts"}),m.jsx("p",{children:"ang ti d liu..."})]}):m.jsxs("div",{className:"manage-accounts-page",children:[m.jsxs("div",{className:"page-content-accounts",children:[m.jsx(DD,{openModal:j}),m.jsx(ID,{accounts:a,openModal:j,handleDelete:Q,handleResetPassword:G})]}),f&&m.jsx(jD,{editingAccount:g,formData:T,setFormData:S,persons:i,setShowModal:p,handleSubmit:q}),o&&m.jsx("div",{className:"loading-overlay-accounts",children:m.jsx("div",{className:"loading-spinner-accounts"})})]})},MD=()=>{const a=il(),[t]=CA(),i=t.get("id"),[s,o]=M.useState(!0),[u,f]=M.useState(!1),[p,g]=M.useState(""),[v,T]=M.useState(""),[S,w]=M.useState([]),[j,q]=M.useState({username:"",password:"",confirmPassword:"",role:"user",codePerson:""}),[Q,G]=M.useState(null);M.useEffect(()=>{Z()},[i]);const Z=async()=>{try{if(o(!0),g(""),!i){g("Khng tm thy ID ti khon");return}const st=await wD(i);if(!st){g("Khng tm thy ti khon");return}G(st),q({username:st.username,password:"",confirmPassword:"",role:st.role,codePerson:st.codePerson});const R=await $o();w(R)}catch(st){g(st instanceof Error?st.message:"Li khi ti d liu")}finally{o(!1)}},F=st=>{const{name:R,value:x}=st.target;q(N=>({...N,[R]:x})),g(""),T("")},it=()=>{if(!j.username.trim())return g("Vui lng nhp username"),!1;if(!j.codePerson)return g("Vui lng chn ngi"),!1;if(j.password){if(j.password.length<6)return g("Mt khu phi c t nht 6 k t"),!1;if(j.password!==j.confirmPassword)return g("Mt khu xc nhn khng khp"),!1}return!0},ft=async()=>{if(!(!it()||!i))try{f(!0),g("");const st={username:j.username,role:j.role,codePerson:j.codePerson};j.password&&(st.password=j.password),await vm(i,st),T("Cp nht ti khon thnh cng!"),setTimeout(()=>{a("/accounts")},1500)}catch(st){g(st instanceof Error?st.message:"Li khi cp nht ti khon")}finally{f(!1)}},ct=()=>{a("/accounts")};return s?m.jsxs("div",{className:"edit-account-loading",children:[m.jsx("div",{className:"loading-spinner"}),m.jsx("p",{children:"ang ti d liu..."})]}):m.jsx("div",{className:"edit-account-container",children:m.jsxs("div",{className:"edit-account-card",children:[m.jsxs("div",{className:"edit-account-header",children:[m.jsx("h1",{children:"Chnh Sa Ti Khon"}),m.jsx("p",{children:"Cp nht thng tin ti khon"})]}),p&&m.jsx("div",{className:"alert alert-error",children:m.jsx("p",{children:p})}),v&&m.jsx("div",{className:"alert alert-success",children:m.jsx("p",{children:v})}),m.jsxs("div",{className:"edit-account-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:["Username ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("input",{type:"text",name:"username",value:j.username,onChange:F,placeholder:"Nhp username",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:["Ngi ",m.jsx("span",{className:"required",children:"*"})]}),m.jsxs("select",{name:"codePerson",value:j.codePerson,onChange:F,required:!0,children:[m.jsx("option",{value:"",children:"-- Chn ngi --"}),S.map(st=>m.jsxs("option",{value:st.code,children:[st.code," - ",st.name]},st.code))]})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:["Vai tr ",m.jsx("span",{className:"required",children:"*"})]}),m.jsxs("select",{name:"role",value:j.role,onChange:F,required:!0,children:[m.jsx("option",{value:"user",children:"User"}),m.jsx("option",{value:"admin",children:"Admin"})]})]}),m.jsxs("div",{className:"password-section",children:[m.jsx("h3",{children:"i Mt Khu (Ty chn)"}),m.jsx("p",{className:"password-note",children:" trng nu khng mun thay i mt khu"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Mt khu mi"}),m.jsx("input",{type:"password",name:"password",value:j.password,onChange:F,placeholder:"Nhp mt khu mi (ti thiu 6 k t)",minLength:6})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Xc nhn mt khu mi"}),m.jsx("input",{type:"password",name:"confirmPassword",value:j.confirmPassword,onChange:F,placeholder:"Nhp li mt khu mi"})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"button",onClick:ft,disabled:u,className:"btn btn-primary",children:u?"ang lu...":"Cp Nht"}),m.jsx("button",{type:"button",onClick:ct,disabled:u,className:"btn btn-secondary",children:"Hy"})]})]}),Q&&m.jsxs("div",{className:"account-info",children:[m.jsx("h4",{children:"Thng tin"}),m.jsxs("div",{className:"info-details",children:[m.jsxs("p",{children:["Tn hin ti: ",Q.personName]}),m.jsxs("p",{children:["Ngy to: ",Q.createdAt?.toDate().toLocaleString("vi-VN")]})]})]})]})})},tl="actions",OD=async a=>{try{const t=tn(ce(Ut,tl),si("name","==",a));if(!(await Xe(t)).empty)throw new Error(`Action vi tn "${a}"  tn ti!`);const s={name:a};return(await hl(ce(Ut,tl),s)).id}catch(t){throw console.error("Error creating action:",t),t}},c1=async()=>{try{const a=tn(ce(Ut,tl));return(await Xe(a)).docs.map(i=>({id:i.id,...i.data()}))}catch(a){throw console.error("Error getting actions:",a),a}},LD=async(a,t)=>{try{const i=Cn(Ut,tl,a);if(t.name){const s=tn(ce(Ut,tl),si("name","==",t.name));if((await Xe(s)).docs.find(f=>f.id!==a))throw new Error(`Action vi tn "${t.name}"  tn ti!`)}await Ko(i,t)}catch(i){throw console.error("Error updating action:",i),i}},UD=async a=>{try{await Xo(Cn(Ut,tl,a))}catch(t){throw console.error("Error deleting action:",t),t}},PD=()=>{const[a,t]=M.useState([]),[i,s]=M.useState([]),[o,u]=M.useState(!1),[f,p]=M.useState(!1),[g,v]=M.useState(null),[T,S]=M.useState(null),[w,j]=M.useState({name:""}),[q,Q]=M.useState(""),[G,Z]=M.useState(""),[F,it]=M.useState(1),[ft,ct]=M.useState(!1),st=5;M.useEffect(()=>{R()},[]);const R=async()=>{try{ct(!0);const X=await c1();console.log(" Loaded actions:",X),t(X),s(X)}catch(X){console.error(" Load error:",X),P("Khng th ti danh sch actions")}finally{ct(!1)}},x=()=>{v(null),j({name:""}),Q(""),u(!0)},N=X=>{v(X),j({name:X.name}),Q(""),u(!0)},V=X=>{S(X),p(!0)},D=()=>{u(!1),Q("")},U=()=>{p(!1)},C=async X=>{X.preventDefault(),Q("");const rt=w.name.trim();if(!rt){Q("Vui lng nhp tn action!");return}try{if(ct(!0),g)console.log(" Updating action:",g.id),await LD(g.id,{name:rt}),Zt("Cp nht action thnh cng!");else{console.log(" Creating new action:",rt);const ut=await OD(rt);console.log(" Created with ID:",ut),Zt("To action mi thnh cng!")}D(),await R()}catch(ut){console.error(" Submit error:",ut),Q(ut.message||"C li xy ra khi lu action")}finally{ct(!1)}},Ct=async()=>{if(T)try{ct(!0),console.log(" Deleting action:",T.id),await UD(T.id),Zt("Xa action thnh cng!"),U(),await R()}catch(X){console.error(" Delete error:",X),P("Khng th xa action")}finally{ct(!1)}},Zt=X=>{Z(X),setTimeout(()=>Z(""),3e3)},P=X=>{Q(X),setTimeout(()=>Q(""),3e3)},at=F*st,dt=at-st,Nt=i.slice(dt,at),Pt=Math.ceil(i.length/st),L=X=>{it(rt=>Math.max(1,Math.min(rt+X,Pt)))};return m.jsx("div",{className:"action-management",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"header",children:[m.jsxs("div",{className:"header-top",children:[m.jsxs("div",{className:"header-info",children:[m.jsx("h1",{children:" Qun L Actions"}),m.jsxs("p",{children:["Tng s: ",m.jsx("span",{children:a.length})," actions"]})]}),m.jsx("button",{className:"btn btn-primary",onClick:x,disabled:ft,children:" To Mi"})]}),G&&m.jsxs("div",{className:"alert alert-success",children:[m.jsx("span",{children:""}),m.jsx("span",{children:G})]}),q&&!o&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx("span",{children:""}),m.jsx("span",{children:q})]})]}),m.jsxs("div",{className:"card",children:[ft&&m.jsx("div",{className:"loading-overlay",children:"ang ti..."}),m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"STT"}),m.jsx("th",{children:"Tn Action"}),m.jsx("th",{children:"Thao Tc"})]})}),m.jsx("tbody",{children:Nt.length>0?Nt.map((X,rt)=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsx("strong",{children:dt+rt+1})}),m.jsx("td",{children:m.jsx("strong",{children:X.name})}),m.jsx("td",{children:m.jsxs("div",{className:"action-buttons",children:[m.jsx("button",{className:"btn-icon btn-edit",onClick:()=>N(X),title:"Sa",disabled:ft,children:""}),m.jsx("button",{className:"btn-icon btn-delete",onClick:()=>V(X),title:"Xa",disabled:ft,children:""})]})})]},X.id)):m.jsx("tr",{children:m.jsxs("td",{colSpan:3,className:"empty-state",children:[m.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("path",{d:"m21 21-4.35-4.35"})]}),m.jsx("p",{children:"Khng tm thy action no"})]})})})]}),Pt>1&&m.jsxs("div",{className:"pagination",children:[m.jsx("button",{onClick:()=>L(-1),disabled:F===1||ft,children:" Trc"}),m.jsxs("span",{className:"current-page",children:[F," / ",Pt]}),m.jsx("button",{onClick:()=>L(1),disabled:F===Pt||ft,children:"Sau "})]})]}),o&&m.jsx("div",{className:"modal active",children:m.jsxs("div",{className:"modal-content",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:g?"Chnh Sa Action":"To Action Mi"}),m.jsx("button",{className:"btn-close",onClick:D,disabled:ft,children:""})]}),m.jsxs("form",{onSubmit:C,children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:"actionName",children:["Tn Action ",m.jsx("span",{style:{color:"red"},children:"*"})]}),m.jsx("input",{type:"text",id:"actionName",placeholder:"Nhp tn action...",value:w.name,onChange:X=>j({name:X.target.value}),required:!0,disabled:ft,autoFocus:!0})]}),q&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx("span",{children:""}),m.jsx("span",{children:q})]}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{type:"button",className:"btn btn-cancel",onClick:D,disabled:ft,children:"Hy"}),m.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:ft,children:[" ",ft?"ang lu...":"Lu"]})]})]})]})}),f&&T&&m.jsx("div",{className:"modal active",children:m.jsxs("div",{className:"modal-content delete-modal-content",children:[m.jsx("div",{className:"icon",children:m.jsx("span",{style:{fontSize:"40px"},children:""})}),m.jsx("h2",{children:"Xc Nhn Xa"}),m.jsxs("p",{children:["Bn c chc chn mun xa action"," ",m.jsx("span",{className:"action-name",children:T.name}),"?"]}),m.jsx("p",{style:{color:"#f44336",fontSize:"14px"},children:"Hnh ng ny khng th hon tc!"}),m.jsxs("div",{className:"modal-actions",style:{justifyContent:"center"},children:[m.jsx("button",{className:"btn btn-cancel",onClick:U,disabled:ft,children:"Hy"}),m.jsxs("button",{className:"btn btn-delete",onClick:Ct,disabled:ft,children:[" ",ft?"ang xa...":"Xa"]})]})]})})]})})},Qs="diaries",kD=async a=>{try{const t=tn(ce(Ut,Qs),si("date","==",a.date),si("username","==",a.username));if(!(await Xe(t)).empty)throw new Error("Diary cho ngy ny v user ny  tn ti!");return(await hl(ce(Ut,Qs),a)).id}catch(t){throw console.error("Error creating diary:",t),t}},zD=async()=>{try{const a=tn(ce(Ut,Qs),cl("date","desc"));return(await Xe(a)).docs.map(i=>({id:i.id,...i.data()}))}catch(a){throw console.error("Error getting diaries:",a),a}},BD=async a=>{try{const t=Cn(Ut,Qs,a),i=await LT(t);return i.exists()?{id:i.id,...i.data()}:null}catch(t){throw console.error("Error getting diary:",t),t}},qD=async(a,t)=>{try{const i=Cn(Ut,Qs,a);if(t.date||t.username){const s=await BD(a);if(!s)throw new Error("Diary khng tn ti!");const o=t.date||s.date,u=t.username||s.username,f=tn(ce(Ut,Qs),si("date","==",o),si("username","==",u));if((await Xe(f)).docs.find(v=>v.id!==a))throw new Error("Diary cho ngy ny v user ny  tn ti!")}await Ko(i,t)}catch(i){throw console.error("Error updating diary:",i),i}},HD=async a=>{try{await Xo(Cn(Ut,Qs,a))}catch(t){throw console.error("Error deleting diary:",t),t}},FD=()=>{const[a,t]=M.useState([]),[i,s]=M.useState([]),[o,u]=M.useState(!1),[f,p]=M.useState(null),[g,v]=M.useState(!1);console.log("DiaryPage render - showModal:",o);const[T,S]=M.useState({date:new Date().toISOString().split("T")[0],morningNumber:0,morningActionId:"",afternoonNumber:0,afternoonActionId:"",username:"current_user"});M.useEffect(()=>{w()},[]);const w=async()=>{try{v(!0);const[F,it]=await Promise.all([zD(),c1()]);t(F),s(it)}catch(F){console.error("Error loading data:",F),alert("Li khi ti d liu!")}finally{v(!1)}},j=F=>{if(console.log("Opening modal..."),F){p(F);const it=F.date.toDate().toISOString().split("T")[0];S({date:it,morningNumber:0,morningActionId:F.morningSessionId,afternoonNumber:0,afternoonActionId:F.afternoonSessionId,username:F.username})}else p(null),S({date:new Date().toISOString().split("T")[0],morningNumber:0,morningActionId:"",afternoonNumber:0,afternoonActionId:"",username:Xa.getUsername()||"current_user"});u(!0),console.log("Modal state set to true")},q=()=>{u(!1),p(null)},Q=async F=>{if(F.preventDefault(),!T.morningActionId||!T.afternoonActionId){alert("Vui lng chn hot ng cho c bui sng v chiu!");return}try{v(!0);const it=`morning_${Date.now()}`,ft=`afternoon_${Date.now()}`,ct={date:Qt.fromDate(new Date(T.date)),morningSessionId:it,afternoonSessionId:ft,username:T.username};f?(await qD(f.id,ct),alert("Cp nht nht k thnh cng!")):(await kD(ct),alert("Thm nht k thnh cng!")),q(),w()}catch(it){console.error("Error saving diary:",it),alert(it.message||"Li khi lu nht k!")}finally{v(!1)}},G=async F=>{if(window.confirm("Bn c chc chn mun xa nht k ny?"))try{v(!0),await HD(F),alert("Xa nht k thnh cng!"),w()}catch(it){console.error("Error deleting diary:",it),alert("Li khi xa nht k!")}finally{v(!1)}},Z=F=>{const it=i.find(ft=>ft.id===F);return it?it.name:"N/A"};return m.jsx("div",{className:"diary-page",children:m.jsxs("div",{className:"container",children:[!1,m.jsxs("div",{className:"header",children:[m.jsx("h1",{children:"Qun l Nht k"}),m.jsxs("button",{className:"btn-add",onClick:()=>j(),disabled:g,children:[m.jsx("span",{className:"icon",children:"+"}),"Thm Nht k"]})]}),m.jsx("div",{className:"diary-grid",children:g&&a.length===0?m.jsx("div",{className:"loading",children:"ang ti..."}):a.length===0?m.jsx("div",{className:"empty",children:"Cha c nht k no"}):a.map(F=>m.jsxs("div",{className:"diary-card",children:[m.jsxs("div",{className:"diary-header",children:[m.jsx("h3",{className:"diary-date",children:F.date.toDate().toLocaleDateString("vi-VN")}),m.jsxs("div",{className:"diary-actions",children:[m.jsx("button",{className:"btn-edit",onClick:()=>j(F),title:"Cp nht",children:""}),m.jsx("button",{className:"btn-delete",onClick:()=>G(F.id),title:"Xa",children:""})]})]}),m.jsxs("div",{className:"diary-content",children:[m.jsxs("div",{className:"session",children:[m.jsx("h4",{children:"Bui sng"}),m.jsxs("p",{children:["Hot ng: ",Z(F.morningSessionId)]})]}),m.jsxs("div",{className:"session",children:[m.jsx("h4",{children:"Bui chiu"}),m.jsxs("p",{children:["Hot ng: ",Z(F.afternoonSessionId)]})]})]})]},F.id))}),o&&m.jsx("div",{className:"modal-overlay",onClick:q,children:m.jsxs("div",{className:"modal",onClick:F=>F.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:f?"Cp nht Nht k":"Thm Nht k"}),m.jsx("button",{className:"btn-close",onClick:q,children:""})]}),m.jsxs("form",{onSubmit:Q,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ngy to"}),m.jsx("input",{type:"date",value:T.date,onChange:F=>S({...T,date:F.target.value}),required:!0})]}),m.jsxs("div",{className:"session-group",children:[m.jsx("h3",{children:"Bui sng"}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"S cuc gi"}),m.jsx("input",{type:"number",min:"0",value:T.morningNumber,onChange:F=>S({...T,morningNumber:parseInt(F.target.value)}),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Hot ng"}),m.jsxs("select",{value:T.morningActionId,onChange:F=>S({...T,morningActionId:F.target.value}),required:!0,children:[m.jsx("option",{value:"",children:"-- Chn hot ng --"}),i.map(F=>m.jsx("option",{value:F.id,children:F.name},F.id))]})]})]})]}),m.jsxs("div",{className:"session-group",children:[m.jsx("h3",{children:"Bui chiu"}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"S cuc gi"}),m.jsx("input",{type:"number",min:"0",value:T.afternoonNumber,onChange:F=>S({...T,afternoonNumber:parseInt(F.target.value)}),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Hot ng"}),m.jsxs("select",{value:T.afternoonActionId,onChange:F=>S({...T,afternoonActionId:F.target.value}),required:!0,children:[m.jsx("option",{value:"",children:"-- Chn hot ng --"}),i.map(F=>m.jsx("option",{value:F.id,children:F.name},F.id))]})]})]})]}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{type:"button",className:"btn-cancel",onClick:q,children:"Hy"}),m.jsx("button",{type:"submit",className:"btn-submit",disabled:g,children:g?"ang lu...":f?"Cp nht":"Thm"})]})]})]})})]})})},GD=()=>m.jsx("div",{className:"header-history-container",children:m.jsxs("div",{className:"header-history-title-wrapper",children:[m.jsx("div",{className:"header-history-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),m.jsx("h1",{className:"header-history-title",children:"Lch s hot ng"})]})}),QD=({filterType:a,setFilterType:t,filterUsername:i,setFilterUsername:s,searchDate:o,setSearchDate:u})=>m.jsxs("div",{className:"filter-history-container",children:[m.jsxs("div",{className:"filter-group-history",children:[m.jsx("label",{className:"filter-label-history",children:"Loi hnh ng:"}),m.jsxs("select",{className:"filter-select-history",value:a,onChange:f=>t(f.target.value),children:[m.jsx("option",{value:"",children:"Tt c"}),m.jsx("option",{value:"LOGIN",children:" ng nhp"}),m.jsx("option",{value:"CREATE",children:" To mi"}),m.jsx("option",{value:"UPDATE",children:" Cp nht"}),m.jsx("option",{value:"DELETE",children:" Xa"})]})]}),m.jsxs("div",{className:"filter-group-history",children:[m.jsx("label",{className:"filter-label-history",children:"Ngi dng:"}),m.jsx("input",{className:"filter-input-history",type:"text",placeholder:"Tm theo username...",value:i,onChange:f=>s(f.target.value)})]}),m.jsxs("div",{className:"filter-group-history",children:[m.jsx("label",{className:"filter-label-history",children:"Ngy:"}),m.jsx("input",{className:"filter-input-history",type:"date",value:o,onChange:f=>u(f.target.value)})]})]}),YD=({histories:a})=>{const t=o=>{switch(o){case"LOGIN":return"";case"CREATE":return"";case"UPDATE":return"";case"DELETE":return"";default:return""}},i=o=>{switch(o){case"LOGIN":return"type-login";case"CREATE":return"type-create";case"UPDATE":return"type-update";case"DELETE":return"type-delete";default:return""}},s=o=>{if(!o)return"";const u=o.toDate();return new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(u)};return m.jsx("div",{className:"grid-history-container",children:m.jsxs("table",{className:"history-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Thi gian"}),m.jsx("th",{children:"Ngi dng"}),m.jsx("th",{children:"Hnh ng"}),m.jsx("th",{children:"Ni dung"})]})}),m.jsx("tbody",{children:a.length===0?m.jsx("tr",{children:m.jsxs("td",{colSpan:4,className:"empty-state-history",children:[m.jsx("div",{className:"empty-icon-history",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),m.jsx("p",{className:"empty-text-history",children:"Cha c lch s no"}),m.jsx("p",{className:"empty-subtext-history",children:"Cc hot ng s c ghi li  y"})]})}):a.map(o=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{className:"history-time",children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]}),m.jsx("span",{children:s(o.updatedAt)})]})}),m.jsx("td",{children:m.jsxs("div",{className:"history-username",children:[m.jsx("div",{className:"history-avatar",children:o.username.charAt(0).toUpperCase()}),m.jsx("strong",{children:o.username})]})}),m.jsx("td",{children:m.jsxs("span",{className:`history-type ${i(o.type)}`,children:[t(o.type)," ",o.type]})}),m.jsx("td",{children:m.jsx("span",{className:"history-content",children:o.content||""})})]},o.id))})]})})},KD=()=>{const[a,t]=M.useState([]),[i,s]=M.useState([]),[o,u]=M.useState(!0),[f,p]=M.useState(""),[g,v]=M.useState(""),[T,S]=M.useState("");M.useEffect(()=>{w()},[]),M.useEffect(()=>{j()},[a,f,g,T]);const w=async()=>{try{u(!0);const q=await dD();t(q)}catch{alert("Khng th ti d liu lch s!")}finally{u(!1)}},j=()=>{let q=[...a];f&&(q=q.filter(Q=>Q.type===f)),g&&(q=q.filter(Q=>Q.username.toLowerCase().includes(g.toLowerCase()))),T&&(q=q.filter(Q=>{if(!Q.updatedAt)return!1;const G=Q.updatedAt.toDate(),Z=new Date(T);return G.toDateString()===Z.toDateString()})),s(q)};return o?m.jsxs("div",{className:"page-loader-history",children:[m.jsx("div",{className:"loader-spinner-history"}),m.jsx("p",{children:"ang ti lch s..."})]}):m.jsx("div",{className:"manage-history-page",children:m.jsxs("div",{className:"page-content-history",children:[m.jsx(GD,{}),m.jsx(QD,{filterType:f,setFilterType:p,filterUsername:g,setFilterUsername:v,searchDate:T,setSearchDate:S}),m.jsx(YD,{histories:i})]})})},Xa=new bp,Ni=({children:a})=>Xa.isAuthenticated()?m.jsx(m.Fragment,{children:a}):m.jsx(wm,{to:"/login",replace:!0}),h1=document.getElementById("root");if(!h1)throw new Error("Failed to find the root element");JS.createRoot(h1).render(m.jsx(CE.StrictMode,{children:m.jsx(bA,{children:m.jsxs(Jb,{children:[m.jsx(dn,{path:"/login",element:m.jsx(xE,{})}),m.jsx(dn,{path:"/login",element:m.jsx(xE,{})}),m.jsx(dn,{path:"/",element:m.jsx(Ni,{children:m.jsx(MA,{})})}),m.jsx(dn,{path:"/quy-phong",element:m.jsx(Ni,{children:m.jsx(uD,{})})}),m.jsx(dn,{path:"/history",element:m.jsx(Ni,{children:m.jsx(KD,{})})}),m.jsx(dn,{path:"/accounts",element:m.jsx(Ni,{children:m.jsx(VD,{})})}),m.jsx(dn,{path:"/accounts/edit",element:m.jsx(Ni,{children:m.jsx(MD,{})})}),m.jsx(dn,{path:"/admin",element:m.jsx(Ni,{children:m.jsx(gD,{})})}),m.jsx(dn,{path:"/admin/persons",element:m.jsx(Ni,{children:m.jsx(pD,{})})}),m.jsx(dn,{path:"/admin/transactions",element:m.jsx(Ni,{children:m.jsx(SD,{})})}),m.jsx(dn,{path:"/admin/action",element:m.jsx(Ni,{children:m.jsx(PD,{})})}),m.jsx(dn,{path:"/admin/diary",element:m.jsx(Ni,{children:m.jsx(FD,{})})}),m.jsx(dn,{path:"*",element:m.jsx(wm,{to:"/",replace:!0})})]})})}));
