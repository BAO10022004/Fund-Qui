(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function SE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vd={exports:{}},ho={};var kv;function VS(){if(kv)return ho;kv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:f,ref:o!==void 0?o:null,props:u}}return ho.Fragment=t,ho.jsx=i,ho.jsxs=i,ho}var Bv;function MS(){return Bv||(Bv=1,vd.exports=VS()),vd.exports}var p=MS(),_d={exports:{}},At={};var qv;function jS(){if(qv)return At;qv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function M(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,F={};function J(O,tt,lt){this.props=O,this.context=tt,this.refs=F,this.updater=lt||H}J.prototype.isReactComponent={},J.prototype.setState=function(O,tt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,tt,"setState")},J.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function et(){}et.prototype=J.prototype;function st(O,tt,lt){this.props=O,this.context=tt,this.refs=F,this.updater=lt||H}var mt=st.prototype=new et;mt.constructor=st,X(mt,J.prototype),mt.isPureReactComponent=!0;var vt=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(O,tt,lt){var ht=lt.ref;return{$$typeof:a,type:O,key:tt,ref:ht!==void 0?ht:null,props:lt}}function V(O,tt){return N(O.type,tt,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function L(O){var tt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(lt){return tt[lt]})}var x=/\/+/g;function ot(O,tt){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):tt.toString(36)}function It(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(at,at):(O.status="pending",O.then(function(tt){O.status==="pending"&&(O.status="fulfilled",O.value=tt)},function(tt){O.status==="pending"&&(O.status="rejected",O.reason=tt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,tt,lt,ht,Tt){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var Pt=!1;if(O===null)Pt=!0;else switch(Ct){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(O.$$typeof){case a:case t:Pt=!0;break;case T:return Pt=O._init,Y(Pt(O._payload),tt,lt,ht,Tt)}}if(Pt)return Tt=Tt(O),Pt=ht===""?"."+ot(O,0):ht,vt(Tt)?(lt="",Pt!=null&&(lt=Pt.replace(x,"$&/")+"/"),Y(Tt,tt,lt,"",function(is){return is})):Tt!=null&&(D(Tt)&&(Tt=V(Tt,lt+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(x,"$&/")+"/")+Pt)),tt.push(Tt)),1;Pt=0;var De=ht===""?".":ht+":";if(vt(O))for(var se=0;se<O.length;se++)ht=O[se],Ct=De+ot(ht,se),Pt+=Y(ht,tt,lt,Ct,Tt);else if(se=M(O),typeof se=="function")for(O=se.call(O),se=0;!(ht=O.next()).done;)ht=ht.value,Ct=De+ot(ht,se++),Pt+=Y(ht,tt,lt,Ct,Tt);else if(Ct==="object"){if(typeof O.then=="function")return Y(It(O),tt,lt,ht,Tt);throw tt=String(O),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function it(O,tt,lt){if(O==null)return O;var ht=[],Tt=0;return Y(O,ht,"","",function(Ct){return tt.call(lt,Ct,Tt++)}),ht}function pt(O){if(O._status===-1){var tt=O._result;tt=tt(),tt.then(function(lt){(O._status===0||O._status===-1)&&(O._status=1,O._result=lt)},function(lt){(O._status===0||O._status===-1)&&(O._status=2,O._result=lt)}),O._status===-1&&(O._status=0,O._result=tt)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:it,forEach:function(O,tt,lt){it(O,function(){tt.apply(this,arguments)},lt)},count:function(O){var tt=0;return it(O,function(){tt++}),tt},toArray:function(O){return it(O,function(tt){return tt})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=S,At.Children=Ht,At.Component=J,At.Fragment=i,At.Profiler=o,At.PureComponent=st,At.StrictMode=r,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,tt,lt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ht=X({},O.props),Tt=O.key;if(tt!=null)for(Ct in tt.key!==void 0&&(Tt=""+tt.key),tt)!w.call(tt,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&tt.ref===void 0||(ht[Ct]=tt[Ct]);var Ct=arguments.length-2;if(Ct===1)ht.children=lt;else if(1<Ct){for(var Pt=Array(Ct),De=0;De<Ct;De++)Pt[De]=arguments[De+2];ht.children=Pt}return N(O.type,Tt,ht)},At.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},At.createElement=function(O,tt,lt){var ht,Tt={},Ct=null;if(tt!=null)for(ht in tt.key!==void 0&&(Ct=""+tt.key),tt)w.call(tt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(Tt[ht]=tt[ht]);var Pt=arguments.length-2;if(Pt===1)Tt.children=lt;else if(1<Pt){for(var De=Array(Pt),se=0;se<Pt;se++)De[se]=arguments[se+2];Tt.children=De}if(O&&O.defaultProps)for(ht in Pt=O.defaultProps,Pt)Tt[ht]===void 0&&(Tt[ht]=Pt[ht]);return N(O,Ct,Tt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:m,render:O}},At.isValidElement=D,At.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:pt}},At.memo=function(O,tt){return{$$typeof:v,type:O,compare:tt===void 0?null:tt}},At.startTransition=function(O){var tt=C.T,lt={};C.T=lt;try{var ht=O(),Tt=C.S;Tt!==null&&Tt(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(at,Lt)}catch(Ct){Lt(Ct)}finally{tt!==null&&lt.types!==null&&(tt.types=lt.types),C.T=tt}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(O){return C.H.use(O)},At.useActionState=function(O,tt,lt){return C.H.useActionState(O,tt,lt)},At.useCallback=function(O,tt){return C.H.useCallback(O,tt)},At.useContext=function(O){return C.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,tt){return C.H.useDeferredValue(O,tt)},At.useEffect=function(O,tt){return C.H.useEffect(O,tt)},At.useEffectEvent=function(O){return C.H.useEffectEvent(O)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(O,tt,lt){return C.H.useImperativeHandle(O,tt,lt)},At.useInsertionEffect=function(O,tt){return C.H.useInsertionEffect(O,tt)},At.useLayoutEffect=function(O,tt){return C.H.useLayoutEffect(O,tt)},At.useMemo=function(O,tt){return C.H.useMemo(O,tt)},At.useOptimistic=function(O,tt){return C.H.useOptimistic(O,tt)},At.useReducer=function(O,tt,lt){return C.H.useReducer(O,tt,lt)},At.useRef=function(O){return C.H.useRef(O)},At.useState=function(O){return C.H.useState(O)},At.useSyncExternalStore=function(O,tt,lt){return C.H.useSyncExternalStore(O,tt,lt)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var Hv;function dm(){return Hv||(Hv=1,_d.exports=jS()),_d.exports}var U=dm();const AE=SE(U);var Ed={exports:{}},fo={},Td={exports:{}},Sd={};var Fv;function OS(){return Fv||(Fv=1,(function(a){function t(Y,it){var pt=Y.length;Y.push(it);t:for(;0<pt;){var Lt=pt-1>>>1,Ht=Y[Lt];if(0<o(Ht,it))Y[Lt]=it,Y[pt]=Ht,pt=Lt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var it=Y[0],pt=Y.pop();if(pt!==it){Y[0]=pt;t:for(var Lt=0,Ht=Y.length,O=Ht>>>1;Lt<O;){var tt=2*(Lt+1)-1,lt=Y[tt],ht=tt+1,Tt=Y[ht];if(0>o(lt,pt))ht<Ht&&0>o(Tt,lt)?(Y[Lt]=Tt,Y[ht]=pt,Lt=ht):(Y[Lt]=lt,Y[tt]=pt,Lt=tt);else if(ht<Ht&&0>o(Tt,pt))Y[Lt]=Tt,Y[ht]=pt,Lt=ht;else break t}}return it}function o(Y,it){var pt=Y.sortIndex-it.sortIndex;return pt!==0?pt:Y.id-it.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var y=[],v=[],T=1,S=null,R=3,M=!1,H=!1,X=!1,F=!1,J=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function mt(Y){for(var it=i(v);it!==null;){if(it.callback===null)r(v);else if(it.startTime<=Y)r(v),it.sortIndex=it.expirationTime,t(y,it);else break;it=i(v)}}function vt(Y){if(X=!1,mt(Y),!H)if(i(y)!==null)H=!0,at||(at=!0,L());else{var it=i(v);it!==null&&It(vt,it.startTime-Y)}}var at=!1,C=-1,w=5,N=-1;function V(){return F?!0:!(a.unstable_now()-N<w)}function D(){if(F=!1,at){var Y=a.unstable_now();N=Y;var it=!0;try{t:{H=!1,X&&(X=!1,et(C),C=-1),M=!0;var pt=R;try{e:{for(mt(Y),S=i(y);S!==null&&!(S.expirationTime>Y&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,R=S.priorityLevel;var Ht=Lt(S.expirationTime<=Y);if(Y=a.unstable_now(),typeof Ht=="function"){S.callback=Ht,mt(Y),it=!0;break e}S===i(y)&&r(y),mt(Y)}else r(y);S=i(y)}if(S!==null)it=!0;else{var O=i(v);O!==null&&It(vt,O.startTime-Y),it=!1}}break t}finally{S=null,R=pt,M=!1}it=void 0}}finally{it?L():at=!1}}}var L;if(typeof st=="function")L=function(){st(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=D,L=function(){ot.postMessage(null)}}else L=function(){J(D,0)};function It(Y,it){C=J(function(){Y(a.unstable_now())},it)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var it=3;break;default:it=R}var pt=R;R=it;try{return Y()}finally{R=pt}},a.unstable_requestPaint=function(){F=!0},a.unstable_runWithPriority=function(Y,it){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pt=R;R=Y;try{return it()}finally{R=pt}},a.unstable_scheduleCallback=function(Y,it,pt){var Lt=a.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Lt+pt:Lt):pt=Lt,Y){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=pt+Ht,Y={id:T++,callback:it,priorityLevel:Y,startTime:pt,expirationTime:Ht,sortIndex:-1},pt>Lt?(Y.sortIndex=pt,t(v,Y),i(y)===null&&Y===i(v)&&(X?(et(C),C=-1):X=!0,It(vt,pt-Lt))):(Y.sortIndex=Ht,t(y,Y),H||M||(H=!0,at||(at=!0,L()))),Y},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(Y){var it=R;return function(){var pt=R;R=it;try{return Y.apply(this,arguments)}finally{R=pt}}}})(Sd)),Sd}var Gv;function LS(){return Gv||(Gv=1,Td.exports=OS()),Td.exports}var Ad={exports:{}},Ke={};var Qv;function US(){if(Qv)return Ke;Qv=1;var a=dm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:v,implementation:T}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(y,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(y,v,null,T)},Ke.flushSync=function(y){var v=f.T,T=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=v,r.p=T,r.d.f()}},Ke.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},Ke.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ke.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var T=v.as,S=m(T,v.crossOrigin),R=typeof v.integrity=="string"?v.integrity:void 0,M=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:M}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:R,fetchPriority:M,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=m(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},Ke.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=m(T,v.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(y,v){if(typeof y=="string")if(v){var T=m(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},Ke.requestFormReset=function(y){r.d.r(y)},Ke.unstable_batchedUpdates=function(y,v){return y(v)},Ke.useFormState=function(y,v,T){return f.H.useFormState(y,v,T)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var Yv;function PS(){if(Yv)return Ad.exports;Yv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=US(),Ad.exports}var Kv;function zS(){if(Kv)return fo;Kv=1;var a=LS(),t=dm(),i=PS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return y(h),e;if(d===l)return y(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,A=h.child;A;){if(A===s){_=!0,s=h,l=d;break}if(A===l){_=!0,l=h,s=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===s){_=!0,s=d,l=h;break}if(A===l){_=!0,l=d,s=h;break}A=A.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),st=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case J:return"Profiler";case F:return"StrictMode";case vt:return"Suspense";case at:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case st:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ot(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ot(e(n))}catch{}}return null}var It=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(e){return{current:e}}function tt(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function lt(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var ht=O(null),Tt=O(null),Ct=O(null),Pt=O(null);function De(e,n){switch(lt(Ct,n),lt(Tt,e),lt(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?uv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=uv(n),e=cv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(ht),lt(ht,e)}function se(){tt(ht),tt(Tt),tt(Ct)}function is(e){e.memoizedState!==null&&lt(Pt,e);var n=ht.current,s=cv(n,e.type);n!==s&&(lt(Tt,e),lt(ht,s))}function Xs(e){Tt.current===e&&(tt(ht),tt(Tt)),Pt.current===e&&(tt(Pt),lo._currentValue=pt)}var $s,Zs;function ii(e){if($s===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);$s=n&&n[1]||"",Zs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+e+Zs}var ll=!1;function as(e,n){if(!e||ll)return"";ll=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var q=Q}Reflect.construct(e,[],W)}else{try{W.call()}catch(Q){q=Q}e.call(W.prototype)}}else{try{throw Error()}catch(Q){q=Q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var I=_.split(`
`),B=A.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var K=`
`+I[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{ll=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ii(s):""}function ol(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return as(e.type,!1);case 11:return as(e.type.render,!1);case 1:return as(e.type,!0);case 31:return ii("Activity");default:return""}}function ul(e){try{var n="",s=null;do n+=ol(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,oa=a.unstable_cancelCallback,_h=a.unstable_shouldYield,Go=a.unstable_requestPaint,Je=a.unstable_now,ss=a.unstable_getCurrentPriorityLevel,cl=a.unstable_ImmediatePriority,hl=a.unstable_UserBlockingPriority,ua=a.unstable_NormalPriority,Eh=a.unstable_LowPriority,Qo=a.unstable_IdlePriority,Yo=a.log,Ko=a.unstable_setDisableYieldValue,Bn=null,ze=null;function Rn(e){if(typeof Yo=="function"&&Ko(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Bn,e)}catch{}}var fe=Math.clz32?Math.clz32:$o,Xo=Math.log,Js=Math.LN2;function $o(e){return e>>>=0,e===0?32:31-(Xo(e)/Js|0)|0}var ai=256,rs=262144,ve=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=si(l):(_&=A,_!==0?h=si(_):s||(s=A&~e,s!==0&&(h=si(s))))):(A=l&~d,A!==0?h=si(A):_!==0?h=si(_):s||(s=l&~e,s!==0&&(h=si(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function li(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ls(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,s,l,h,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var A=e.entanglements,I=e.expirationTimes,B=e.hiddenUpdates;for(s=_&~s;0<s;){var K=31-fe(s),W=1<<K;A[K]=0,I[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var Q=q[K];Q!==null&&(Q.lane&=-536870913)}s&=~W}l!==0&&os(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function os(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-fe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function fl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-fe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function dl(e,n){var s=n&-n;return s=(s&42)!==0?1:us(s),(s&(e.suspendedLanes|n))!==0?0:s}function us(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jo(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:Mv(e.type))}function Hn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Fn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Fn,Oe="__reactProps$"+Fn,oi="__reactContainer$"+Fn,Ws="__reactEvents$"+Fn,Ah="__reactListeners$"+Fn,Wo="__reactHandles$"+Fn,tu="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function tr(e){delete e[_e],delete e[Oe],delete e[Ws],delete e[Ah],delete e[Wo]}function ci(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[oi]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=yv(e);e!==null;){if(s=e[_e])return s;e=yv(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[_e]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function hi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ui]=!0}var ml=new Set,pl={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(pl[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},vl={};function eu(e){return ye.call(vl,e)?!0:ye.call(yl,e)?!1:gl.test(e)?vl[e]=!0:(yl[e]=!0,!1)}function er(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ca(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _l(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=ca(e)?"checked":"value";e._valueTracker=_l(e,n,""+e[n])}}function cs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ca(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hs=/[\n"\\]/g;function nn(e){return e.replace(hs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nr(e,n,s,l,h,d,_,A){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?El(e,_,Le(n)):s!=null?El(e,_,Le(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Le(A):e.removeAttribute("name")}function nu(e,n,s,l,h,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,A||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function El(e,n,s){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ha(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function fa(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(It(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Yt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Tl(e,d,n[d])}function ir(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(e){return da.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Al=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,pi=null;function fs(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[Oe]||null;t:switch(e=n.stateNode,n.type){case"input":if(nr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Oe]||null;if(!h)throw Error(r(90));nr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&cs(l)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ha(e,!!s.multiple,n,!1)}}}var sr=!1;function pa(e,n,s){if(sr)return e(n,s);sr=!0;try{var l=e(n);return l}finally{if(sr=!1,(ma!==null||pi!==null)&&(Ju(),ma&&(n=ma,e=pi,pi=ma=null,fs(n),e)))for(n=0;n<e.length;n++)fs(e[n])}}function Qn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){ds=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{ds=!1}var gi=null,bl=null,ms=null;function wl(){if(ms)return ms;var e,n=bl,s=n.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var _=s-e;for(l=1;l<=_&&n[s-l]===h[d-l];l++);return ms=h.slice(e,1<l?1-l:void 0)}function ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Yn(){return!1}function ke(e){function n(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(s=e[A],this[A]=s?s(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Oi:Yn,this.isPropagationStopped=Yn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=ke(Li),ga=S({},Li,{view:0,detail:0}),Rl=ke(ga),ya,rr,vi,lr=S({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(ya=e.screenX-vi.screenX,rr=e.screenY-vi.screenY):rr=ya=0,vi=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:rr}}),Cl=ke(lr),gs=S({},lr,{dataTransfer:0}),ru=ke(gs),lu=S({},ga,{relatedTarget:0}),ys=ke(lu),xl=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=ke(xl),or=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=ke(or),cu=S({},Li,{data:0}),_i=ke(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function va(){return mu}var We=S({},ga,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=ke(We),gu=S({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ke(gu),c=S({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),g=ke(c),E=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=ke(E),z=S({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G=ke(z),rt=S({},Li,{newState:0,oldState:0}),wt=ke(rt),de=[9,13,27,32],Ft=Nn&&"CompositionEvent"in window,re=null;Nn&&"documentMode"in document&&(re=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!re,Ei=Nn&&(!Ft||re&&8<re&&11>=re),Kn=" ",Xn=!1;function vs(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ur(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function n1(e,n){switch(e){case"compositionend":return ur(n);case"keypress":return n.which!==32?null:(Xn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Xn?null:e;default:return null}}function i1(e,n){if(cr)return e==="compositionend"||!Ft&&vs(e,n)?(e=wl(),ms=bl=gi=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!a1[e.type]:n==="textarea"}function Tp(e,n,s,l){ma?pi?pi.push(l):pi=[l]:ma=l,n=sc(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,Dl=null;function s1(e){iv(e,0)}function yu(e){var n=dn(e);if(cs(n))return e}function Sp(e,n){if(e==="change")return n}var Ap=!1;if(Nn){var bh;if(Nn){var wh="oninput"in document;if(!wh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),wh=typeof bp.oninput=="function"}bh=wh}else bh=!1;Ap=bh&&(!document.documentMode||9<document.documentMode)}function wp(){Nl&&(Nl.detachEvent("onpropertychange",Rp),Dl=Nl=null)}function Rp(e){if(e.propertyName==="value"&&yu(Dl)){var n=[];Tp(n,Dl,e,xn(e)),pa(s1,n)}}function r1(e,n,s){e==="focusin"?(wp(),Nl=n,Dl=s,Nl.attachEvent("onpropertychange",Rp)):e==="focusout"&&wp()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Dl)}function o1(e,n){if(e==="click")return yu(n)}function u1(e,n){if(e==="input"||e==="change")return yu(n)}function c1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:c1;function Il(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xp(e,n){var s=Cp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Cp(s)}}function Np(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Np(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=mi(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var h1=Nn&&"documentMode"in document&&11>=document.documentMode,hr=null,Ch=null,Vl=null,xh=!1;function Ip(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||hr==null||hr!==mi(l)||(l=hr,"selectionStart"in l&&Rh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Il(Vl,l)||(Vl=l,l=sc(Ch,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=hr)))}function _s(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fr={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Nh={},Vp={};Nn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Es(e){if(Nh[e])return Nh[e];if(!fr[e])return e;var n=fr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vp)return Nh[e]=n[s];return e}var Mp=Es("animationend"),jp=Es("animationiteration"),Op=Es("animationstart"),f1=Es("transitionrun"),d1=Es("transitionstart"),m1=Es("transitioncancel"),Lp=Es("transitionend"),Up=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function $n(e,n){Up.set(e,n),fi(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],dr=0,Ih=0;function _u(){for(var e=dr,n=Ih=dr=0;n<e;){var s=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var d=In[n];if(In[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Pp(s,h,d)}}function Eu(e,n,s,l){In[dr++]=e,In[dr++]=n,In[dr++]=s,In[dr++]=l,Ih|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Vh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function Ts(e,n){return Eu(e,null,null,n),Tu(e)}function Pp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-fe(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function Tu(e){if(50<to)throw to=0,qf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var mr={};function p1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new p1(e,n,s,l)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function zp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,s,l,h,d){var _=0;if(l=e,typeof e=="function")Mh(e)&&(_=1);else if(typeof e=="string")_=ES(e,s,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=gn(31,s,n,h),e.elementType=N,e.lanes=d,e;case X:return Ss(s.children,h,d,n);case F:_=8,h|=24;break;case J:return e=gn(12,s,n,h|2),e.elementType=J,e.lanes=d,e;case vt:return e=gn(13,s,n,h),e.elementType=vt,e.lanes=d,e;case at:return e=gn(19,s,n,h),e.elementType=at,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:_=10;break t;case et:_=9;break t;case mt:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=gn(_,s,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Ss(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function jh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function kp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Oh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bp=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=Bp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ul(n)},Bp.set(e,n),n)}return{value:e,source:n,stack:ul(n)}}var pr=[],gr=0,Au=null,Ml=0,Mn=[],jn=0,_a=null,Ti=1,Si="";function zi(e,n){pr[gr++]=Ml,pr[gr++]=Au,Au=e,Ml=n}function qp(e,n,s){Mn[jn++]=Ti,Mn[jn++]=Si,Mn[jn++]=_a,_a=e;var l=Ti;e=Si;var h=32-fe(l)-1;l&=~(1<<h),s+=1;var d=32-fe(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ti=1<<32-fe(n)+h|s<<h|l,Si=d+e}else Ti=1<<d|s<<h|l,Si=e}function Lh(e){e.return!==null&&(zi(e,1),qp(e,1,0))}function Uh(e){for(;e===Au;)Au=pr[--gr],pr[gr]=null,Ml=pr[--gr],pr[gr]=null;for(;e===_a;)_a=Mn[--jn],Mn[jn]=null,Si=Mn[--jn],Mn[jn]=null,Ti=Mn[--jn],Mn[jn]=null}function Hp(e,n){Mn[jn++]=Ti,Mn[jn++]=Si,Mn[jn++]=_a,Ti=n.id,Si=n.overflow,_a=e}var Be=null,ie=null,Ut=!1,Ea=null,On=!1,Ph=Error(r(519));function Ta(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Vn(n,e)),Ph}function Fp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[_e]=e,n[Oe]=l,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Dt(no[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),fa(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||lv(n.textContent,s)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Ta(e,!0)}function Gp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function yr(e){if(e!==Be)return!1;if(!Ut)return Gp(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&ie&&Ta(e),Gp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=gv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=gv(e)}else n===27?(n=ie,Oa(e.type)?(e=od,od=null,ie=e):ie=n):ie=Be?Un(e.stateNode.nextSibling):null;return!0}function As(){ie=Be=null,Ut=!1}function zh(){var e=Ea;return e!==null&&(on===null?on=e:on.push.apply(on,e),Ea=null),e}function jl(e){Ea===null?Ea=[e]:Ea.push(e)}var kh=O(null),bs=null,ki=null;function Sa(e,n,s){lt(kh,n._currentValue),n._currentValue=s}function Bi(e){e._currentValue=kh.current,tt(kh)}function Bh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=h;for(var I=0;I<n.length;I++)if(A.context===n[I]){d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),Bh(d.return,s,e),l||(_=null);break t}d=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Bh(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function vr(e,n,s,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=h.type;pn(h.pendingProps.value,_.value)||(e!==null?e.push(A):e=[A])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&qh(n,e,s,l),n.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ws(e){bs=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Qp(bs,e)}function wu(e,n){return bs===null&&ws(e),Qp(e,n)}function Qp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(r(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var g1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},y1=a.unstable_scheduleCallback,v1=a.unstable_NormalPriority,Se={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new g1,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&y1(v1,function(){e.controller.abort()})}var Ll=null,Fh=0,_r=0,Er=null;function _1(e,n){if(Ll===null){var s=Ll=[];Fh=0,_r=Kf(),Er={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Fh++,n.then(Yp,Yp),n}function Yp(){if(--Fh===0&&Ll!==null){Er!==null&&(Er.status="fulfilled");var e=Ll;Ll=null,_r=0,Er=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function E1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Kp=Y.S;Y.S=function(e,n){Iy=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_1(e,n),Kp!==null&&Kp(e,n)};var Rs=O(null);function Gh(){var e=Rs.current;return e!==null?e:ee.pooledCache}function Ru(e,n){n===null?lt(Rs,Rs.current):lt(Rs,n.pool)}function Xp(){var e=Gh();return e===null?null:{parent:Se._currentValue,pool:e}}var Tr=Error(r(460)),Qh=Error(r(474)),Cu=Error(r(542)),xu={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e}throw xs=n,Tr}}function Cs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xs=s,Tr):s}}var xs=null;function Jp(){if(xs===null)throw Error(r(459));var e=xs;return xs=null,e}function Wp(e){if(e===Tr||e===Cu)throw Error(r(483))}var Sr=null,Ul=0;function Nu(e){var n=Ul;return Ul+=1,Sr===null&&(Sr=[]),Zp(Sr,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tg(e){function n(P,j){if(e){var k=P.deletions;k===null?(P.deletions=[j],P.flags|=16):k.push(j)}}function s(P,j){if(!e)return null;for(;j!==null;)n(P,j),j=j.sibling;return null}function l(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function h(P,j){return P=Pi(P,j),P.index=0,P.sibling=null,P}function d(P,j,k){return P.index=k,e?(k=P.alternate,k!==null?(k=k.index,k<j?(P.flags|=67108866,j):k):(P.flags|=67108866,j)):(P.flags|=1048576,j)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function A(P,j,k,$){return j===null||j.tag!==6?(j=jh(k,P.mode,$),j.return=P,j):(j=h(j,k),j.return=P,j)}function I(P,j,k,$){var gt=k.type;return gt===X?K(P,j,k.props.children,$,k.key):j!==null&&(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Cs(gt)===j.type)?(j=h(j,k.props),Pl(j,k),j.return=P,j):(j=Su(k.type,k.key,k.props,null,P.mode,$),Pl(j,k),j.return=P,j)}function B(P,j,k,$){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=Oh(k,P.mode,$),j.return=P,j):(j=h(j,k.children||[]),j.return=P,j)}function K(P,j,k,$,gt){return j===null||j.tag!==7?(j=Ss(k,P.mode,$,gt),j.return=P,j):(j=h(j,k),j.return=P,j)}function W(P,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=jh(""+j,P.mode,k),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case M:return k=Su(j.type,j.key,j.props,null,P.mode,k),Pl(k,j),k.return=P,k;case H:return j=Oh(j,P.mode,k),j.return=P,j;case w:return j=Cs(j),W(P,j,k)}if(It(j)||L(j))return j=Ss(j,P.mode,k,null),j.return=P,j;if(typeof j.then=="function")return W(P,Nu(j),k);if(j.$$typeof===st)return W(P,wu(P,j),k);Du(P,j)}return null}function q(P,j,k,$){var gt=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return gt!==null?null:A(P,j,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return k.key===gt?I(P,j,k,$):null;case H:return k.key===gt?B(P,j,k,$):null;case w:return k=Cs(k),q(P,j,k,$)}if(It(k)||L(k))return gt!==null?null:K(P,j,k,$,null);if(typeof k.then=="function")return q(P,j,Nu(k),$);if(k.$$typeof===st)return q(P,j,wu(P,k),$);Du(P,k)}return null}function Q(P,j,k,$,gt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(k)||null,A(j,P,""+$,gt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return P=P.get($.key===null?k:$.key)||null,I(j,P,$,gt);case H:return P=P.get($.key===null?k:$.key)||null,B(j,P,$,gt);case w:return $=Cs($),Q(P,j,k,$,gt)}if(It($)||L($))return P=P.get(k)||null,K(j,P,$,gt,null);if(typeof $.then=="function")return Q(P,j,k,Nu($),gt);if($.$$typeof===st)return Q(P,j,k,wu(j,$),gt);Du(j,$)}return null}function ft(P,j,k,$){for(var gt=null,Bt=null,dt=j,xt=j=0,Mt=null;dt!==null&&xt<k.length;xt++){dt.index>xt?(Mt=dt,dt=null):Mt=dt.sibling;var qt=q(P,dt,k[xt],$);if(qt===null){dt===null&&(dt=Mt);break}e&&dt&&qt.alternate===null&&n(P,dt),j=d(qt,j,xt),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt,dt=Mt}if(xt===k.length)return s(P,dt),Ut&&zi(P,xt),gt;if(dt===null){for(;xt<k.length;xt++)dt=W(P,k[xt],$),dt!==null&&(j=d(dt,j,xt),Bt===null?gt=dt:Bt.sibling=dt,Bt=dt);return Ut&&zi(P,xt),gt}for(dt=l(dt);xt<k.length;xt++)Mt=Q(dt,P,xt,k[xt],$),Mt!==null&&(e&&Mt.alternate!==null&&dt.delete(Mt.key===null?xt:Mt.key),j=d(Mt,j,xt),Bt===null?gt=Mt:Bt.sibling=Mt,Bt=Mt);return e&&dt.forEach(function(ka){return n(P,ka)}),Ut&&zi(P,xt),gt}function _t(P,j,k,$){if(k==null)throw Error(r(151));for(var gt=null,Bt=null,dt=j,xt=j=0,Mt=null,qt=k.next();dt!==null&&!qt.done;xt++,qt=k.next()){dt.index>xt?(Mt=dt,dt=null):Mt=dt.sibling;var ka=q(P,dt,qt.value,$);if(ka===null){dt===null&&(dt=Mt);break}e&&dt&&ka.alternate===null&&n(P,dt),j=d(ka,j,xt),Bt===null?gt=ka:Bt.sibling=ka,Bt=ka,dt=Mt}if(qt.done)return s(P,dt),Ut&&zi(P,xt),gt;if(dt===null){for(;!qt.done;xt++,qt=k.next())qt=W(P,qt.value,$),qt!==null&&(j=d(qt,j,xt),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return Ut&&zi(P,xt),gt}for(dt=l(dt);!qt.done;xt++,qt=k.next())qt=Q(dt,P,xt,qt.value,$),qt!==null&&(e&&qt.alternate!==null&&dt.delete(qt.key===null?xt:qt.key),j=d(qt,j,xt),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return e&&dt.forEach(function(IS){return n(P,IS)}),Ut&&zi(P,xt),gt}function Wt(P,j,k,$){if(typeof k=="object"&&k!==null&&k.type===X&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case M:t:{for(var gt=k.key;j!==null;){if(j.key===gt){if(gt=k.type,gt===X){if(j.tag===7){s(P,j.sibling),$=h(j,k.props.children),$.return=P,P=$;break t}}else if(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Cs(gt)===j.type){s(P,j.sibling),$=h(j,k.props),Pl($,k),$.return=P,P=$;break t}s(P,j);break}else n(P,j);j=j.sibling}k.type===X?($=Ss(k.props.children,P.mode,$,k.key),$.return=P,P=$):($=Su(k.type,k.key,k.props,null,P.mode,$),Pl($,k),$.return=P,P=$)}return _(P);case H:t:{for(gt=k.key;j!==null;){if(j.key===gt)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){s(P,j.sibling),$=h(j,k.children||[]),$.return=P,P=$;break t}else{s(P,j);break}else n(P,j);j=j.sibling}$=Oh(k,P.mode,$),$.return=P,P=$}return _(P);case w:return k=Cs(k),Wt(P,j,k,$)}if(It(k))return ft(P,j,k,$);if(L(k)){if(gt=L(k),typeof gt!="function")throw Error(r(150));return k=gt.call(k),_t(P,j,k,$)}if(typeof k.then=="function")return Wt(P,j,Nu(k),$);if(k.$$typeof===st)return Wt(P,j,wu(P,k),$);Du(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(s(P,j.sibling),$=h(j,k),$.return=P,P=$):(s(P,j),$=jh(k,P.mode,$),$.return=P,P=$),_(P)):s(P,j)}return function(P,j,k,$){try{Ul=0;var gt=Wt(P,j,k,$);return Sr=null,gt}catch(dt){if(dt===Tr||dt===Cu)throw dt;var Bt=gn(29,dt,null,P.mode);return Bt.lanes=$,Bt.return=P,Bt}}}var Ns=tg(!0),eg=tg(!1),Aa=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Tu(e),Pp(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}function Xh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function kl(){if($h){var e=Er;if(e!==null)throw e}}function Bl(e,n,s,l){$h=!1;var h=e.updateQueue;Aa=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var I=A,B=I.next;I.next=null,_===null?d=B:_.next=B,_=I;var K=e.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==_&&(A===null?K.firstBaseUpdate=B:A.next=B,K.lastBaseUpdate=I))}if(d!==null){var W=h.baseState;_=0,K=B=I=null,A=d;do{var q=A.lane&-536870913,Q=q!==A.lane;if(Q?(Vt&q)===q:(l&q)===q){q!==0&&q===_r&&($h=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ft=e,_t=A;q=n;var Wt=s;switch(_t.tag){case 1:if(ft=_t.payload,typeof ft=="function"){W=ft.call(Wt,W,q);break t}W=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=_t.payload,q=typeof ft=="function"?ft.call(Wt,W,q):ft,q==null)break t;W=S({},W,q);break t;case 2:Aa=!0}}q=A.callback,q!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(B=K=Q,I=W):K=K.next=Q,_|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(I=W),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Da|=_,e.lanes=_,e.memoizedState=W}}function ng(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function ig(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ng(s[e],n)}var Ar=O(null),Iu=O(0);function ag(e,n){e=$i,lt(Iu,e),lt(Ar,n),$i=e|n.baseLanes}function Zh(){lt(Iu,$i),lt(Ar,Ar.current)}function Jh(){$i=Iu.current,tt(Ar),tt(Iu)}var yn=O(null),Ln=null;function Ra(e){var n=e.alternate;lt(me,me.current&1),lt(yn,e),Ln===null&&(n===null||Ar.current!==null||n.memoizedState!==null)&&(Ln=e)}function Wh(e){lt(me,me.current),lt(yn,e),Ln===null&&(Ln=e)}function sg(e){e.tag===22?(lt(me,me.current),lt(yn,e),Ln===null&&(Ln=e)):Ca()}function Ca(){lt(me,me.current),lt(yn,yn.current)}function vn(e){tt(yn),Ln===e&&(Ln=null),tt(me)}var me=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rd(s)||ld(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,Rt=null,Zt=null,Ae=null,Mu=!1,br=!1,Ds=!1,ju=0,ql=0,wr=null,T1=0;function ce(){throw Error(r(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function ef(e,n,s,l,h,d){return qi=d,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?qg:yf,Ds=!1,d=s(l,h),Ds=!1,br&&(d=lg(n,s,l,h)),rg(e),d}function rg(e){Y.H=Gl;var n=Zt!==null&&Zt.next!==null;if(qi=0,Ae=Zt=Rt=null,Mu=!1,ql=0,wr=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&bu(e)&&(be=!0))}function lg(e,n,s,l){Rt=e;var h=0;do{if(br&&(wr=null),ql=0,br=!1,25<=h)throw Error(r(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Hg,d=n(s,l)}while(br);return d}function S1(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function nf(){var e=ju!==0;return ju=0,e}function af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function sf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}qi=0,Ae=Zt=Rt=null,br=!1,ql=ju=0,wr=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Zt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?Rt.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=ql;return ql+=1,wr===null&&(wr=[]),e=Zp(wr,e,n),n=Rt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?qg:yf),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===st)return qe(e)}throw Error(r(438,String(e)))}function rf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ou(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Hi(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=pe();return lf(n,Zt,e)}function lf(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var A=_=null,I=null,B=n,K=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Vt&W)===W:(qi&W)===W){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===_r&&(K=!0);else if((qi&q)===q){B=B.next,q===_r&&(K=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(A=I=W,_=d):I=I.next=W,Rt.lanes|=q,Da|=q;W=B.action,Ds&&s(d,W),d=B.hasEagerState?B.eagerState:s(d,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(A=I=q,_=d):I=I.next=q,Rt.lanes|=W,Da|=W;B=B.next}while(B!==null&&B!==n);if(I===null?_=d:I.next=A,!pn(d,e.memoizedState)&&(be=!0,K&&(s=Er,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function of(e){var n=pe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);pn(d,n.memoizedState)||(be=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function og(e,n,s){var l=Rt,h=pe(),d=Ut;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var _=!pn((Zt||h).memoizedState,s);if(_&&(h.memoizedState=s,be=!0),h=h.queue,hf(hg.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Rr(9,{destroy:void 0},cg.bind(null,l,h,s,n),null),ee===null)throw Error(r(349));d||(qi&127)!==0||ug(l,n,s)}return s}function ug(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Ou(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function cg(e,n,s,l){n.value=s,n.getSnapshot=l,fg(n)&&dg(e)}function hg(e,n,s){return s(function(){fg(n)&&dg(e)})}function fg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function dg(e){var n=Ts(e,2);n!==null&&un(n,e,2)}function uf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Ds){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function mg(e,n,s,l){return e.baseState=s,lf(e,Zt,typeof l=="function"?l:Hi)}function A1(e,n,s,l,h){if(ku(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,pg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function pg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=Y.T,_={};Y.T=_;try{var A=s(h,l),I=Y.S;I!==null&&I(_,A),gg(e,n,A)}catch(B){cf(e,n,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=s(h,l),gg(e,n,d)}catch(B){cf(e,n,B)}}function gg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){yg(e,n,l)},function(l){return cf(e,n,l)}):yg(e,n,s)}function yg(e,n,s){n.status="fulfilled",n.value=s,vg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,pg(e,s)))}function cf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,vg(n),n=n.next;while(n!==l)}e.action=null}function vg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function _g(e,n){return n}function Eg(e,n){if(Ut){var s=ee.formState;if(s!==null){t:{var l=Rt;if(Ut){if(ie){e:{for(var h=ie,d=On;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=Un(h.nextSibling),l=h.data==="F!";break t}}Ta(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},s.queue=l,s=zg.bind(null,Rt,l),l.dispatch=s,l=uf(!1),d=gf.bind(null,Rt,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=A1.bind(null,Rt,h,d,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Tg(e){var n=pe();return Sg(n,Zt,e)}function Sg(e,n,s){if(n=lf(e,n,_g)[0],e=Uu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(_){throw _===Tr?Cu:_}else l=n;n=pe();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Rr(9,{destroy:void 0},b1.bind(null,h,s),null)),[l,d,e]}function b1(e,n){e.action=n}function Ag(e){var n=pe(),s=Zt;if(s!==null)return Sg(n,s,e);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Rr(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Ou(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function bg(){return pe().memoizedState}function Pu(e,n,s,l){var h=tn();Rt.flags|=e,h.memoizedState=Rr(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&tf(l,Zt.memoizedState.deps)?h.memoizedState=Rr(n,d,s,l):(Rt.flags|=e,h.memoizedState=Rr(1|n,d,s,l))}function wg(e,n){Pu(8390656,8,e,n)}function hf(e,n){zu(2048,8,e,n)}function w1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Ou(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Rg(e){var n=pe().memoizedState;return w1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Cg(e,n){return zu(4,2,e,n)}function xg(e,n){return zu(4,4,e,n)}function Ng(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dg(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,Ng.bind(null,n,e),s)}function ff(){}function Ig(e,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&tf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Vg(e,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&tf(n,l[1]))return l[0];if(l=e(),Ds){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[l,n],l}function df(e,n,s){return s===void 0||(qi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=My(),Rt.lanes|=e,Da|=e,s)}function Mg(e,n,s,l){return pn(s,n)?s:Ar.current!==null?(e=df(e,s,l),pn(e,n)||(be=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Vt&261930)===0?(be=!0,e.memoizedState=s):(e=My(),Rt.lanes|=e,Da|=e,n)}function jg(e,n,s,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var _=Y.T,A={};Y.T=A,gf(e,!1,n,s);try{var I=h(),B=Y.S;if(B!==null&&B(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=E1(I,l);Fl(e,n,K,Tn(e))}else Fl(e,n,l,Tn(e))}catch(W){Fl(e,n,{then:function(){},status:"rejected",reason:W},Tn())}finally{it.p=d,_!==null&&A.types!==null&&(_.types=A.types),Y.T=_}}function R1(){}function mf(e,n,s,l){if(e.tag!==5)throw Error(r(476));var h=Og(e).queue;jg(e,h,n,pt,s===null?R1:function(){return Lg(e),s(l)})}function Og(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:pt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lg(e){var n=Og(e);n.next===null&&(n=e.alternate.memoizedState),Fl(e,n.next.queue,{},Tn())}function pf(){return qe(lo)}function Ug(){return pe().memoizedState}function Pg(){return pe().memoizedState}function C1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=ba(s);var l=wa(n,e,s);l!==null&&(un(l,n,s),zl(l,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function x1(e,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ku(e)?kg(n,s):(s=Vh(e,n,s,l),s!==null&&(un(s,e,l),Bg(s,n,l)))}function zg(e,n,s){var l=Tn();Fl(e,n,s,l)}function Fl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(e))kg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,A=d(_,s);if(h.hasEagerState=!0,h.eagerState=A,pn(A,_))return Eu(e,n,h,0),ee===null&&_u(),!1}catch{}if(s=Vh(e,n,h,l),s!==null)return un(s,e,l),Bg(s,n,l),!0}return!1}function gf(e,n,s,l){if(l={lane:2,revertLane:Kf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(r(479))}else n=Vh(e,s,l,2),n!==null&&un(n,e,2)}function ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function kg(e,n){br=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Bg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}var Gl={readContext:qe,use:Lu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Gl.useEffectEvent=ce;var qg={readContext:qe,use:Lu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:wg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,Ng.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var l=e();if(Ds){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=tn();if(s!==void 0){var h=s(n);if(Ds){Rn(!0);try{s(n)}finally{Rn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=x1.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=zg.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=tn();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=jg.bind(null,Rt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Rt,h=tn();if(Ut){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ee===null)throw Error(r(349));(Vt&127)!==0||ug(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,wg(hg.bind(null,l,d,e),[e]),l.flags|=2048,Rr(9,{destroy:void 0},cg.bind(null,l,d,s,n),null),s},useId:function(){var e=tn(),n=ee.identifierPrefix;if(Ut){var s=Si,l=Ti;s=(l&~(1<<32-fe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=T1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:rf,useCacheRefresh:function(){return tn().memoizedState=C1.bind(null,Rt)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:qe,use:Lu,useCallback:Ig,useContext:qe,useEffect:hf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Vg,useReducer:Uu,useRef:bg,useState:function(){return Uu(Hi)},useDebugValue:ff,useDeferredValue:function(e,n){var s=pe();return Mg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Uu(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:pf,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var s=pe();return mg(s,Zt,e,n)},useMemoCache:rf,useCacheRefresh:Pg};yf.useEffectEvent=Rg;var Hg={readContext:qe,use:Lu,useCallback:Ig,useContext:qe,useEffect:hf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Vg,useReducer:of,useRef:bg,useState:function(){return of(Hi)},useDebugValue:ff,useDeferredValue:function(e,n){var s=pe();return Zt===null?df(s,e,n):Mg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=of(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:pf,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var s=pe();return Zt!==null?mg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:rf,useCacheRefresh:Pg};Hg.useEffectEvent=Rg;function vf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var _f={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=ba(l);h.payload=n,s!=null&&(h.callback=s),n=wa(e,h,l),n!==null&&(un(n,e,l),zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=ba(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=wa(e,h,l),n!==null&&(un(n,e,l),zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),l=ba(s);l.tag=2,n!=null&&(l.callback=n),n=wa(e,l,s),n!==null&&(un(n,e,s),zl(n,e,s))}};function Fg(e,n,s,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Il(s,l)||!Il(h,d):!0}function Gg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function Is(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Qg(e){vu(e)}function Yg(e){console.error(e)}function Kg(e){vu(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=ba(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function $g(e){return e=ba(e),e.tag=3,e}function Zg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Xg(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Xg(n,s,l),typeof h!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function N1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&vr(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Ln===null?Wu():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Gf(e,l,h)),!1;case 22:return s.flags|=65536,l===xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Gf(e,l,h)),!1}throw Error(r(435,s.tag))}return Gf(e,l,h),Wu(),!1}if(Ut)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ph&&(e=Error(r(422),{cause:l}),jl(Vn(e,s)))):(l!==Ph&&(n=Error(r(423),{cause:l}),jl(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,s),h=Ef(e.stateNode,l,h),Xh(e,h),he!==4&&(he=2)),!1;var d=Error(r(520),{cause:l});if(d=Vn(d,s),Wl===null?Wl=[d]:Wl.push(d),he!==4&&(he=2),n===null)return!0;l=Vn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,l,e),Xh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ia===null||!Ia.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=$g(h),Zg(h,e,s,l),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(r(461)),be=!1;function He(e,n,s,l){n.child=e===null?eg(n,null,s,l):Ns(n,e.child,s,l)}function Jg(e,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return ws(n),l=ef(e,n,s,_,d,h),A=nf(),e!==null&&!be?(af(e,n,h),Fi(e,n,h)):(Ut&&A&&Lh(n),n.flags|=1,He(e,n,l,h),n.child)}function Wg(e,n,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Mh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,ty(e,n,d,l,h)):(e=Su(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Nf(e,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Il,s(_,l)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=Pi(d,l),e.ref=n.ref,e.return=n,n.child=e}function ty(e,n,s,l,h){if(e!==null){var d=e.memoizedProps;if(Il(d,l)&&e.ref===n.ref)if(be=!1,n.pendingProps=l=d,Nf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return Sf(e,n,s,l,h)}function ey(e,n,s,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return ny(e,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,d!==null?d.cachePool:null),d!==null?ag(n,d):Zh(),sg(n);else return l=n.lanes=536870912,ny(e,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Ru(n,d.cachePool),ag(n,d),Ca(),n.memoizedState=null):(e!==null&&Ru(n,null),Zh(),Ca());return He(e,n,h,s),n.child}function Ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(e,n,s,l,h){var d=Gh();return d=d===null?null:{parent:Se._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&Ru(n,null),Zh(),sg(n),e!==null&&vr(e,n,l,!0),n.childLanes=h,null}function qu(e,n){return n=Fu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function iy(e,n,s){return Ns(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function D1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=qu(n,l),n.lanes=536870912,Ql(null,e);if(Wh(n),(e=ie)?(e=pv(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_a!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=kp(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw Ta(n);return n.lanes=536870912,null}return qu(n,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=iy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||vr(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(l=ee,l!==null&&(_=dl(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ts(e,_),un(l,e,_),Tf;Wu(),n=iy(e,n,s)}else e=d.treeContext,ie=Un(_.nextSibling),Be=n,Ut=!0,Ea=null,On=!1,e!==null&&Hp(n,e),n=qu(n,l),n.flags|=4096;return n}return e=Pi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Sf(e,n,s,l,h){return ws(n),s=ef(e,n,s,l,void 0,h),l=nf(),e!==null&&!be?(af(e,n,h),Fi(e,n,h)):(Ut&&l&&Lh(n),n.flags|=1,He(e,n,s,h),n.child)}function ay(e,n,s,l,h,d){return ws(n),n.updateQueue=null,s=lg(n,l,s,h),rg(e),l=nf(),e!==null&&!be?(af(e,n,d),Fi(e,n,d)):(Ut&&l&&Lh(n),n.flags|=1,He(e,n,s,d),n.child)}function sy(e,n,s,l,h){if(ws(n),n.stateNode===null){var d=mr,_=s.contextType;typeof _=="object"&&_!==null&&(d=qe(_)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_f,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Yh(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?qe(_):mr,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(vf(n,s,_,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&_f.enqueueReplaceState(d,d.state,null),Bl(n,l,d,h),kl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var A=n.memoizedProps,I=Is(s,A);d.props=I;var B=d.context,K=s.contextType;_=mr,typeof K=="object"&&K!==null&&(_=qe(K));var W=s.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==_)&&Gg(n,d,l,_),Aa=!1;var q=n.memoizedState;d.state=q,Bl(n,l,d,h),kl(),B=n.memoizedState,A||q!==B||Aa?(typeof W=="function"&&(vf(n,s,W,l),B=n.memoizedState),(I=Aa||Fg(n,s,I,l,q,B,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),d.props=l,d.state=B,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Kh(e,n),_=n.memoizedProps,K=Is(s,_),d.props=K,W=n.pendingProps,q=d.context,B=s.contextType,I=mr,typeof B=="object"&&B!==null&&(I=qe(B)),A=s.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==I)&&Gg(n,d,l,I),Aa=!1,q=n.memoizedState,d.state=q,Bl(n,l,d,h),kl();var Q=n.memoizedState;_!==W||q!==Q||Aa||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof A=="function"&&(vf(n,s,A,l),Q=n.memoizedState),(K=Aa||Fg(n,s,K,l,q,Q,I)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Hu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ns(n,e.child,null,h),n.child=Ns(n,null,s,h)):He(e,n,s,h),n.memoizedState=d.state,e=n.child):e=Fi(e,n,h),e}function ry(e,n,s,l){return As(),n.flags|=256,He(e,n,s,l),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Xp()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function ly(e,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ra(n):Ca(),(e=ie)?(e=pv(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_a!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=kp(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw Ta(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Ca(),h=n.mode,A=Fu({mode:"hidden",children:A},h),l=Ss(l,h,s,null),A.return=n,l.return=n,A.sibling=l,n.child=A,l=n.child,l.memoizedState=bf(s),l.childLanes=wf(e,_,s),n.memoizedState=Af,Ql(null,l)):(Ra(n),Rf(n,A))}var I=e.memoizedState;if(I!==null&&(A=I.dehydrated,A!==null)){if(d)n.flags&256?(Ra(n),n.flags&=-257,n=Cf(e,n,s)):n.memoizedState!==null?(Ca(),n.child=e.child,n.flags|=128,n=null):(Ca(),A=l.fallback,h=n.mode,l=Fu({mode:"visible",children:l.children},h),A=Ss(A,h,s,null),A.flags|=2,l.return=n,A.return=n,l.sibling=A,n.child=l,Ns(n,e.child,null,s),l=n.child,l.memoizedState=bf(s),l.childLanes=wf(e,_,s),n.memoizedState=Af,n=Ql(null,l));else if(Ra(n),ld(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,jl({value:l,source:null,stack:null}),n=Cf(e,n,s)}else if(be||vr(e,n,s,!1),_=(s&e.childLanes)!==0,be||_){if(_=ee,_!==null&&(l=dl(_,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ts(e,l),un(_,e,l),Tf;rd(A)||Wu(),n=Cf(e,n,s)}else rd(A)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ie=Un(A.nextSibling),Be=n,Ut=!0,Ea=null,On=!1,e!==null&&Hp(n,e),n=Rf(n,l.children),n.flags|=4096);return n}return h?(Ca(),A=l.fallback,h=n.mode,I=e.child,B=I.sibling,l=Pi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?A=Pi(B,A):(A=Ss(A,h,s,null),A.flags|=2),A.return=n,l.return=n,l.sibling=A,n.child=l,Ql(null,l),l=n.child,A=e.child.memoizedState,A===null?A=bf(s):(h=A.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Xp(),A={baseLanes:A.baseLanes|s,cachePool:h}),l.memoizedState=A,l.childLanes=wf(e,_,s),n.memoizedState=Af,Ql(e.child,l)):(Ra(n),s=e.child,e=s.sibling,s=Pi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Cf(e,n,s){return Ns(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function oy(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Bh(e.return,n,s)}function xf(e,n,s,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function uy(e,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,A=(_&2)!==0;if(A?(_=_&1|2,n.flags|=128):_&=1,lt(me,_),He(e,n,l,s),l=Ut?Ml:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oy(e,s,n);else if(e.tag===19)oy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),xf(n,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}xf(n,!0,s,null,d,l);break;case"together":xf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Fi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Da|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(vr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Pi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function I1(e,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Sa(n,Se,e.memoizedState.cache),As();break;case 27:case 5:is(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ra(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ly(e,n,s):(Ra(n),e=Fi(e,n,s),e!==null?e.sibling:null);Ra(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(vr(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return uy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(me,me.current),l)break;return null;case 22:return n.lanes=0,ey(e,n,s,n.pendingProps);case 24:Sa(n,Se,e.memoizedState.cache)}return Fi(e,n,s)}function cy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Nf(e,s)&&(n.flags&128)===0)return be=!1,I1(e,n,s);be=(e.flags&131072)!==0}else be=!1,Ut&&(n.flags&1048576)!==0&&qp(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Cs(n.elementType),n.type=e,typeof e=="function")Mh(e)?(l=Is(e,l),n.tag=1,n=sy(null,n,e,l,s)):(n.tag=0,n=Sf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===mt){n.tag=11,n=Jg(null,n,e,l,s);break t}else if(h===C){n.tag=14,n=Wg(null,n,e,l,s);break t}}throw n=ot(e)||e,Error(r(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Is(l,n.pendingProps),sy(e,n,l,h,s);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Kh(e,n),Bl(n,l,null,s);var _=n.memoizedState;if(l=_.cache,Sa(n,Se,l),l!==d.cache&&qh(n,[Se],s,!0),kl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=ry(e,n,l,s);break t}else if(l!==h){h=Vn(Error(r(424)),n),jl(h),n=ry(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Un(e.firstChild),Be=n,Ut=!0,Ea=null,On=!0,s=eg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(As(),l===h){n=Fi(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=Tv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,l=rc(Ct.current).createElement(s),l[_e]=n,l[Oe]=e,Fe(l,s,e),Ee(l),n.stateNode=l):n.memoizedState=Tv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return is(n),e===null&&Ut&&(l=n.stateNode=vv(n.type,n.pendingProps,Ct.current),Be=n,On=!0,h=ie,Oa(n.type)?(od=h,ie=Un(l.firstChild)):ie=h),He(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=l=ie)&&(l=lS(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Be=n,ie=Un(l.firstChild),On=!1,h=!0):h=!1),h||Ta(n)),is(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,id(h,d)?l=null:_!==null&&id(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,S1,null,null,s),lo._currentValue=h),Hu(e,n),He(e,n,l,s),n.child;case 6:return e===null&&Ut&&((e=s=ie)&&(s=oS(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,ie=null,e=!0):e=!1),e||Ta(n)),null;case 13:return ly(e,n,s);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ns(n,null,l,s):He(e,n,l,s),n.child;case 11:return Jg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Sa(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ws(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return Wg(e,n,n.type,n.pendingProps,s);case 15:return ty(e,n,n.type,n.pendingProps,s);case 19:return uy(e,n,s);case 31:return D1(e,n,s);case 22:return ey(e,n,s,n.pendingProps);case 24:return ws(n),l=qe(Se),e===null?(h=Gh(),h===null&&(h=ee,d=Hh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},Yh(n),Sa(n,Se,h)):((e.lanes&s)!==0&&(Kh(e,n),Bl(n,null,null,s),kl()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sa(n,Se,l)):(l=d.cache,Sa(n,Se,l),l!==h.cache&&qh(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(e){e.flags|=4}function Df(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw xs=xu,Qh}else e.flags&=-16777217}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rv(n))if(Uy())e.flags|=8192;else throw xs=xu,Qh}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zo():536870912,e.lanes|=n,Dr|=n)}function Yl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function V1(e,n,s){var l=n.pendingProps;switch(Uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(Se),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yr(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zh())),ae(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(Gi(n),d!==null?(ae(n),hy(n,d)):(ae(n),Df(n,h,null,l,s))):d?d!==e.memoizedState?(Gi(n),ae(n),hy(n,d)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Gi(n),ae(n),Df(n,h,e,l,s)),null;case 27:if(Xs(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ae(n),null}e=ht.current,yr(n)?Fp(n):(e=vv(h,l,s),n.stateNode=e,Gi(n))}return ae(n),null;case 5:if(Xs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ae(n),null}if(d=ht.current,yr(n))Fp(n);else{var _=rc(Ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[_e]=n,d[Oe]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Gi(n)}}return ae(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ct.current,yr(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||lv(e.nodeValue,s)),e||Ta(n,!0)}else e=rc(e).createTextNode(l),e[_e]=n,n.stateNode=e}return ae(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=yr(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else s=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ae(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=yr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),ae(n),null);case 4:return se(),e===null&&Jf(n.stateNode.containerInfo),ae(n),null;case 10:return Bi(n.type),ae(n),null;case 19:if(tt(me),l=n.memoizedState,l===null)return ae(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Yl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Vu(e),d!==null){for(n.flags|=128,Yl(l,!1),e=d.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)zp(s,e),s=s.sibling;return lt(me,me.current&1|2),Ut&&zi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Je()>$u&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ae(n),null}else 2*Je()-l.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Je(),e.sibling=null,s=me.current,lt(me,h?s&1|2:s&1),Ut&&zi(n,l.treeForkCount),e):(ae(n),null);case 22:case 23:return vn(n),Jh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&tt(Rs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(Se),ae(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function M1(e,n){switch(Uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(Se),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xs(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return tt(me),null;case 4:return se(),null;case 10:return Bi(n.type),null;case 22:case 23:return vn(n),Jh(),e!==null&&tt(Rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(Se),null;case 25:return null;default:return null}}function fy(e,n){switch(Uh(n),n.tag){case 3:Bi(Se),se();break;case 26:case 27:case 5:Xs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:tt(me);break;case 10:Bi(n.type);break;case 22:case 23:vn(n),Jh(),e!==null&&tt(Rs);break;case 24:Bi(Se)}}function Kl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(A){Xt(n,n.return,A)}}function xa(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=n;var I=s,B=A;try{B()}catch(K){Xt(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){Xt(n,n.return,K)}}function dy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ig(n,s)}catch(l){Xt(e,e.return,l)}}}function my(e,n,s){s.props=Is(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(e,n,l)}}function Xl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Xt(e,n,h)}}function Ai(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function py(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function If(e,n,s){try{var l=e.stateNode;eS(l,e.type,s,n),l[Oe]=n}catch(h){Xt(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Oa(e.type)||e.tag===4}function Vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Oa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&Oa(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Mf(e,n,s),e=e.sibling;e!==null;)Mf(e,n,s),e=e.sibling}function Qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Oa(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,n,s),e=e.sibling;e!==null;)Qu(e,n,s),e=e.sibling}function yy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,s),n[_e]=e,n[Oe]=s}catch(d){Xt(e,e.return,d)}}var Qi=!1,we=!1,jf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function j1(e,n){if(e=e.containerInfo,ed=dc,e=Dp(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,A=-1,I=-1,B=0,K=0,W=e,q=null;e:for(;;){for(var Q;W!==s||h!==0&&W.nodeType!==3||(A=_+h),W!==d||l!==0&&W.nodeType!==3||(I=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)q=W,W=Q;for(;;){if(W===e)break e;if(q===s&&++B===h&&(A=_),q===d&&++K===l&&(I=_),(Q=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Q}s=A===-1||I===-1?null:{start:A,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},dc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ft=Is(s.type,h);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Xt(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function _y(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),l&4&&Kl(5,s);break;case 1:if(Ki(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){Xt(s,s.return,_)}else{var h=Is(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(s,s.return,_)}}l&64&&dy(s),l&512&&Xl(s,s.return);break;case 3:if(Ki(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ig(e,n)}catch(_){Xt(s,s.return,_)}}break;case 27:n===null&&l&4&&yy(s);case 26:case 5:Ki(e,s),n===null&&l&4&&py(s),l&512&&Xl(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),l&4&&Sy(e,s);break;case 13:Ki(e,s),l&4&&Ay(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=H1.bind(null,s),uS(e,s))));break;case 22:if(l=s.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||we,h=Qi;var d=we;Qi=l,(we=n)&&!d?Xi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Qi=h,we=d}break;case 30:break;default:Ki(e,s)}}function Ey(e){var n=e.alternate;n!==null&&(e.alternate=null,Ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&tr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,sn=!1;function Yi(e,n,s){for(s=s.child;s!==null;)Ty(e,n,s),s=s.sibling}function Ty(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Bn,s)}catch{}switch(s.tag){case 26:we||Ai(s,n),Yi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||Ai(s,n);var l=le,h=sn;Oa(s.type)&&(le=s.stateNode,sn=!1),Yi(e,n,s),ao(s.stateNode),le=l,sn=h;break;case 5:we||Ai(s,n);case 6:if(l=le,h=sn,le=null,Yi(e,n,s),le=l,sn=h,le!==null)if(sn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(d){Xt(s,n,d)}else try{le.removeChild(s.stateNode)}catch(d){Xt(s,n,d)}break;case 18:le!==null&&(sn?(e=le,dv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pr(e)):dv(le,s.stateNode));break;case 4:l=le,h=sn,le=s.stateNode.containerInfo,sn=!0,Yi(e,n,s),le=l,sn=h;break;case 0:case 11:case 14:case 15:xa(2,s,n),we||xa(4,s,n),Yi(e,n,s);break;case 1:we||(Ai(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&my(s,n,l)),Yi(e,n,s);break;case 21:Yi(e,n,s);break;case 22:we=(l=we)||s.memoizedState!==null,Yi(e,n,s),we=l;break;default:Yi(e,n,s)}}function Sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pr(e)}catch(s){Xt(n,n.return,s)}}}function Ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pr(e)}catch(s){Xt(n,n.return,s)}}function O1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new vy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new vy),n;default:throw Error(r(435,e.tag))}}function Yu(e,n){var s=O1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=F1.bind(null,e,l);l.then(h,h)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,_=n,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Oa(A.type)){le=A.stateNode,sn=!1;break t}break;case 5:le=A.stateNode,sn=!1;break t;case 3:case 4:le=A.stateNode.containerInfo,sn=!0;break t}A=A.return}if(le===null)throw Error(r(160));Ty(d,_,h),le=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var Zn=null;function by(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),ln(e),l&4&&(xa(3,e,e.return),Kl(3,e),xa(5,e,e.return));break;case 1:rn(n,e),ln(e),l&512&&(we||s===null||Ai(s,s.return)),l&64&&Qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Zn;if(rn(n,e),ln(e),l&512&&(we||s===null||Ai(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,s),d[_e]=e,Ee(d),l=d;break t;case"link":var _=bv("link","href",h).get(l+(s.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(A,1);break e}}d=h.createElement(l),Fe(d,l,s),h.head.appendChild(d);break;case"meta":if(_=bv("meta","content",h).get(l+(s.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(A,1);break e}}d=h.createElement(l),Fe(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[_e]=e,Ee(d),l=d}e.stateNode=l}else wv(h,e.type,e.stateNode);else e.stateNode=Av(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?wv(h,e.type,e.stateNode):Av(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&If(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),ln(e),l&512&&(we||s===null||Ai(s,s.return)),s!==null&&l&4&&If(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),ln(e),l&512&&(we||s===null||Ai(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ft){Xt(e,e.return,ft)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,If(e,h,s!==null?s.memoizedProps:h)),l&1024&&(jf=!0);break;case 6:if(rn(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ft){Xt(e,e.return,ft)}}break;case 3:if(uc=null,h=Zn,Zn=lc(n.containerInfo),rn(n,e),Zn=h,ln(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pr(n.containerInfo)}catch(ft){Xt(e,e.return,ft)}jf&&(jf=!1,wy(e));break;case 4:l=Zn,Zn=lc(e.stateNode.containerInfo),rn(n,e),ln(e),Zn=l;break;case 12:rn(n,e),ln(e);break;case 31:rn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 13:rn(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=Je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,B=Qi,K=we;if(Qi=B||h,we=K||I,rn(n,e),we=K,Qi=B,ln(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Qi||we||Vs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=I.stateNode;var W=I.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ft){Xt(I,I.return,ft)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ft){Xt(I,I.return,ft)}}}else if(n.tag===18){if(s===null){I=n;try{var Q=I.stateNode;h?mv(Q,!0):mv(I.stateNode,!1)}catch(ft){Xt(I,I.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Yu(e,s))));break;case 19:rn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 30:break;case 21:break;default:rn(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(gy(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=Vf(e);Qu(e,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(an(_,""),s.flags&=-33);var A=Vf(e);Qu(e,A,_);break;case 3:case 4:var I=s.stateNode.containerInfo,B=Vf(e);Mf(e,B,I);break;default:throw Error(r(161))}}catch(K){Xt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(e,n.alternate,n),n=n.sibling}function Vs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xa(4,n,n.return),Vs(n);break;case 1:Ai(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&my(n,n.return,s),Vs(n);break;case 27:ao(n.stateNode);case 26:case 5:Ai(n,n.return),Vs(n);break;case 22:n.memoizedState===null&&Vs(n);break;case 30:Vs(n);break;default:Vs(n)}e=e.sibling}}function Xi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,s),Kl(4,d);break;case 1:if(Xi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ng(I[h],A)}catch(B){Xt(l,l.return,B)}}s&&_&64&&dy(d),Xl(d,d.return);break;case 27:yy(d);case 26:case 5:Xi(h,d,s),s&&l===null&&_&4&&py(d),Xl(d,d.return);break;case 12:Xi(h,d,s);break;case 31:Xi(h,d,s),s&&_&4&&Sy(h,d);break;case 13:Xi(h,d,s),s&&_&4&&Ay(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,s),Xl(d,d.return);break;case 30:break;default:Xi(h,d,s)}n=n.sibling}}function Of(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ol(s))}function Lf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e))}function Jn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,s,l),n=n.sibling}function Ry(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,s,l),h&2048&&Kl(9,n);break;case 1:Jn(e,n,s,l);break;case 3:Jn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e)));break;case 12:if(h&2048){Jn(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Jn(e,n,s,l);break;case 31:Jn(e,n,s,l);break;case 13:Jn(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?Jn(e,n,s,l):$l(e,n):d._visibility&2?Jn(e,n,s,l):(d._visibility|=2,Cr(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Of(_,n);break;case 24:Jn(e,n,s,l),h&2048&&Lf(n.alternate,n);break;default:Jn(e,n,s,l)}}function Cr(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,_=n,A=s,I=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Cr(d,_,A,I,h),Kl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Cr(d,_,A,I,h):$l(d,_):(K._visibility|=2,Cr(d,_,A,I,h)),h&&B&2048&&Of(_.alternate,_);break;case 24:Cr(d,_,A,I,h),h&&B&2048&&Lf(_.alternate,_);break;default:Cr(d,_,A,I,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:$l(s,l),h&2048&&Of(l.alternate,l);break;case 24:$l(s,l),h&2048&&Lf(l.alternate,l);break;default:$l(s,l)}n=n.sibling}}var Zl=8192;function xr(e,n,s){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)Cy(e,n,s),e=e.sibling}function Cy(e,n,s){switch(e.tag){case 26:xr(e,n,s),e.flags&Zl&&e.memoizedState!==null&&TS(s,Zn,e.memoizedState,e.memoizedProps);break;case 5:xr(e,n,s);break;case 3:case 4:var l=Zn;Zn=lc(e.stateNode.containerInfo),xr(e,n,s),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,xr(e,n,s),Zl=l):xr(e,n,s));break;default:xr(e,n,s)}}function xy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Dy(l,e)}xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&xa(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Jl(e);break;default:Jl(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Dy(l,e)}xy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xa(8,n,n.return),Ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function Dy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:xa(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(Ey(l),l===s){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var L1={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},U1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Nt=null,Vt=0,Kt=0,_n=null,Na=!1,Nr=!1,Uf=!1,$i=0,he=0,Da=0,Ms=0,Pf=0,En=0,Dr=0,Wl=null,on=null,zf=!1,Xu=0,Iy=0,$u=1/0,Zu=null,Ia=null,Ve=0,Va=null,Ir=null,Zi=0,kf=0,Bf=null,Vy=null,to=0,qf=null;function Tn(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:Y.T!==null?Kf():Jo()}function My(){if(En===0)if((Vt&536870912)===0||Ut){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function un(e,n,s){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Vr(e,0),Ma(e,Vt,En,!1)),ls(e,s),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(Ms|=s),he===4&&Ma(e,Vt,En,!1)),bi(e))}function jy(e,n,s){if((Gt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=l?k1(e,n):Ff(e,n,!0),d=l;do{if(h===0){Nr&&!l&&Ma(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!P1(s)){h=Ff(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var A=e;h=Wl;var I=A.current.memoizedState.isDehydrated;if(I&&(Vr(A,_).flags|=256),_=Ff(A,_,!1),_!==2){if(Uf&&!I){A.errorRecoveryDisabledLanes|=d,Ms|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Vr(e,0),Ma(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ma(l,n,En,!Na);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Xu+300-Je(),10<h)){if(Ma(l,n,En,!Na),ri(l,0,!0)!==0)break t;Zi=n,l.timeoutHandle=hv(Oy.bind(null,l,s,on,Zu,zf,n,En,Ms,Dr,Na,d,"Throttled",-0,0),h);break t}Oy(l,s,on,Zu,zf,n,En,Ms,Dr,Na,d,null,-0,0)}}break}while(!0);bi(e)}function Oy(e,n,s,l,h,d,_,A,I,B,K,W,q,Q){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Cy(n,d,W);var ft=(d&62914560)===d?Xu-Je():(d&4194048)===d?Iy-Je():0;if(ft=SS(W,ft),ft!==null){Zi=d,e.cancelPendingCommit=ft(Hy.bind(null,e,n,d,s,l,h,_,A,I,K,W,null,q,Q)),Ma(e,d,_,!B);return}}Hy(e,n,d,s,l,h,_,A,I)}function P1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ma(e,n,s,l){n&=~Pf,n&=~Ms,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&os(e,s,n)}function Ju(){return(Gt&6)===0?(eo(0),!1):!0}function Hf(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,ki=bs=null,sf(e),Sr=null,Ul=0,e=Nt;for(;e!==null;)fy(e.alternate,e),e=e.return;Nt=null}}function Vr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,aS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Zi=0,Hf(),ee=e,Nt=s=Pi(e.current,null),Vt=n,Kt=0,_n=null,Na=!1,Nr=qn(e,n),Uf=!1,Dr=En=Pf=Ms=Da=he=0,on=Wl=null,zf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-fe(l),d=1<<h;n|=e[h],l&=~d}return $i=n,_u(),s}function Ly(e,n){Rt=null,Y.H=Gl,n===Tr||n===Cu?(n=Jp(),Kt=3):n===Qh?(n=Jp(),Kt=4):Kt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Nt===null&&(he=1,Bu(e,Vn(n,e.current)))}function Uy(){var e=yn.current;return e===null?!0:(Vt&4194048)===Vt?Ln===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Ln:!1}function Py(){var e=Y.H;return Y.H=Gl,e===null?Gl:e}function zy(){var e=Y.A;return Y.A=L1,e}function Wu(){he=4,Na||(Vt&4194048)!==Vt&&yn.current!==null||(Nr=!0),(Da&134217727)===0&&(Ms&134217727)===0||ee===null||Ma(ee,Vt,En,!1)}function Ff(e,n,s){var l=Gt;Gt|=2;var h=Py(),d=zy();(ee!==e||Vt!==n)&&(Zu=null,Vr(e,n)),n=!1;var _=he;t:do try{if(Kt!==0&&Nt!==null){var A=Nt,I=_n;switch(Kt){case 8:Hf(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var B=Kt;if(Kt=0,_n=null,Mr(e,A,I,B),s&&Nr){_=0;break t}break;default:B=Kt,Kt=0,_n=null,Mr(e,A,I,B)}}z1(),_=he;break}catch(K){Ly(e,K)}while(!0);return n&&e.shellSuspendCounter++,ki=bs=null,Gt=l,Y.H=h,Y.A=d,Nt===null&&(ee=null,Vt=0,_u()),_}function z1(){for(;Nt!==null;)ky(Nt)}function k1(e,n){var s=Gt;Gt|=2;var l=Py(),h=zy();ee!==e||Vt!==n?(Zu=null,$u=Je()+500,Vr(e,n)):Nr=qn(e,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var d=_n;e:switch(Kt){case 1:Kt=0,_n=null,Mr(e,n,d,1);break;case 2:case 9:if($p(d)){Kt=0,_n=null,By(n);break}n=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),bi(e)},d.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:$p(d)?(Kt=0,_n=null,By(n)):(Kt=0,_n=null,Mr(e,n,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var A=Nt;if(_?Rv(_):A.stateNode.complete){Kt=0,_n=null;var I=A.sibling;if(I!==null)Nt=I;else{var B=A.return;B!==null?(Nt=B,tc(B)):Nt=null}break e}}Kt=0,_n=null,Mr(e,n,d,5);break;case 6:Kt=0,_n=null,Mr(e,n,d,6);break;case 8:Hf(),he=6;break t;default:throw Error(r(462))}}B1();break}catch(K){Ly(e,K)}while(!0);return ki=bs=null,Y.H=l,Y.A=h,Gt=s,Nt!==null?0:(ee=null,Vt=0,_u(),he)}function B1(){for(;Nt!==null&&!_h();)ky(Nt)}function ky(e){var n=cy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?tc(e):Nt=n}function By(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ay(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=ay(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:sf(n);default:fy(s,n),n=Nt=zp(n,$i),n=cy(s,n,$i)}e.memoizedProps=e.pendingProps,n===null?tc(e):Nt=n}function Mr(e,n,s,l){ki=bs=null,sf(n),Sr=null,Ul=0;var h=n.return;try{if(N1(e,h,n,s,Vt)){he=1,Bu(e,Vn(s,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;he=1,Bu(e,Vn(s,e.current)),Nt=null;return}n.flags&32768?(Ut||l===1?e=!0:Nr||(Vt&536870912)!==0?e=!1:(Na=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,Na);return}e=n.return;var s=V1(n.alternate,n,$i);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);he===0&&(he=5)}function qy(e,n){do{var s=M1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);he=6,Nt=null}function Hy(e,n,s,l,h,d,_,A,I){e.cancelPendingCommit=null;do ec();while(Ve!==0);if((Gt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Ih,Sh(e,s,d,_,A,I),e===ee&&(Nt=ee=null,Vt=0),Ir=n,Va=e,Zi=s,kf=d,Bf=h,Vy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,G1(ua,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=it.p,it.p=2,_=Gt,Gt|=4;try{j1(e,n,s)}finally{Gt=_,it.p=h,Y.T=l}}Ve=1,Fy(),Gy(),Qy()}}function Fy(){if(Ve===1){Ve=0;var e=Va,n=Ir,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=it.p;it.p=2;var h=Gt;Gt|=4;try{by(n,e);var d=nd,_=Dp(e.containerInfo),A=d.focusedElem,I=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Np(A.ownerDocument.documentElement,A)){if(I!==null&&Rh(A)){var B=I.start,K=I.end;if(K===void 0&&(K=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(K,A.value.length);else{var W=A.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var Q=q.getSelection(),ft=A.textContent.length,_t=Math.min(I.start,ft),Wt=I.end===void 0?_t:Math.min(I.end,ft);!Q.extend&&_t>Wt&&(_=Wt,Wt=_t,_t=_);var P=xp(A,_t),j=xp(A,Wt);if(P&&j&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var k=W.createRange();k.setStart(P.node,P.offset),Q.removeAllRanges(),_t>Wt?(Q.addRange(k),Q.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),Q.addRange(k))}}}}for(W=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var $=W[A];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}dc=!!ed,nd=ed=null}finally{Gt=h,it.p=l,Y.T=s}}e.current=n,Ve=2}}function Gy(){if(Ve===2){Ve=0;var e=Va,n=Ir,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=it.p;it.p=2;var h=Gt;Gt|=4;try{_y(e,n.alternate,n)}finally{Gt=h,it.p=l,Y.T=s}}Ve=3}}function Qy(){if(Ve===4||Ve===3){Ve=0,Go();var e=Va,n=Ir,s=Zi,l=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Ir=Va=null,Yy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ia=null),ji(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=it.p,it.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{Y.T=n,it.p=h}}(Zi&3)!==0&&ec(),bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?to++:(to=0,qf=e):to=0,eo(0)}}function Yy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ol(n)))}function ec(){return Fy(),Gy(),Qy(),Ky()}function Ky(){if(Ve!==5)return!1;var e=Va,n=kf;kf=0;var s=ji(Zi),l=Y.T,h=it.p;try{it.p=32>s?32:s,Y.T=null,s=Bf,Bf=null;var d=Va,_=Zi;if(Ve=0,Ir=Va=null,Zi=0,(Gt&6)!==0)throw Error(r(331));var A=Gt;if(Gt|=4,Ny(d.current),Ry(d,d.current,_,s),Gt=A,eo(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{it.p=h,Y.T=l,Yy(e,n)}}function Xy(e,n,s){n=Vn(s,n),n=Ef(e.stateNode,n,2),e=wa(e,n,2),e!==null&&(ls(e,2),bi(e))}function Xt(e,n,s){if(e.tag===3)Xy(e,e,s);else for(;n!==null;){if(n.tag===3){Xy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ia===null||!Ia.has(l))){e=Vn(s,e),s=$g(2),l=wa(n,s,2),l!==null&&(Zg(s,l,n,e),ls(l,2),bi(l));break}}n=n.return}}function Gf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new U1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Uf=!0,h.add(s),e=q1.bind(null,e,n,s),n.then(e,e))}function q1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Vt&s)===s&&(he===4||he===3&&(Vt&62914560)===Vt&&300>Je()-Xu?(Gt&2)===0&&Vr(e,0):Pf|=s,Dr===Vt&&(Dr=0)),bi(e)}function $y(e,n){n===0&&(n=Zo()),e=Ts(e,n),e!==null&&(ls(e,n),bi(e))}function H1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),$y(e,s)}function F1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),$y(e,s)}function G1(e,n){return Ie(e,n)}var nc=null,jr=null,Qf=!1,ic=!1,Yf=!1,ja=0;function bi(e){e!==jr&&e.next===null&&(jr===null?nc=jr=e:jr=jr.next=e),ic=!0,Qf||(Qf=!0,Y1())}function eo(e,n){if(!Yf&&ic){Yf=!0;do for(var s=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,tv(l,d))}else d=Vt,d=ri(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(s=!0,tv(l,d));l=l.next}while(s);Yf=!1}}function Q1(){Zy()}function Zy(){ic=Qf=!1;var e=0;ja!==0&&iS()&&(e=ja);for(var n=Je(),s=null,l=nc;l!==null;){var h=l.next,d=Jy(l,n);d===0?(l.next=null,s===null?nc=h:s.next=h,h===null&&(jr=s)):(s=l,(e!==0||(d&3)!==0)&&(ic=!0)),l=h}Ve!==0&&Ve!==5||eo(e),ja!==0&&(ja=0)}function Jy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),A=1<<_,I=h[_];I===-1?((A&s)===0||(A&l)!==0)&&(h[_]=Th(A,n)):I<=n&&(e.expiredLanes|=A),d&=~A}if(n=ee,s=Vt,s=ri(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&oa(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&oa(l),ji(s)){case 2:case 8:s=hl;break;case 32:s=ua;break;case 268435456:s=Qo;break;default:s=ua}return l=Wy.bind(null,e),s=Ie(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&oa(l),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var l=Vt;return l=ri(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jy(e,l,n),Jy(e,Je()),e.callbackNode!=null&&e.callbackNode===s?Wy.bind(null,e):null)}function tv(e,n){if(ec())return null;jy(e,n,!0)}function Y1(){sS(function(){(Gt&6)!==0?Ie(cl,Q1):Zy()})}function Kf(){if(ja===0){var e=_r;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),ja=e}return ja}function ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ar(""+e)}function nv(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function K1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=ev((h[Oe]||null).action),_=l.submitter;_&&(n=(n=_[Oe]||null)?ev(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var A=new yi("action","action",null,l,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ja!==0){var I=_?nv(h,_):new FormData(h);mf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(A.preventDefault(),I=_?nv(h,_):new FormData(h),mf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Xf=0;Xf<Dh.length;Xf++){var $f=Dh[Xf],X1=$f.toLowerCase(),$1=$f[0].toUpperCase()+$f.slice(1);$n(X1,"on"+$1)}$n(Mp,"onAnimationEnd"),$n(jp,"onAnimationIteration"),$n(Op,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(f1,"onTransitionRun"),$n(d1,"onTransitionStart"),$n(m1,"onTransitionCancel"),$n(Lp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function iv(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var A=l[_],I=A.instance,B=A.currentTarget;if(A=A.listener,I!==d&&h.isPropagationStopped())break t;d=A,h.currentTarget=B;try{d(h)}catch(K){vu(K)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(A=l[_],I=A.instance,B=A.currentTarget,A=A.listener,I!==d&&h.isPropagationStopped())break t;d=A,h.currentTarget=B;try{d(h)}catch(K){vu(K)}h.currentTarget=null,d=I}}}}function Dt(e,n){var s=n[Ws];s===void 0&&(s=n[Ws]=new Set);var l=e+"__bubble";s.has(l)||(av(n,e,2,!1),s.add(l))}function Zf(e,n,s){var l=0;n&&(l|=4),av(s,e,l,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[ac]){e[ac]=!0,ml.forEach(function(s){s!=="selectionchange"&&(Z1.has(s)||Zf(s,!1,e),Zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,Zf("selectionchange",!1,n))}}function av(e,n,s,l){switch(Mv(n)){case 2:var h=wS;break;case 8:h=RS;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=ci(A),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}A=A.parentNode}}l=l.return}pa(function(){var B=d,K=xn(s),W=[];t:{var q=Up.get(e);if(q!==void 0){var Q=yi,ft=e;switch(e){case"keypress":if(ps(s)===0)break t;case"keydown":case"keyup":Q=pu;break;case"focusin":ft="focus",Q=ys;break;case"focusout":ft="blur",Q=ys;break;case"beforeblur":case"afterblur":Q=ys;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case Mp:case jp:case Op:Q=ou;break;case Lp:Q=b;break;case"scroll":case"scrollend":Q=Rl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ui;break;case"toggle":case"beforetoggle":Q=wt}var _t=(n&4)!==0,Wt=!_t&&(e==="scroll"||e==="scrollend"),P=_t?q!==null?q+"Capture":null:q;_t=[];for(var j=B,k;j!==null;){var $=j;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||P===null||($=Qn(j,P),$!=null&&_t.push(io(j,$,k))),Wt)break;j=j.return}0<_t.length&&(q=new Q(q,ft,null,s,K),W.push({event:q,listeners:_t}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",q&&s!==Al&&(ft=s.relatedTarget||s.fromElement)&&(ci(ft)||ft[oi]))break t;if((Q||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ft=s.relatedTarget||s.toElement,Q=B,ft=ft?ci(ft):null,ft!==null&&(Wt=u(ft),_t=ft.tag,ft!==Wt||_t!==5&&_t!==27&&_t!==6)&&(ft=null)):(Q=null,ft=B),Q!==ft)){if(_t=Cl,$="onMouseLeave",P="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Ui,$="onPointerLeave",P="onPointerEnter",j="pointer"),Wt=Q==null?q:dn(Q),k=ft==null?q:dn(ft),q=new _t($,j+"leave",Q,s,K),q.target=Wt,q.relatedTarget=k,$=null,ci(K)===B&&(_t=new _t(P,j+"enter",ft,s,K),_t.target=k,_t.relatedTarget=Wt,$=_t),Wt=$,Q&&ft)e:{for(_t=J1,P=Q,j=ft,k=0,$=P;$;$=_t($))k++;$=0;for(var gt=j;gt;gt=_t(gt))$++;for(;0<k-$;)P=_t(P),k--;for(;0<$-k;)j=_t(j),$--;for(;k--;){if(P===j||j!==null&&P===j.alternate){_t=P;break e}P=_t(P),j=_t(j)}_t=null}else _t=null;Q!==null&&sv(W,q,Q,_t,!1),ft!==null&&Wt!==null&&sv(W,Wt,ft,_t,!0)}}t:{if(q=B?dn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Bt=Sp;else if(Ep(q))if(Ap)Bt=u1;else{Bt=l1;var dt=r1}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ir(B.elementType)&&(Bt=Sp):Bt=o1;if(Bt&&(Bt=Bt(e,B))){Tp(W,Bt,s,K);break t}dt&&dt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&El(q,"number",q.value)}switch(dt=B?dn(B):window,e){case"focusin":(Ep(dt)||dt.contentEditable==="true")&&(hr=dt,Ch=B,Vl=null);break;case"focusout":Vl=Ch=hr=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Ip(W,s,K);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":Ip(W,s,K)}var xt;if(Ft)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else cr?vs(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ei&&s.locale!=="ko"&&(cr||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&cr&&(xt=wl()):(gi=K,bl="value"in gi?gi.value:gi.textContent,cr=!0)),dt=sc(B,Mt),0<dt.length&&(Mt=new _i(Mt,e,null,s,K),W.push({event:Mt,listeners:dt}),xt?Mt.data=xt:(xt=ur(s),xt!==null&&(Mt.data=xt)))),(xt=Dn?n1(e,s):i1(e,s))&&(Mt=sc(B,"onBeforeInput"),0<Mt.length&&(dt=new _i("onBeforeInput","beforeinput",null,s,K),W.push({event:dt,listeners:Mt}),dt.data=xt)),K1(W,e,B,s,K)}iv(W,n)})}function io(e,n,s){return{instance:e,listener:n,currentTarget:s}}function sc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(e,s),h!=null&&l.unshift(io(e,h,d)),h=Qn(e,n),h!=null&&l.push(io(e,h,d))),e.tag===3)return l;e=e.return}return[]}function J1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sv(e,n,s,l,h){for(var d=n._reactName,_=[];s!==null&&s!==l;){var A=s,I=A.alternate,B=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||B===null||(I=B,h?(B=Qn(s,d),B!=null&&_.unshift(io(s,B,I))):h||(B=Qn(s,d),B!=null&&_.push(io(s,B,I)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var W1=/\r\n?/g,tS=/\u0000|\uFFFD/g;function rv(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(tS,"")}function lv(e,n){return n=rv(n),rv(e)===n}function Jt(e,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,l);break;case"style":Sl(e,l,d);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ar(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ar(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ar(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),er(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":er(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=su.get(s)||s,er(e,s,l))}}function td(e,n,s,l,h,d){switch(s){case"style":Sl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?an(e,l):(typeof l=="number"||typeof l=="bigint")&&an(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Oe]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):er(e,s,l)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,d,_,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),l&&Jt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var A=d=_=h=null,I=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":I=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:Jt(e,n,l,K,s,null)}}nu(e,d,A,I,B,_,h,!1);return;case"select":Dt("invalid",e),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Jt(e,n,h,A,s,null)}n=d,s=_,e.multiple=!!l,n!=null?ha(e,!!l,n,!1):s!=null&&ha(e,!!l,s,!0);return;case"textarea":Dt("invalid",e),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(A=s[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Jt(e,n,_,A,s,null)}fa(e,l,h,d);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,n,I,l,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)Dt(no[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,B,l,s,null)}return;default:if(ir(n)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&td(e,n,K,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&Jt(e,n,A,l,s,null))}function eS(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,A=null,I=null,B=null,K=null;for(Q in s){var W=s[Q];if(s.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(Q)||Jt(e,n,Q,null,l,W)}}for(var q in l){var Q=l[q];if(W=s[q],l.hasOwnProperty(q)&&(Q!=null||W!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":K=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==W&&Jt(e,n,q,Q,l,W)}}nr(e,_,A,I,B,K,d,h);return;case"select":Q=_=A=q=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||Jt(e,n,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==I&&Jt(e,n,h,d,l,I)}n=A,s=_,l=Q,q!=null?ha(e,!!s,q,!1):!!l!=!!s&&(n!=null?ha(e,!!s,n,!0):ha(e,!!s,s?[]:"",!1));return;case"textarea":Q=q=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Jt(e,n,A,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Jt(e,n,_,h,l,d)}iu(e,q,Q);return;case"option":for(var ft in s)q=s[ft],s.hasOwnProperty(ft)&&q!=null&&!l.hasOwnProperty(ft)&&(ft==="selected"?e.selected=!1:Jt(e,n,ft,null,l,q));for(I in l)q=l[I],Q=s[I],l.hasOwnProperty(I)&&q!==Q&&(q!=null||Q!=null)&&(I==="selected"?e.selected=q&&typeof q!="function"&&typeof q!="symbol":Jt(e,n,I,q,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)q=s[_t],s.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&Jt(e,n,_t,null,l,q);for(B in l)if(q=l[B],Q=s[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Jt(e,n,B,q,l,Q)}return;default:if(ir(n)){for(var Wt in s)q=s[Wt],s.hasOwnProperty(Wt)&&q!==void 0&&!l.hasOwnProperty(Wt)&&td(e,n,Wt,void 0,l,q);for(K in l)q=l[K],Q=s[K],!l.hasOwnProperty(K)||q===Q||q===void 0&&Q===void 0||td(e,n,K,q,l,Q);return}}for(var P in s)q=s[P],s.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Jt(e,n,P,null,l,q);for(W in l)q=l[W],Q=s[W],!l.hasOwnProperty(W)||q===Q||q==null&&Q==null||Jt(e,n,W,q,l,Q)}function ov(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,A=h.duration;if(d&&A&&ov(_)){for(_=0,A=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],B=I.startTime;if(B>A)break;var K=I.transferSize,W=I.initiatorType;K&&ov(W)&&(I=I.responseEnd,_+=K*(I<A?1:(A-B)/(I-B)))}if(--l,n+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function uv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function iS(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,aS=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(e){return fv.resolve(null).then(e).catch(rS)}:hv;function rS(e){setTimeout(function(){throw e})}function Oa(e){return e==="head"}function dv(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Pr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ao(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ao(s);for(var d=s.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[ui]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&ao(e.ownerDocument.body);s=h}while(s);Pr(n)}function mv(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),tr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lS(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function oS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Un(e.nextSibling),e===null))return null;return e}function pv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function rd(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function gv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Un(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function yv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function vv(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ao(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);tr(e)}var Pn=new Map,_v=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=it.d;it.d={f:cS,r:hS,D:fS,C:dS,L:mS,m:pS,X:yS,S:gS,M:vS};function cS(){var e=Ji.f(),n=Ju();return e||n}function hS(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Lg(n):Ji.r(e)}var Or=typeof document>"u"?null:document;function Ev(e,n,s){var l=Or;if(l&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),_v.has(h)||(_v.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",e),Ee(n),l.head.appendChild(n)))}}function fS(e){Ji.D(e),Ev("dns-prefetch",e,null)}function dS(e,n){Ji.C(e,n),Ev("preconnect",e,n)}function mS(e,n,s){Ji.L(e,n,s);var l=Or;if(l&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var d=h;switch(n){case"style":d=Lr(e);break;case"script":d=Ur(e)}Pn.has(d)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(so(d))||n==="script"&&l.querySelector(ro(d))||(n=l.createElement("link"),Fe(n,"link",e),Ee(n),l.head.appendChild(n)))}}function pS(e,n){Ji.m(e,n);var s=Or;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ur(e)}if(!Pn.has(d)&&(e=S({rel:"modulepreload",href:e},n),Pn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ro(d)))return}l=s.createElement("link"),Fe(l,"link",e),Ee(l),s.head.appendChild(l)}}}function gS(e,n,s){Ji.S(e,n,s);var l=Or;if(l&&e){var h=hi(l).hoistableStyles,d=Lr(e);n=n||"default";var _=h.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(so(d)))A.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pn.get(d))&&ud(e,s);var I=_=l.createElement("link");Ee(I),Fe(I,"link",e),I._p=new Promise(function(B,K){I.onload=B,I.onerror=K}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,oc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(d,_)}}}function yS(e,n){Ji.X(e,n);var s=Or;if(s&&e){var l=hi(s).hoistableScripts,h=Ur(e),d=l.get(h);d||(d=s.querySelector(ro(h)),d||(e=S({src:e,async:!0},n),(n=Pn.get(h))&&cd(e,n),d=s.createElement("script"),Ee(d),Fe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vS(e,n){Ji.M(e,n);var s=Or;if(s&&e){var l=hi(s).hoistableScripts,h=Ur(e),d=l.get(h);d||(d=s.querySelector(ro(h)),d||(e=S({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&cd(e,n),d=s.createElement("script"),Ee(d),Fe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Tv(e,n,s,l){var h=(h=Ct.current)?lc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Lr(s.href),s=hi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Lr(s.href);var d=hi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(so(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),d||_S(h,e,s,_.state))),n&&l===null)throw Error(r(528,""));return _}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ur(s),s=hi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Lr(e){return'href="'+nn(e)+'"'}function so(e){return'link[rel="stylesheet"]['+e+"]"}function Sv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function _S(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",s),Ee(n),e.head.appendChild(n))}function Ur(e){return'[src="'+nn(e)+'"]'}function ro(e){return"script[async]"+e}function Av(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),oc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Lr(s.href);var d=e.querySelector(so(h));if(d)return n.state.loading|=4,n.instance=d,Ee(d),d;l=Sv(s),(h=Pn.get(h))&&ud(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(A,I){_.onload=A,_.onerror=I}),Fe(d,"link",l),n.state.loading|=4,oc(d,s.precedence,e),n.instance=d;case"script":return d=Ur(s.src),(h=e.querySelector(ro(d)))?(n.instance=h,Ee(h),h):(l=s,(h=Pn.get(d))&&(l=S({},s),cd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,s.precedence,e));return n.instance}function oc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===n)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function bv(e,n,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[ui]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function wv(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ES(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Rv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function TS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Lr(l.href),d=n.querySelector(so(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,Ee(d);return}d=n.ownerDocument||n,l=Sv(l),(h=Pn.get(h))&&ud(l,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(A,I){_.onload=A,_.onerror=I}),Fe(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function SS(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*nS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(AS,e),hc=null,cc.call(e))}function AS(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var l=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:st,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function bS(e,n,s,l,h,d,_,A,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Cv(e,n,s,l,h,d,_,A,I,B,K,W){return e=new bS(e,n,s,_,I,B,K,W,A),n=1,d===!0&&(n|=24),d=gn(3,null,null,n),e.current=d,d.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Yh(d),e}function xv(e){return e?(e=mr,e):mr}function Nv(e,n,s,l,h,d){h=xv(h),l.context===null?l.context=h:l.pendingContext=h,l=ba(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=wa(e,l,n),s!==null&&(un(s,e,n),zl(s,e,n))}function Dv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){Dv(e,n),(e=e.alternate)&&Dv(e,n)}function Iv(e){if(e.tag===13||e.tag===31){var n=Ts(e,67108864);n!==null&&un(n,e,67108864),fd(e,67108864)}}function Vv(e){if(e.tag===13||e.tag===31){var n=Tn();n=us(n);var s=Ts(e,n);s!==null&&un(s,e,n),fd(e,n)}}var dc=!0;function wS(e,n,s,l){var h=Y.T;Y.T=null;var d=it.p;try{it.p=2,dd(e,n,s,l)}finally{it.p=d,Y.T=h}}function RS(e,n,s,l){var h=Y.T;Y.T=null;var d=it.p;try{it.p=8,dd(e,n,s,l)}finally{it.p=d,Y.T=h}}function dd(e,n,s,l){if(dc){var h=md(l);if(h===null)Wf(e,n,l,mc,s),jv(e,l);else if(xS(h,e,n,s,l))l.stopPropagation();else if(jv(e,l),n&4&&-1<CS.indexOf(e)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var I=1<<31-fe(_);A.entanglements[1]|=I,_&=~I}bi(d),(Gt&6)===0&&($u=Je()+500,eo(0))}}break;case 31:case 13:A=Ts(d,2),A!==null&&un(A,d,2),Ju(),fd(d,2)}if(d=md(l),d===null&&Wf(e,n,l,mc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wf(e,n,l,null,s)}}function md(e){return e=xn(e),pd(e)}var mc=null;function pd(e){if(mc=null,e=ci(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function Mv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case cl:return 2;case hl:return 8;case ua:case Eh:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var gd=!1,La=null,Ua=null,Pa=null,oo=new Map,uo=new Map,za=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jv(e,n){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&Iv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xS(e,n,s,l,h){switch(n){case"focusin":return La=co(La,e,n,s,l,h),!0;case"dragenter":return Ua=co(Ua,e,n,s,l,h),!0;case"mouseover":return Pa=co(Pa,e,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return oo.set(d,co(oo.get(d)||null,e,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,uo.set(d,co(uo.get(d)||null,e,n,s,l,h)),!0}return!1}function Ov(e){var n=ci(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){Vv(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){Vv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Cn(s),n!==null&&Iv(n),e.blockedOn=s,!1;n.shift()}return!0}function Lv(e,n,s){pc(e)&&s.delete(n)}function NS(){gd=!1,La!==null&&pc(La)&&(La=null),Ua!==null&&pc(Ua)&&(Ua=null),Pa!==null&&pc(Pa)&&(Pa=null),oo.forEach(Lv),uo.forEach(Lv)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,NS)))}var yc=null;function Uv(e){yc!==e&&(yc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(pd(l||s)===null)continue;break}var d=Cn(s);d!==null&&(e.splice(n,3),n-=3,mf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Pr(e){function n(I){return gc(I,e)}La!==null&&gc(La,e),Ua!==null&&gc(Ua,e),Pa!==null&&gc(Pa,e),oo.forEach(n),uo.forEach(n);for(var s=0;s<za.length;s++){var l=za[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<za.length&&(s=za[0],s.blockedOn===null);)Ov(s),s.blockedOn===null&&za.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Oe]||null;if(typeof d=="function")_||Uv(s);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Oe]||null)A=_.formAction;else if(pd(h)!==null)continue}else A=_.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),Uv(s)}}}function Pv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}vc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Tn();Nv(s,l,e,n,null,null)},vc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Nv(e.current,2,null,e,null,null),Ju(),n[oi]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<za.length&&n!==0&&n<za[s].priority;s++);za.splice(s,0,e),s===0&&Ov(e)}};var zv=t.version;if(zv!=="19.2.3")throw Error(r(527,zv,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var DS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Bn=_c.inject(DS),ze=_c}catch{}}return fo.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",h=Qg,d=Yg,_=Kg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Cv(e,1,!1,null,null,s,l,null,h,d,_,Pv),e[oi]=n.current,Jf(e),new yd(n)},fo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,h="",d=Qg,_=Yg,A=Kg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=Cv(e,1,!0,n,s??null,l,h,I,d,_,A,Pv),n.context=xv(null),s=n.current,l=Tn(),l=us(l),h=ba(l),h.callback=null,wa(s,h,l),s=l,n.current.lanes=s,ls(n,s),bi(n),e[oi]=n.current,Jf(e),new vc(n)},fo.version="19.2.3",fo}var Xv;function kS(){if(Xv)return Ed.exports;Xv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=zS(),Ed.exports}var BS=kS();const qS=SE(BS);var $v="popstate";function HS(a={}){function t(o,u){let{pathname:f="/",search:m="",hash:y=""}=Fs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),zd("",{pathname:f,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,v=y.indexOf("#");m=v===-1?y:y.slice(0,v)}return m+"#"+(typeof u=="string"?u:bo(u))}function r(o,u){fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return GS(t,i,r,a)}function oe(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function fn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function Zv(a,t){return{usr:a.state,key:a.key,idx:t}}function zd(a,t,i=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Fs(t):t,state:i,key:t&&t.key||r||FS()}}function bo({pathname:a="/",search:t="",hash:i=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Fs(a){let t={};if(a){let i=a.indexOf("#");i>=0&&(t.hash=a.substring(i),a=a.substring(0,i));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function GS(a,t,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,m="POP",y=null,v=T();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function T(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=T(),J=F==null?null:F-v;v=F,y&&y({action:m,location:X.location,delta:J})}function R(F,J){m="PUSH";let et=zd(X.location,F,J);i&&i(et,F),v=T()+1;let st=Zv(et,v),mt=X.createHref(et);try{f.pushState(st,"",mt)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;o.location.assign(mt)}u&&y&&y({action:m,location:X.location,delta:1})}function M(F,J){m="REPLACE";let et=zd(X.location,F,J);i&&i(et,F),v=T();let st=Zv(et,v),mt=X.createHref(et);f.replaceState(st,"",mt),u&&y&&y({action:m,location:X.location,delta:0})}function H(F){return QS(F)}let X={get action(){return m},get location(){return a(o,f)},listen(F){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener($v,S),y=F,()=>{o.removeEventListener($v,S),y=null}},createHref(F){return t(o,F)},createURL:H,encodeLocation(F){let J=H(F);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:M,go(F){return f.go(F)}};return X}function QS(a,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),oe(i,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:bo(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function bE(a,t,i="/"){return YS(a,t,i,!1)}function YS(a,t,i,r){let o=typeof t=="string"?Fs(t):t,u=ea(o.pathname||"/",i);if(u==null)return null;let f=wE(a);KS(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let v=sA(u);m=iA(f[y],v,r)}return m}function wE(a,t=[],i=[],r="",o=!1){let u=(f,m,y=o,v)=>{let T={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&y)return;oe(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let S=Wi([r,T.relativePath]),R=i.concat(T);f.children&&f.children.length>0&&(oe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),wE(f.children,t,R,S,y)),!(f.path==null&&!f.index)&&t.push({path:S,score:eA(S,f.index),routesMeta:R})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of RE(f.path))u(f,m,!0,y)}),t}function RE(a){let t=a.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=RE(r.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>a.startsWith("/")&&y===""?"/":y)}function KS(a){a.sort((t,i)=>t.score!==i.score?i.score-t.score:nA(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var XS=/^:[\w-]+$/,$S=3,ZS=2,JS=1,WS=10,tA=-2,Jv=a=>a==="*";function eA(a,t){let i=a.split("/"),r=i.length;return i.some(Jv)&&(r+=tA),t&&(r+=ZS),i.filter(o=>!Jv(o)).reduce((o,u)=>o+(XS.test(u)?$S:u===""?JS:WS),r)}function nA(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function iA(a,t,i=!1){let{routesMeta:r}=a,o={},u="/",f=[];for(let m=0;m<r.length;++m){let y=r[m],v=m===r.length-1,T=u==="/"?t:t.slice(u.length)||"/",S=jc({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},T),R=y.route;if(!S&&v&&i&&!r[r.length-1].route.index&&(S=jc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Wi([u,S.pathname]),pathnameBase:uA(Wi([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=Wi([u,S.pathnameBase]))}return f}function jc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,r]=aA(a.path,a.caseSensitive,a.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,{paramName:T,isOptional:S},R)=>{if(T==="*"){let H=m[R]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const M=m[R];return S&&!M?v[T]=void 0:v[T]=(M||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:a}}function aA(a,t=!1,i=!0){fn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function sA(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function ea(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=a.charAt(i);return r&&r!=="/"?null:a.slice(i)||"/"}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rA=a=>CE.test(a);function lA(a,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof a=="string"?Fs(a):a,u;if(i)if(rA(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),fn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=Wv(i.substring(1),"/"):u=Wv(i,t)}else u=t;return{pathname:u,search:cA(r),hash:hA(o)}}function Wv(a,t){let i=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function bd(a,t,i,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oA(a){return a.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function mm(a){let t=oA(a);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function pm(a,t,i,r=!1){let o;typeof a=="string"?o=Fs(a):(o={...a},oe(!o.pathname||!o.pathname.includes("?"),bd("?","pathname","search",o)),oe(!o.pathname||!o.pathname.includes("#"),bd("#","pathname","hash",o)),oe(!o.search||!o.search.includes("#"),bd("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let S=t.length-1;if(!r&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?t[S]:"/"}let y=lA(o,m),v=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(v||T)&&(y.pathname+="/"),y}var Wi=a=>a.join("/").replace(/\/\/+/g,"/"),uA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),cA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,hA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,fA=class{constructor(a,t,i,r=!1){this.status=a,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function dA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function mA(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NE(a,t){let i=a;if(typeof i!="string"||!CE.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(xE)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=ea(f.pathname,t);f.origin===u.origin&&m!=null?i=m+f.search+f.hash:o=!0}catch{fn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var pA=["GET",...DE];new Set(pA);var Jr=U.createContext(null);Jr.displayName="DataRouter";var $c=U.createContext(null);$c.displayName="DataRouterState";var gA=U.createContext(!1),IE=U.createContext({isTransitioning:!1});IE.displayName="ViewTransition";var yA=U.createContext(new Map);yA.displayName="Fetchers";var vA=U.createContext(null);vA.displayName="Await";var wn=U.createContext(null);wn.displayName="Navigation";var Oo=U.createContext(null);Oo.displayName="Location";var ni=U.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var gm=U.createContext(null);gm.displayName="RouteError";var VE="REACT_ROUTER_ERROR",_A="REDIRECT",EA="ROUTE_ERROR_RESPONSE";function TA(a){if(a.startsWith(`${VE}:${_A}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function SA(a){if(a.startsWith(`${VE}:${EA}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new fA(t.status,t.statusText,t.data)}catch{}}function AA(a,{relative:t}={}){oe(Wr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=U.useContext(wn),{hash:o,pathname:u,search:f}=Lo(a,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Wi([i,u])),r.createHref({pathname:m,search:f,hash:o})}function Wr(){return U.useContext(Oo)!=null}function Mi(){return oe(Wr(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Oo).location}var ME="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jE(a){U.useContext(wn).static||U.useLayoutEffect(a)}function tl(){let{isDataRoute:a}=U.useContext(ni);return a?PA():bA()}function bA(){oe(Wr(),"useNavigate() may be used only in the context of a <Router> component.");let a=U.useContext(Jr),{basename:t,navigator:i}=U.useContext(wn),{matches:r}=U.useContext(ni),{pathname:o}=Mi(),u=JSON.stringify(mm(r)),f=U.useRef(!1);return jE(()=>{f.current=!0}),U.useCallback((y,v={})=>{if(fn(f.current,ME),!f.current)return;if(typeof y=="number"){i.go(y);return}let T=pm(y,JSON.parse(u),o,v.relative==="path");a==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Wi([t,T.pathname])),(v.replace?i.replace:i.push)(T,v.state,v)},[t,i,u,o,a])}var wA=U.createContext(null);function RA(a){let t=U.useContext(ni).outlet;return U.useMemo(()=>t&&U.createElement(wA.Provider,{value:a},t),[t,a])}function Lo(a,{relative:t}={}){let{matches:i}=U.useContext(ni),{pathname:r}=Mi(),o=JSON.stringify(mm(i));return U.useMemo(()=>pm(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function CA(a,t){return OE(a,t)}function OE(a,t,i,r,o){oe(Wr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(wn),{matches:f}=U.useContext(ni),m=f[f.length-1],y=m?m.params:{},v=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";UE(v,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let R=Mi(),M;if(t){let et=typeof t=="string"?Fs(t):t;oe(T==="/"||et.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${et.pathname}" was given in the \`location\` prop.`),M=et}else M=R;let H=M.pathname||"/",X=H;if(T!=="/"){let et=T.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(et.length).join("/")}let F=bE(a,{pathname:X});fn(S||F!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),fn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=VA(F&&F.map(et=>Object.assign({},et,{params:Object.assign({},y,et.params),pathname:Wi([T,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?T:Wi([T,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),f,i,r,o);return t&&J?U.createElement(Oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},J):J}function xA(){let a=UA(),t=dA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),i?U.createElement("pre",{style:o},i):null,f)}var NA=U.createElement(xA,null),LE=class extends U.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const i=SA(a.digest);i&&(a=i)}let t=a!==void 0?U.createElement(ni.Provider,{value:this.props.routeContext},U.createElement(gm.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?U.createElement(DA,{error:a},t):t}};LE.contextType=gA;var wd=new WeakMap;function DA({children:a,error:t}){let{basename:i}=U.useContext(wn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=TA(t.digest);if(r){let o=wd.get(t);if(o)throw o;let u=NE(r.location,i);if(xE&&!wd.get(t))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw wd.set(t,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function IA({routeContext:a,match:t,children:i}){let r=U.useContext(Jr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(ni.Provider,{value:a},i)}function VA(a,t=[],i=null,r=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i?.errors;if(f!=null){let T=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);oe(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,y=-1;if(i)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=T),S.route.id){let{loaderData:R,errors:M}=i,H=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!M||M[S.route.id]===void 0);if(S.route.lazy||H){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let v=i&&r?(T,S)=>{r(T,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:mA(i.matches),errorInfo:S})}:void 0;return u.reduceRight((T,S,R)=>{let M,H=!1,X=null,F=null;i&&(M=f&&S.route.id?f[S.route.id]:void 0,X=S.route.errorElement||NA,m&&(y<0&&R===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,F=null):y===R&&(H=!0,F=S.route.hydrateFallbackElement||null)));let J=t.concat(u.slice(0,R+1)),et=()=>{let st;return M?st=X:H?st=F:S.route.Component?st=U.createElement(S.route.Component,null):S.route.element?st=S.route.element:st=T,U.createElement(IA,{match:S,routeContext:{outlet:T,matches:J,isDataRoute:i!=null},children:st})};return i&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?U.createElement(LE,{location:i.location,revalidation:i.revalidation,component:X,error:M,children:et(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:v}):et()},null)}function ym(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(a){let t=U.useContext(Jr);return oe(t,ym(a)),t}function jA(a){let t=U.useContext($c);return oe(t,ym(a)),t}function OA(a){let t=U.useContext(ni);return oe(t,ym(a)),t}function vm(a){let t=OA(a),i=t.matches[t.matches.length-1];return oe(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function LA(){return vm("useRouteId")}function UA(){let a=U.useContext(gm),t=jA("useRouteError"),i=vm("useRouteError");return a!==void 0?a:t.errors?.[i]}function PA(){let{router:a}=MA("useNavigate"),t=vm("useNavigate"),i=U.useRef(!1);return jE(()=>{i.current=!0}),U.useCallback(async(o,u={})=>{fn(i.current,ME),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var t_={};function UE(a,t,i){!t&&!t_[a]&&(t_[a]=!0,fn(!1,i))}U.memo(zA);function zA({routes:a,future:t,state:i,onError:r}){return OE(a,void 0,i,r,t)}function _m({to:a,replace:t,state:i,relative:r}){oe(Wr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(wn);fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ni),{pathname:f}=Mi(),m=tl(),y=pm(a,mm(u),f,r==="path"),v=JSON.stringify(y);return U.useEffect(()=>{m(JSON.parse(v),{replace:t,state:i,relative:r})},[m,v,r,t,i]),null}function kA(a){return RA(a.context)}function Wn(a){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BA({basename:a="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){oe(!Wr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),y=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof i=="string"&&(i=Fs(i));let{pathname:v="/",search:T="",hash:S="",state:R=null,key:M="default"}=i,H=U.useMemo(()=>{let X=ea(v,m);return X==null?null:{location:{pathname:X,search:T,hash:S,state:R,key:M},navigationType:r}},[m,v,T,S,R,M,r]);return fn(H!=null,`<Router basename="${m}"> is not able to match the URL "${v}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:U.createElement(wn.Provider,{value:y},U.createElement(Oo.Provider,{children:t,value:H}))}function qA({children:a,location:t}){return CA(kd(a),t)}function kd(a,t=[]){let i=[];return U.Children.forEach(a,(r,o)=>{if(!U.isValidElement(r))return;let u=[...t,o];if(r.type===U.Fragment){i.push.apply(i,kd(r.props.children,u));return}oe(r.type===Wn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=kd(r.props.children,u)),i.push(f)}),i}var Rc="get",Cc="application/x-www-form-urlencoded";function Zc(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function HA(a){return Zc(a)&&a.tagName.toLowerCase()==="button"}function FA(a){return Zc(a)&&a.tagName.toLowerCase()==="form"}function GA(a){return Zc(a)&&a.tagName.toLowerCase()==="input"}function QA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function YA(a,t){return a.button===0&&(!t||t==="_self")&&!QA(a)}function Bd(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((t,i)=>{let r=a[i];return t.concat(Array.isArray(r)?r.map(o=>[i,o]):[[i,r]])},[]))}function KA(a,t){let i=Bd(a);return t&&t.forEach((r,o)=>{i.has(o)||t.getAll(o).forEach(u=>{i.append(o,u)})}),i}var Ec=null;function XA(){if(Ec===null)try{new FormData(document.createElement("form"),0),Ec=!1}catch{Ec=!0}return Ec}var $A=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rd(a){return a!=null&&!$A.has(a)?(fn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):a}function ZA(a,t){let i,r,o,u,f;if(FA(a)){let m=a.getAttribute("action");r=m?ea(m,t):null,i=a.getAttribute("method")||Rc,o=Rd(a.getAttribute("enctype"))||Cc,u=new FormData(a)}else if(HA(a)||GA(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||m.getAttribute("action");if(r=y?ea(y,t):null,i=a.getAttribute("formmethod")||m.getAttribute("method")||Rc,o=Rd(a.getAttribute("formenctype"))||Rd(m.getAttribute("enctype"))||Cc,u=new FormData(m,a),!XA()){let{name:v,type:T,value:S}=a;if(T==="image"){let R=v?`${v}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else v&&u.append(v,S)}}else{if(Zc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Rc,r=null,o=Cc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Em(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function JA(a,t,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&ea(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function WA(a,t){if(a.id in t)return t[a.id];try{let i=await import(a.module);return t[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tb(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function eb(a,t,i){let r=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await WA(u,i);return f.links?f.links():[]}return[]}));return sb(r.flat(1).filter(tb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e_(a,t,i,r,o,u){let f=(y,v)=>i[v]?y.route.id!==i[v].route.id:!0,m=(y,v)=>i[v].pathname!==y.pathname||i[v].route.path?.endsWith("*")&&i[v].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,v)=>f(y,v)||m(y,v)):u==="data"?t.filter((y,v)=>{let T=r.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(f(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function nb(a,t,{includeHydrateFallback:i}={}){return ib(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ib(a){return[...new Set(a)]}function ab(a){let t={},i=Object.keys(a).sort();for(let r of i)t[r]=a[r];return t}function sb(a,t){let i=new Set;return new Set(t),a.reduce((r,o)=>{let u=JSON.stringify(ab(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function PE(){let a=U.useContext(Jr);return Em(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function rb(){let a=U.useContext($c);return Em(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Tm=U.createContext(void 0);Tm.displayName="FrameworkContext";function zE(){let a=U.useContext(Tm);return Em(a,"You must render this element inside a <HydratedRouter> element"),a}function lb(a,t){let i=U.useContext(Tm),[r,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:T,onTouchStart:S}=t,R=U.useRef(null);U.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let X=J=>{J.forEach(et=>{f(et.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[a]),U.useEffect(()=>{if(r){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[r]);let M=()=>{o(!0)},H=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,R,{}]:[u,R,{onFocus:mo(m,M),onBlur:mo(y,H),onMouseEnter:mo(v,M),onMouseLeave:mo(T,H),onTouchStart:mo(S,M)}]:[!1,R,{}]}function mo(a,t){return i=>{a&&a(i),i.defaultPrevented||t(i)}}function ob({page:a,...t}){let{router:i}=PE(),r=U.useMemo(()=>bE(i.routes,a,i.basename),[i.routes,a,i.basename]);return r?U.createElement(cb,{page:a,matches:r,...t}):null}function ub(a){let{manifest:t,routeModules:i}=zE(),[r,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return eb(a,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,t,i]),r}function cb({page:a,matches:t,...i}){let r=Mi(),{manifest:o,routeModules:u}=zE(),{basename:f}=PE(),{loaderData:m,matches:y}=rb(),v=U.useMemo(()=>e_(a,t,y,o,r,"data"),[a,t,y,o,r]),T=U.useMemo(()=>e_(a,t,y,o,r,"assets"),[a,t,y,o,r]),S=U.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let H=new Set,X=!1;if(t.forEach(J=>{let et=o.routes[J.route.id];!et||!et.hasLoader||(!v.some(st=>st.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||et.hasClientLoader?X=!0:H.add(J.route.id))}),H.size===0)return[];let F=JA(a,f,"data");return X&&H.size>0&&F.searchParams.set("_routes",t.filter(J=>H.has(J.route.id)).map(J=>J.route.id).join(",")),[F.pathname+F.search]},[f,m,r,o,v,t,a,u]),R=U.useMemo(()=>nb(T,o),[T,o]),M=ub(T);return U.createElement(U.Fragment,null,S.map(H=>U.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...i})),R.map(H=>U.createElement("link",{key:H,rel:"modulepreload",href:H,...i})),M.map(({key:H,link:X})=>U.createElement("link",{key:H,nonce:i.nonce,...X})))}function hb(...a){return t=>{a.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fb&&(window.__reactRouterVersion="7.11.0")}catch{}function db({basename:a,children:t,unstable_useTransitions:i,window:r}){let o=U.useRef();o.current==null&&(o.current=HS({window:r,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),y=U.useCallback(v=>{i===!1?m(v):U.startTransition(()=>m(v))},[i]);return U.useLayoutEffect(()=>u.listen(y),[u,y]),U.createElement(BA,{basename:a,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sm=U.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:R,...M},H){let{basename:X,unstable_useTransitions:F}=U.useContext(wn),J=typeof v=="string"&&kE.test(v),et=NE(v,X);v=et.to;let st=AA(v,{relative:o}),[mt,vt,at]=lb(r,M),C=yb(v,{replace:f,state:m,target:y,preventScrollReset:T,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:F});function w(V){t&&t(V),V.defaultPrevented||C(V)}let N=U.createElement("a",{...M,...at,href:et.absoluteURL||st,onClick:et.isExternal||u?t:w,ref:hb(H,vt),target:y,"data-discover":!J&&i==="render"?"true":void 0});return mt&&!J?U.createElement(U.Fragment,null,N,U.createElement(ob,{page:st})):N});Sm.displayName="Link";var mb=U.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...v},T){let S=Lo(f,{relative:v.relative}),R=Mi(),M=U.useContext($c),{navigator:H,basename:X}=U.useContext(wn),F=M!=null&&Ab(S)&&m===!0,J=H.encodeLocation?H.encodeLocation(S).pathname:S.pathname,et=R.pathname,st=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(et=et.toLowerCase(),st=st?st.toLowerCase():null,J=J.toLowerCase()),st&&X&&(st=ea(st,X)||st);const mt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let vt=et===J||!o&&et.startsWith(J)&&et.charAt(mt)==="/",at=st!=null&&(st===J||!o&&st.startsWith(J)&&st.charAt(J.length)==="/"),C={isActive:vt,isPending:at,isTransitioning:F},w=vt?t:void 0,N;typeof r=="function"?N=r(C):N=[r,vt?"active":null,at?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return U.createElement(Sm,{...v,"aria-current":w,className:N,ref:T,style:V,to:f,viewTransition:m},typeof y=="function"?y(C):y)});mb.displayName="NavLink";var pb=U.forwardRef(({discover:a="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:u,method:f=Rc,action:m,onSubmit:y,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:R,...M},H)=>{let{unstable_useTransitions:X}=U.useContext(wn),F=Tb(),J=Sb(m,{relative:v}),et=f.toLowerCase()==="get"?"get":"post",st=typeof m=="string"&&kE.test(m),mt=vt=>{if(y&&y(vt),vt.defaultPrevented)return;vt.preventDefault();let at=vt.nativeEvent.submitter,C=at?.getAttribute("formmethod")||f,w=()=>F(at||vt.currentTarget,{fetcherKey:t,method:C,navigate:i,replace:o,state:u,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:R});X&&i!==!1?U.startTransition(()=>w()):w()};return U.createElement("form",{ref:H,method:et,action:J,onSubmit:r?y:mt,...M,"data-discover":!st&&a==="render"?"true":void 0})});pb.displayName="Form";function gb(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(a){let t=U.useContext(Jr);return oe(t,gb(a)),t}function yb(a,{target:t,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let v=tl(),T=Mi(),S=Lo(a,{relative:u});return U.useCallback(R=>{if(YA(R,t)){R.preventDefault();let M=i!==void 0?i:bo(T)===bo(S),H=()=>v(a,{replace:M,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});y?U.startTransition(()=>H()):H()}},[T,v,S,i,r,t,a,o,u,f,m,y])}function vb(a){fn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=U.useRef(Bd(a)),i=U.useRef(!1),r=Mi(),o=U.useMemo(()=>KA(r.search,i.current?null:t.current),[r.search]),u=tl(),f=U.useCallback((m,y)=>{const v=Bd(typeof m=="function"?m(new URLSearchParams(o)):m);i.current=!0,u("?"+v,y)},[u,o]);return[o,f]}var _b=0,Eb=()=>`__${String(++_b)}__`;function Tb(){let{router:a}=BE("useSubmit"),{basename:t}=U.useContext(wn),i=LA(),r=a.fetch,o=a.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:y,encType:v,formData:T,body:S}=ZA(u,t);if(f.navigate===!1){let R=f.fetcherKey||Eb();await r(R,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||y,formEncType:f.encType||v,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||y,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,t,i])}function Sb(a,{relative:t}={}){let{basename:i}=U.useContext(wn),r=U.useContext(ni);oe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Lo(a||".",{relative:t})},f=Mi();if(a==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(T=>T==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();u.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Wi([i,u.pathname])),bo(u)}function Ab(a,{relative:t}={}){let i=U.useContext(IE);oe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BE("useViewTransitionState"),o=Lo(a,{relative:t});if(!i.isTransitioning)return!1;let u=ea(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=ea(i.nextLocation.pathname,r)||i.nextLocation.pathname;return jc(o.pathname,f)!=null||jc(o.pathname,u)!=null}const bb=()=>{const a=tl(),t=zs.getCurrentUser(),[i,r]=U.useState(null),o=[{id:"quy-phong",title:"Qu Phng",icon:"",path:"/quy-phong",color:"#3b82f6",description:"Qun l qu chung ca phng"},{id:"accounts",title:"Ti Khon",icon:"",path:"/accounts",color:"#10b981",adminOnly:!0,description:"Qun l ti khon ngi dng"},{id:"persons",title:"Ngi Dng",icon:"",path:"/admin/persons",color:"#f59e0b",adminOnly:!0,description:"Qun l thng tin c nhn"},{id:"transactions",title:"Giao Dch",icon:"",path:"/admin/transactions",color:"#8b5cf6",adminOnly:!0,description:"Xem lch s giao dch"}],u=()=>t?.role=="admin"?o:o.filter(m=>!m.adminOnly),f=m=>{a(m)};return t?p.jsxs("div",{className:"dashboard-container",children:[p.jsx("div",{className:"atom-container",children:p.jsxs("div",{className:"atom-scene",children:[p.jsx("div",{className:"nucleus",children:p.jsxs("div",{className:"nucleus-inner",children:[p.jsxs("div",{className:"nucleus-core",children:[p.jsx("div",{className:"user-avatar",children:t.username?.charAt(0).toUpperCase()}),p.jsxs("div",{className:"nucleus-label",children:[p.jsx("div",{className:"nucleus-text",children:t.username}),p.jsxs("p",{children:["@",t.username]}),p.jsx("span",{className:`role-badge ${t.role}`,children:t.role==="admin"?" Qun tr vin":" Ngi dng"})]})]}),p.jsxs("div",{className:"nucleus-glow",children:[p.jsxs("div",{className:"info-item",children:[p.jsx("span",{className:"info-icon",children:""}),p.jsxs("div",{className:"info-content",children:[p.jsx("span",{className:"info-label",children:"M ngi dng"}),p.jsx("span",{className:"info-value",children:t.codePerson})]})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("span",{className:"info-icon",children:""}),p.jsxs("div",{className:"info-content",children:[p.jsx("span",{className:"info-label",children:"Vai tr"}),p.jsx("span",{className:"info-value",children:t.role==="admin"?"Qun tr vin":"Ngi dng"})]})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("span",{className:"info-icon",children:""}),p.jsxs("div",{className:"info-content",children:[p.jsx("span",{className:"info-label",children:"ng nhp lc"}),p.jsx("span",{className:"info-value",children:zs.getLoginTime()?.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("span",{className:"info-icon",children:""}),p.jsxs("div",{className:"info-content",children:[p.jsx("span",{className:"info-label",children:"Ngy"}),p.jsx("span",{className:"info-value",children:new Date().toLocaleDateString("vi-VN")})]})]})]})]})}),p.jsx("div",{className:"function-cards",children:u().map((m,y)=>p.jsxs("div",{className:"electron",style:{backgroundColor:m.color},onClick:()=>f(m.path),onMouseEnter:()=>r(m.id),onMouseLeave:()=>r(null),children:[p.jsxs("div",{className:"electron-inner",style:{backgroundColor:m.color},children:[p.jsx("span",{className:"electron-icon",children:m.icon}),p.jsx("span",{className:"electron-glow"})]}),p.jsx("div",{className:"electron-label",children:p.jsx("span",{children:m.title})})]},m.id))})]})}),[...Array(15)].map((m,y)=>p.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${10+Math.random()*10}s`}},y))]}):null};function wb({stats:a}){const t=i=>new Intl.NumberFormat("vi-VN").format(i)+" ";return p.jsxs("div",{className:"header",children:[p.jsx("div",{className:"header-top",children:p.jsx("h1",{children:" Qun L Qu Phng"})}),p.jsxs("div",{className:"stats",children:[p.jsxs("div",{className:"stat-card balance",children:[p.jsx("div",{className:"stat-label",children:"Tng Qu Hin Ti"}),p.jsx("div",{className:`stat-value ${a.currentFund>=0?"positive":"negative"}`,children:t(a.currentFund)}),p.jsx("div",{className:"stat-note",children:" hon thnh"})]}),p.jsxs("div",{className:"stat-card pending",children:[p.jsx("div",{className:"stat-label",children:"Qu Cha Thu"}),p.jsx("div",{className:"stat-value warning",children:t(a.pendingFund)}),p.jsx("div",{className:"stat-note",children:"ang ch"})]})]})]})}const Rb=({startDate:a,endDate:t,onStartDateChange:i,onEndDateChange:r})=>{const[o,u]=U.useState(!1),[f,m]=U.useState(new Date),[y,v]=U.useState(!0),[T,S]=U.useState(a||""),[R,M]=U.useState(t||""),H=U.useRef(null);U.useEffect(()=>{const D=L=>{H.current&&!H.current.contains(L.target)&&u(!1)};return o&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[o]);const X=D=>{const L=D.getFullYear(),x=D.getMonth(),ot=new Date(L,x,1),Y=new Date(L,x+1,0).getDate(),it=ot.getDay();return{daysInMonth:Y,startingDayOfWeek:it,year:L,month:x}},F=D=>D?new Date(D).toLocaleDateString("vi-VN"):"",J=D=>{const L=D.getFullYear(),x=String(D.getMonth()+1).padStart(2,"0"),ot=String(D.getDate()).padStart(2,"0");return`${L}-${x}-${ot}`},et=D=>{const L=new Date(f.getFullYear(),f.getMonth(),D),x=J(L);if(y)S(x),M(""),v(!1);else{const ot=new Date(T);L<ot?(S(x),M(T)):M(x)}},st=()=>{i(T),r(R),u(!1),v(!0)},mt=()=>{S(a||""),M(t||""),u(!1),v(!0)},vt=D=>{if(!T||!R)return!1;const L=new Date(f.getFullYear(),f.getMonth(),D),x=new Date(T),ot=new Date(R);return L>=x&&L<=ot},at=D=>{const L=J(new Date(f.getFullYear(),f.getMonth(),D));return L===T||L===R},C=()=>{m(new Date(f.getFullYear(),f.getMonth()-1))},w=()=>{m(new Date(f.getFullYear(),f.getMonth()+1))},N=()=>{const{daysInMonth:D,startingDayOfWeek:L,year:x,month:ot}=X(f),It=[],Y=["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"];for(let it=0;it<L;it++)It.push(p.jsx("div",{className:"calendar-day empty"},`empty-${it}`));for(let it=1;it<=D;it++){const pt=at(it),Lt=vt(it),Ht=new Date().toDateString()===new Date(x,ot,it).toDateString();It.push(p.jsx("div",{className:`calendar-day ${pt?"selected":""} ${Lt?"in-range":""} ${Ht?"today":""}`,onClick:()=>et(it),children:it},it))}return p.jsxs("div",{className:"calendar-popup",children:[p.jsxs("div",{className:"calendar-header",children:[p.jsx("button",{className:"calendar-nav",onClick:C,type:"button",children:""}),p.jsx("div",{className:"calendar-month",children:`${Y[ot]}, ${x}`}),p.jsx("button",{className:"calendar-nav",onClick:w,type:"button",children:""})]}),p.jsx("div",{className:"calendar-weekdays",children:["CN","T2","T3","T4","T5","T6","T7"].map(it=>p.jsx("div",{className:"calendar-weekday",children:it},it))}),p.jsx("div",{className:"calendar-grid",children:It}),p.jsxs("div",{className:"calendar-footer",children:[p.jsx("button",{className:"btn-cancel",onClick:mt,type:"button",children:"Hy"}),p.jsx("button",{className:"btn-confirm",onClick:st,type:"button",children:"Xc nhn"})]})]})},V=T&&R?`${F(T)}  ${F(R)}`:a&&t?`${F(a)}  ${F(t)}`:"Chn khong thi gian";return p.jsxs("div",{className:"date-range-picker",ref:H,children:[p.jsxs("div",{className:"date-range-input",onClick:()=>u(!o),children:[p.jsx("span",{className:"input-icon",children:""}),p.jsx("span",{className:"input-text",children:V}),p.jsx("span",{className:"input-arrow",children:o?"":""})]}),o&&N()]})};function Cb({searchQuery:a,setSearchQuery:t,personFilter:i,setPersonFilter:r,statusFilter:o,setStatusFilter:u,persons:f,startDate:m,setStartDate:y,endDate:v,setEndDate:T}){return p.jsxs("div",{className:"filters-container",children:[p.jsx("div",{className:"search-bar-main",children:p.jsxs("div",{className:"search-input-wrapper",children:[p.jsx("span",{className:"search-icon",children:""}),p.jsx("input",{type:"text",placeholder:"Tm kim theo ni dung, s tin, ngi...",value:a,onChange:S=>t(S.target.value),className:"search-input-main"}),a&&p.jsx("button",{className:"clear-search",onClick:()=>t(""),title:"Xa tm kim",type:"button",children:""})]})}),p.jsxs("div",{className:"filters-row",children:[p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" Khong thi gian"}),p.jsx(Rb,{startDate:m||"",endDate:v||"",onStartDateChange:y||(()=>{}),onEndDateChange:T||(()=>{})})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" Ngi"}),p.jsxs("select",{value:i,onChange:S=>r(S.target.value),children:[p.jsx("option",{value:"all",children:"Tt c"}),f.map(S=>p.jsxs("option",{value:S.id,children:[S.name," - ",S.code]},S.id))]})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" Trng thi"}),p.jsxs("select",{value:o,onChange:S=>u(S.target.value),children:[p.jsx("option",{value:"all",children:"Tt c"}),p.jsx("option",{value:"pending",children:"Cha thu"}),p.jsx("option",{value:"completed",children:" thu"})]})]})]})]})}function Am(){return p.jsxs("div",{className:"loader-container",children:[p.jsxs("div",{className:"bg-particles",children:[p.jsx("div",{className:"particle particle-1"}),p.jsx("div",{className:"particle particle-2"}),p.jsx("div",{className:"particle particle-3"})]}),p.jsxs("div",{className:"floating-shapes",children:[p.jsx("div",{className:"shape shape-1"}),p.jsx("div",{className:"shape shape-2"}),p.jsx("div",{className:"shape shape-3"}),p.jsx("div",{className:"shape shape-4"})]}),p.jsxs("div",{className:"loader-content",children:[p.jsxs("div",{className:"spinner-container",children:[p.jsx("div",{className:"spinner-ring ring-1"}),p.jsx("div",{className:"spinner-ring ring-2"}),p.jsx("div",{className:"spinner-ring ring-3"}),p.jsx("div",{className:"hourglass-icon",children:""})]}),p.jsxs("div",{className:"loader-text",children:[p.jsx("h2",{className:"loading-title",children:"ang ti d liu t Firebase..."}),p.jsxs("div",{className:"loading-dots",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}),p.jsx("p",{className:"loading-subtitle",children:"Vui lng i trong giy lt"})]}),p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill"})})]})]})}function xb({filteredTransactions:a,formatCurrency:t,searchQuery:i}){return p.jsxs("div",{className:"transactions",children:[p.jsx("div",{children:p.jsxs("div",{children:[p.jsx("strong",{children:" Tng s giao dch:"})," ",a.length]})}),p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Ngy"}),p.jsx("th",{children:"S tin"}),p.jsx("th",{children:"Loi"}),p.jsx("th",{children:"Ni dung"}),p.jsx("th",{children:"Ngi"}),p.jsx("th",{children:"Trng thi"})]})}),p.jsx("tbody",{children:a.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"empty-state",children:i?" Khng tm thy kt qu ph hp":" Cha c giao dch no"})}):a.map(r=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsxs("div",{className:"date-info",children:[p.jsx("span",{className:"day-of-week",children:r.dayOfWeek}),p.jsx("span",{className:"date-text",children:new Date(r.date).toLocaleDateString("vi-VN")})]})}),p.jsx("td",{children:p.jsxs("span",{className:`amount ${r.type==="thu"?"positive":"negative"}`,children:[r.type==="thu"?"+":"-",t(r.amount)]})}),p.jsx("td",{children:p.jsx("span",{className:`badge ${r.type==="thu"?"income":"expense"}`,children:r.type==="thu"?"Thu":"Chi"})}),p.jsx("td",{children:r.description}),p.jsxs("td",{children:[" ",r.personName]}),p.jsx("td",{children:p.jsx("span",{className:`badge ${r.status}`,children:r.status==="completed"?"  thu":" Cha thu"})})]},r.id))})]})]})}const bm=()=>p.jsx("div",{className:"loading-overlay",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-glow"}),p.jsxs("div",{className:"loading-content",children:[p.jsxs("div",{className:"spinner-wrapper",children:[p.jsx("div",{className:"spinner-ring"}),p.jsx("div",{className:"spinner-animated"}),p.jsx("div",{className:"spinner-glow"})]}),p.jsxs("div",{className:"loading-text-wrapper",children:[p.jsx("p",{className:"loading-text",children:"ang x l"}),p.jsxs("div",{className:"loading-dots",children:[p.jsx("span",{className:"dot dot-1"}),p.jsx("span",{className:"dot dot-2"}),p.jsx("span",{className:"dot dot-3"})]})]})]})]})}),Nb=()=>{};var n_={};const qE=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Db=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],m=a[i++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=a[i++],f=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,m=f?a[o+1]:0,y=o+2<a.length,v=y?a[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|v>>6,M=v&63;y||(M=64,f||(R=64)),r.push(i[T],i[S],i[R],i[M])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(qE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):Db(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||m==null||v==null||S==null)throw new Ib;const R=u<<2|m>>4;if(r.push(R),v!==64){const M=m<<4&240|v>>2;if(r.push(M),S!==64){const H=v<<6&192|S;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Ib extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vb=function(a){const t=qE(a);return HE.encodeByteArray(t,!0)},Oc=function(a){return Vb(a).replace(/\./g,"")},Mb=function(a){try{return HE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ob=()=>jb().__FIREBASE_DEFAULTS__,Lb=()=>{if(typeof process>"u"||typeof n_>"u")return;const a=n_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Ub=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Mb(a[1]);return t&&JSON.parse(t)},wm=()=>{try{return Nb()||Ob()||Lb()||Ub()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Pb=a=>wm()?.emulatorHosts?.[a],zb=a=>{const t=Pb(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},FE=()=>wm()?.config;class kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Rm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bb(a){return(await fetch(a,{credentials:"include"})).ok}function qb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Oc(JSON.stringify(i)),Oc(JSON.stringify(f)),""].join(".")}const _o={};function Hb(){const a={prod:[],emulator:[]};for(const t of Object.keys(_o))_o[t]?a.emulator.push(t):a.prod.push(t);return a}function Fb(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let i_=!1;function Gb(a,t){if(typeof window>"u"||typeof document>"u"||!Rm(window.location.host)||_o[a]===t||_o[a]||i_)return;_o[a]=t;function i(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=Hb().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,M){R.setAttribute("width","24"),R.setAttribute("id",M),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function v(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{i_=!0,f()},R}function T(R,M){R.setAttribute("id",M),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=Fb(r),M=i("text"),H=document.getElementById(M)||document.createElement("span"),X=i("learnmore"),F=document.getElementById(X)||document.createElement("a"),J=i("preprendIcon"),et=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const st=R.element;m(st),T(F,X);const mt=v();y(et,J),st.append(et,H,F,mt),document.body.appendChild(st)}u?(H.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Qb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){const a=wm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Xb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GE(){try{return typeof indexedDB=="object"}catch{return!1}}function QE(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}function $b(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Zb="FirebaseError";class ts extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Zb,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Jb(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ts(o,m,r)}}function Jb(a,t){return a.replace(Wb,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Wb=/\{\$([^}]+)}/g;function wo(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=a[o],f=t[o];if(a_(u)&&a_(f)){if(!wo(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function a_(a){return a!==null&&typeof a=="object"}const tw=1e3,ew=2,nw=14400*1e3,iw=.5;function s_(a,t=tw,i=ew){const r=t*Math.pow(i,a),o=Math.round(iw*r*(Math.random()-.5)*2);return Math.min(nw,r+o)}function kn(a){return a&&a._delegate?a._delegate:a}class na{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Os="[DEFAULT]";class aw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new kb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rw(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sw(a){return a===Os?void 0:a}function rw(a){return a.instantiationMode==="EAGER"}class lw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new aw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(kt||(kt={}));const ow={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},uw=kt.INFO,cw={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},hw=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=cw[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=uw,this._logHandler=hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ow[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const fw=(a,t)=>t.some(i=>a instanceof i);let r_,l_;function dw(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mw(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,qd=new WeakMap,KE=new WeakMap,Cd=new WeakMap,xm=new WeakMap;function pw(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(qa(a.result)),o()},f=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&YE.set(i,a)}).catch(()=>{}),xm.set(t,a),t}function gw(a){if(qd.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});qd.set(a,t)}let Hd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return qd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||KE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qa(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function yw(a){Hd=a(Hd)}function vw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(xd(this),t,...i);return KE.set(r,t.sort?t.sort():[t]),qa(r)}:mw().includes(a)?function(...t){return a.apply(xd(this),t),qa(YE.get(this))}:function(...t){return qa(a.apply(xd(this),t))}}function _w(a){return typeof a=="function"?vw(a):(a instanceof IDBTransaction&&gw(a),fw(a,dw())?new Proxy(a,Hd):a)}function qa(a){if(a instanceof IDBRequest)return pw(a);if(Cd.has(a))return Cd.get(a);const t=_w(a);return t!==a&&(Cd.set(a,t),xm.set(t,a)),t}const xd=a=>xm.get(a);function XE(a,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(a,t),m=qa(f);return r&&f.addEventListener("upgradeneeded",y=>{r(qa(f.result),y.oldVersion,y.newVersion,qa(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Ew=["get","getKey","getAll","getAllKeys","count"],Tw=["put","add","delete","clear"],Nd=new Map;function o_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Tw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Ew.includes(i)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[i](...m),o&&y.done]))[0]};return Nd.set(t,u),u}yw(a=>({...a,get:(t,i,r)=>o_(t,i)||a.get(t,i,r),has:(t,i)=>!!o_(t,i)||a.has(t,i)}));class Sw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Aw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Aw(a){return a.getComponent()?.type==="VERSION"}const Fd="@firebase/app",u_="0.14.6";const ia=new Cm("@firebase/app"),bw="@firebase/app-compat",ww="@firebase/analytics-compat",Rw="@firebase/analytics",Cw="@firebase/app-check-compat",xw="@firebase/app-check",Nw="@firebase/auth",Dw="@firebase/auth-compat",Iw="@firebase/database",Vw="@firebase/data-connect",Mw="@firebase/database-compat",jw="@firebase/functions",Ow="@firebase/functions-compat",Lw="@firebase/installations",Uw="@firebase/installations-compat",Pw="@firebase/messaging",zw="@firebase/messaging-compat",kw="@firebase/performance",Bw="@firebase/performance-compat",qw="@firebase/remote-config",Hw="@firebase/remote-config-compat",Fw="@firebase/storage",Gw="@firebase/storage-compat",Qw="@firebase/firestore",Yw="@firebase/ai",Kw="@firebase/firestore-compat",Xw="firebase",$w="12.6.0";const Gd="[DEFAULT]",Zw={[Fd]:"fire-core",[bw]:"fire-core-compat",[Rw]:"fire-analytics",[ww]:"fire-analytics-compat",[xw]:"fire-app-check",[Cw]:"fire-app-check-compat",[Nw]:"fire-auth",[Dw]:"fire-auth-compat",[Iw]:"fire-rtdb",[Vw]:"fire-data-connect",[Mw]:"fire-rtdb-compat",[jw]:"fire-fn",[Ow]:"fire-fn-compat",[Lw]:"fire-iid",[Uw]:"fire-iid-compat",[Pw]:"fire-fcm",[zw]:"fire-fcm-compat",[kw]:"fire-perf",[Bw]:"fire-perf-compat",[qw]:"fire-rc",[Hw]:"fire-rc-compat",[Fw]:"fire-gcs",[Gw]:"fire-gcs-compat",[Qw]:"fire-fst",[Kw]:"fire-fst-compat",[Yw]:"fire-vertex","fire-js":"fire-js",[Xw]:"fire-js-all"};const Lc=new Map,Jw=new Map,Qd=new Map;function c_(a,t){try{a.container.addComponent(t)}catch(i){ia.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Qa(a){const t=a.name;if(Qd.has(t))return ia.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,a);for(const i of Lc.values())c_(i,a);for(const i of Jw.values())c_(i,a);return!0}function Uo(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Ww(a){return a==null?!1:a.settings!==void 0}const t2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Jc("app","Firebase",t2);class e2{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}const n2=$w;function $E(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Gd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ha.create("bad-app-name",{appName:String(o)});if(i||(i=FE()),!i)throw Ha.create("no-options");const u=Lc.get(o);if(u){if(wo(i,u.options)&&wo(r,u.config))return u;throw Ha.create("duplicate-app",{appName:o})}const f=new lw(o);for(const y of Qd.values())f.addComponent(y);const m=new e2(i,r,f);return Lc.set(o,m),m}function ZE(a=Gd){const t=Lc.get(a);if(!t&&a===Gd&&FE())return $E();if(!t)throw Ha.create("no-app",{appName:a});return t}function Ri(a,t,i){let r=Zw[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ia.warn(f.join(" "));return}Qa(new na(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const i2="firebase-heartbeat-database",a2=1,Ro="firebase-heartbeat-store";let Dd=null;function JE(){return Dd||(Dd=XE(i2,a2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ro)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ha.create("idb-open",{originalErrorMessage:a.message})})),Dd}async function s2(a){try{const i=(await JE()).transaction(Ro),r=await i.objectStore(Ro).get(WE(a));return await i.done,r}catch(t){if(t instanceof ts)ia.warn(t.message);else{const i=Ha.create("idb-get",{originalErrorMessage:t?.message});ia.warn(i.message)}}}async function h_(a,t){try{const r=(await JE()).transaction(Ro,"readwrite");await r.objectStore(Ro).put(t,WE(a)),await r.done}catch(i){if(i instanceof ts)ia.warn(i.message);else{const r=Ha.create("idb-set",{originalErrorMessage:i?.message});ia.warn(r.message)}}}function WE(a){return`${a.name}!${a.options.appId}`}const r2=1024,l2=30;class o2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new c2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>l2){const o=h2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ia.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f_(),{heartbeatsToSend:i,unsentEntries:r}=u2(this._heartbeatsCache.heartbeats),o=Oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ia.warn(t),""}}}function f_(){return new Date().toISOString().substring(0,10)}function u2(a,t=r2){const i=[];let r=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),d_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class c2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GE()?QE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await s2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function d_(a){return Oc(JSON.stringify({version:2,heartbeats:a})).length}function h2(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function f2(a){Qa(new na("platform-logger",t=>new Sw(t),"PRIVATE")),Qa(new na("heartbeat",t=>new o2(t),"PRIVATE")),Ri(Fd,u_,a),Ri(Fd,u_,"esm2020"),Ri("fire-js","")}f2("");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fa,t0;(function(){var a;function t(C,w){function N(){}N.prototype=w.prototype,C.F=w.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(V,D,L){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,N){N||(N=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(D=0;D<16;++D)V[D]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=C.g[0],N=C.g[1],D=C.g[2];let L=C.g[3],x;x=w+(L^N&(D^L))+V[0]+3614090360&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(D^w&(N^D))+V[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=D+(N^L&(w^N))+V[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=N+(w^D&(L^w))+V[3]+3250441966&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(L^N&(D^L))+V[4]+4118548399&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(D^w&(N^D))+V[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=D+(N^L&(w^N))+V[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=N+(w^D&(L^w))+V[7]+4249261313&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(L^N&(D^L))+V[8]+1770035416&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(D^w&(N^D))+V[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=D+(N^L&(w^N))+V[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=N+(w^D&(L^w))+V[11]+2304563134&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(L^N&(D^L))+V[12]+1804603682&4294967295,w=N+(x<<7&4294967295|x>>>25),x=L+(D^w&(N^D))+V[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=D+(N^L&(w^N))+V[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=N+(w^D&(L^w))+V[15]+1236535329&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(D^L&(N^D))+V[1]+4129170786&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^D&(w^N))+V[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(L^w))+V[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(D^L))+V[0]+3921069994&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(D^L&(N^D))+V[5]+3593408605&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^D&(w^N))+V[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(L^w))+V[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(D^L))+V[4]+3889429448&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(D^L&(N^D))+V[9]+568446438&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^D&(w^N))+V[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(L^w))+V[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(D^L))+V[8]+1163531501&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(D^L&(N^D))+V[13]+2850285829&4294967295,w=N+(x<<5&4294967295|x>>>27),x=L+(N^D&(w^N))+V[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(L^w))+V[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=N+(L^w&(D^L))+V[12]+2368359562&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(N^D^L)+V[5]+4294588738&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^D)+V[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=D+(L^w^N)+V[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=N+(D^L^w)+V[14]+4259657740&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(N^D^L)+V[1]+2763975236&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^D)+V[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=D+(L^w^N)+V[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=N+(D^L^w)+V[10]+3200236656&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(N^D^L)+V[13]+681279174&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^D)+V[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=D+(L^w^N)+V[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=N+(D^L^w)+V[6]+76029189&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(N^D^L)+V[9]+3654602809&4294967295,w=N+(x<<4&4294967295|x>>>28),x=L+(w^N^D)+V[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=D+(L^w^N)+V[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=N+(D^L^w)+V[2]+3299628645&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(D^(N|~L))+V[0]+4096336452&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~D))+V[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=D+(w^(L|~N))+V[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=N+(L^(D|~w))+V[5]+4237533241&4294967295,N=D+(x<<21&4294967295|x>>>11),x=w+(D^(N|~L))+V[12]+1700485571&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~D))+V[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=D+(w^(L|~N))+V[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=N+(L^(D|~w))+V[1]+2240044497&4294967295,N=D+(x<<21&4294967295|x>>>11),x=w+(D^(N|~L))+V[8]+1873313359&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~D))+V[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=D+(w^(L|~N))+V[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=N+(L^(D|~w))+V[13]+1309151649&4294967295,N=D+(x<<21&4294967295|x>>>11),x=w+(D^(N|~L))+V[4]+4149444226&4294967295,w=N+(x<<6&4294967295|x>>>26),x=L+(N^(w|~D))+V[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=D+(w^(L|~N))+V[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=N+(L^(D|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const N=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=N;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(V[D++]=C.charCodeAt(L++),D==this.blockSize){o(this,V),D=0;break}}else for(;L<w;)if(V[D++]=C[L++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)C[w++]=this.g[N]>>>V&255;return C};function u(C,w){var N=m;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=w(C)}function f(C,w){this.h=w;const N=[];let V=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;V&&L==w||(N[D]=L,V=!1)}this.g=N}var m={};function y(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return F(v(-C));const w=[];let N=1;for(let V=0;C>=N;V++)w[V]=C/N|0,N*=4294967296;return new f(w,0)}function T(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return F(T(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(w,8));let V=S;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+D),w);D<8?(D=v(Math.pow(w,D)),V=V.j(D).add(v(x))):(V=V.j(N),V=V.add(v(x)))}return V}var S=y(0),R=y(1),M=y(16777216);a=f.prototype,a.m=function(){if(X(this))return-F(this).m();let C=0,w=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(H(this))return"0";if(X(this))return"-"+F(this).toString(C);const w=v(Math.pow(C,6));var N=this;let V="";for(;;){const D=mt(N,w).g;N=J(N,D.j(w));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,H(N))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function H(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function X(C){return C.h==-1}a.l=function(C){return C=J(this,C),X(C)?-1:H(C)?0:1};function F(C){const w=C.g.length,N=[];for(let V=0;V<w;V++)N[V]=~C.g[V];return new f(N,~C.h).add(R)}a.abs=function(){return X(this)?F(this):this},a.add=function(C){const w=Math.max(this.g.length,C.g.length),N=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(C.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=x>>>16,L&=65535,x&=65535,N[D]=x<<16|L}return new f(N,N[N.length-1]&-2147483648?-1:0)};function J(C,w){return C.add(F(w))}a.j=function(C){if(H(this)||H(C))return S;if(X(this))return X(C)?F(this).j(F(C)):F(F(this).j(C));if(X(C))return F(this.j(F(C)));if(this.l(M)<0&&C.l(M)<0)return v(this.m()*C.m());const w=this.g.length+C.g.length,N=[];for(var V=0;V<2*w;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const L=this.i(V)>>>16,x=this.i(V)&65535,ot=C.i(D)>>>16,It=C.i(D)&65535;N[2*V+2*D]+=x*It,et(N,2*V+2*D),N[2*V+2*D+1]+=L*It,et(N,2*V+2*D+1),N[2*V+2*D+1]+=x*ot,et(N,2*V+2*D+1),N[2*V+2*D+2]+=L*ot,et(N,2*V+2*D+2)}for(C=0;C<w;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=w;C<2*w;C++)N[C]=0;return new f(N,0)};function et(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function st(C,w){this.g=C,this.h=w}function mt(C,w){if(H(w))throw Error("division by zero");if(H(C))return new st(S,S);if(X(C))return w=mt(F(C),w),new st(F(w.g),F(w.h));if(X(w))return w=mt(C,F(w)),new st(F(w.g),w.h);if(C.g.length>30){if(X(C)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var N=R,V=w;V.l(C)<=0;)N=vt(N),V=vt(V);var D=at(N,1),L=at(V,1);for(V=at(V,2),N=at(N,2);!H(V);){var x=L.add(V);x.l(C)<=0&&(D=D.add(N),L=x),V=at(V,1),N=at(N,1)}return w=J(C,D.j(w)),new st(D,w)}for(D=S;C.l(w)>=0;){for(N=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=v(N),x=L.j(w);X(x)||x.l(C)>0;)N-=V,L=v(N),x=L.j(w);H(L)&&(L=R),D=D.add(L),C=J(C,x)}return new st(D,C)}a.B=function(C){return mt(this,C).h},a.and=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)&C.i(V);return new f(N,this.h&C.h)},a.or=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)|C.i(V);return new f(N,this.h|C.h)},a.xor=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)^C.i(V);return new f(N,this.h^C.h)};function vt(C){const w=C.g.length+1,N=[];for(let V=0;V<w;V++)N[V]=C.i(V)<<1|C.i(V-1)>>>31;return new f(N,C.h)}function at(C,w){const N=w>>5;w%=32;const V=C.g.length-N,D=[];for(let L=0;L<V;L++)D[L]=w>0?C.i(L+N)>>>w|C.i(L+N+1)<<32-w:C.i(L+N);return new f(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,Fa=f}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var e0,po,n0,xc,Yd,i0,a0,s0;(function(){var a,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(c,g){if(g)t:{var E=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in E))break t;E=E[z]}c=c[c.length-1],b=E[c],g=g(b),g!=b&&g!=null&&t(E,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var E=[],b;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&E.push([b,g[b]]);return E}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,E){return c.call.apply(c.bind,arguments)}function v(c,g,E){return v=y,v.apply(null,arguments)}function T(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,g){function E(){}E.prototype=g.prototype,c.Z=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(b,z,G){for(var rt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)rt[wt-2]=arguments[wt];return g.prototype[z].apply(b,rt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const g=c.length;if(g>0){const E=Array(g);for(let b=0;b<g;b++)E[b]=c[b];return E}return[]}function H(c,g){for(let b=1;b<arguments.length;b++){const z=arguments[b];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const G=z.length||0;c.length=E+G;for(let rt=0;rt<G;rt++)c[E+rt]=z[rt]}else c.push(z)}}class X{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){f.setTimeout(()=>{throw c},0)}function J(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class et{constructor(){this.h=this.g=null}add(g,E){const b=st.get();b.set(g,E),this.h?this.h.next=b:this.g=b,this.h=b}}var st=new X(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,at=!1,C=new et,w=()=>{const c=Promise.resolve(void 0);vt=()=>{c.then(N)}};function N(){for(var c;c=J();){try{c.h.call(c.g)}catch(E){F(E)}var g=st;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}at=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,g),f.removeEventListener("test",E,g)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ot(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(ot,D),ot.prototype.init=function(c,g){const E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),Y=0;function it(c,g,E,b,z){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!b,this.ha=z,this.key=++Y,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,g,E){for(const b in c)g.call(E,c[b],b,c)}function Ht(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function O(c){const g={};for(const E in c)g[E]=c[E];return g}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,g){let E,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(E in b)c[E]=b[E];for(let G=0;G<tt.length;G++)E=tt[G],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function ht(c){this.src=c,this.g={},this.h=0}ht.prototype.add=function(c,g,E,b,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const rt=Ct(c,g,b,z);return rt>-1?(g=c[rt],E||(g.fa=!1)):(g=new it(g,this.src,G,!!b,z),g.fa=E,c.push(g)),g};function Tt(c,g){const E=g.type;if(E in c.g){var b=c.g[E],z=Array.prototype.indexOf.call(b,g,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(pt(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ct(c,g,E,b){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==g&&G.capture==!!E&&G.ha==b)return z}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),De={};function se(c,g,E,b,z){if(Array.isArray(g)){for(let G=0;G<g.length;G++)se(c,g[G],E,b,z);return null}return E=ul(E),c&&c[It]?c.J(g,E,m(b)?!!b.capture:!1,z):is(c,g,E,!1,b,z)}function is(c,g,E,b,z,G){if(!g)throw Error("Invalid event type");const rt=m(z)?!!z.capture:!!z;let wt=as(c);if(wt||(c[Pt]=wt=new ht(c)),E=wt.add(g,E,b,rt,G),E.proxy)return E;if(b=Xs(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)L||(z=rt),z===void 0&&(z=!1),c.addEventListener(g.toString(),b,z);else if(c.attachEvent)c.attachEvent(ii(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Xs(){function c(E){return g.call(c.src,c.listener,E)}const g=ll;return c}function $s(c,g,E,b,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)$s(c,g[G],E,b,z);else b=m(b)?!!b.capture:!!b,E=ul(E),c&&c[It]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],E=Ct(g,E,b,z),E>-1&&(pt(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=as(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ct(g,E,b,z)),(E=c>-1?g[c]:null)&&Zs(E))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])Tt(g.i,c);else{var E=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(E,b,c.capture):g.detachEvent?g.detachEvent(ii(E),b):g.addListener&&g.removeListener&&g.removeListener(b),(E=as(g))?(Tt(E,c),E.h==0&&(E.src=null,g[Pt]=null)):pt(c)}}}function ii(c){return c in De?De[c]:De[c]="on"+c}function ll(c,g){if(c.da)c=!0;else{g=new ot(g,this);const E=c.listener,b=c.ha||c.src;c.fa&&Zs(c),c=E.call(b,g)}return c}function as(c){return c=c[Pt],c instanceof ht?c:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(c){return typeof c=="function"?c:(c[ol]||(c[ol]=function(g){return c.handleEvent(g)}),c[ol])}function ye(){V.call(this),this.i=new ht(this),this.M=this,this.G=null}S(ye,V),ye.prototype[It]=!0,ye.prototype.removeEventListener=function(c,g,E,b){$s(this,c,g,E,b)};function Ie(c,g){var E,b=c.G;if(b)for(E=[];b;b=b.G)E.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var z=g;g=new D(b,c),lt(g,z)}z=!0;let G,rt;if(E)for(rt=E.length-1;rt>=0;rt--)G=g.g=E[rt],z=oa(G,b,!0,g)&&z;if(G=g.g=c,z=oa(G,b,!0,g)&&z,z=oa(G,b,!1,g)&&z,E)for(rt=0;rt<E.length;rt++)G=g.g=E[rt],z=oa(G,b,!1,g)&&z}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const E=c.g[g];for(let b=0;b<E.length;b++)pt(E[b]);delete c.g[g],c.h--}}this.G=null},ye.prototype.J=function(c,g,E,b){return this.i.add(String(c),g,!1,E,b)},ye.prototype.K=function(c,g,E,b){return this.i.add(String(c),g,!0,E,b)};function oa(c,g,E,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let G=0;G<g.length;++G){const rt=g[G];if(rt&&!rt.da&&rt.capture==E){const wt=rt.listener,de=rt.ha||rt.src;rt.fa&&Tt(c.i,rt),z=wt.call(de,b)!==!1&&z}}return z&&!b.defaultPrevented}function _h(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Go(c){c.g=_h(()=>{c.g=null,c.i&&(c.i=!1,Go(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Je extends V{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){V.call(this),this.h=c,this.g={}}S(ss,V);var cl=[];function hl(c){Lt(c.g,function(g,E){this.g.hasOwnProperty(E)&&Zs(g)},c),c.g={}}ss.prototype.N=function(){ss.Z.N.call(this),hl(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=f.JSON.stringify,Eh=f.JSON.parse,Qo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Yo(){}function Ko(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}S(ze,D);function Rn(){D.call(this,"c")}S(Rn,D);var fe={},Xo=null;function Js(){return Xo=Xo||new ye}fe.Ia="serverreachability";function $o(c){D.call(this,fe.Ia,c)}S($o,D);function ai(c){const g=Js();Ie(g,new $o(g))}fe.STAT_EVENT="statevent";function rs(c,g){D.call(this,fe.STAT_EVENT,c),this.stat=g}S(rs,D);function ve(c){const g=Js();Ie(g,new rs(g,c))}fe.Ja="timingevent";function si(c,g){D.call(this,fe.Ja,c),this.size=g}S(si,D);function ri(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Th(c,g,E,b,z,G){c.info(function(){if(c.g)if(G){var rt="",wt=G.split("&");for(let Ft=0;Ft<wt.length;Ft++){var de=wt[Ft].split("=");if(de.length>1){const re=de[0];de=de[1];const Dn=re.split("_");rt=Dn.length>=2&&Dn[1]=="type"?rt+(re+"="+de+"&"):rt+(re+"=redacted&")}}}else rt=null;else rt=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+g+`
`+E+`
`+rt})}function Zo(c,g,E,b,z,G,rt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+g+`
`+E+`
`+G+" "+rt})}function li(c,g,E,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Sh(c,E)+(b?" "+b:"")})}function ls(c,g){c.info(function(){return"TIMEOUT: "+g})}qn.prototype.info=function(){};function Sh(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let rt=1;rt<b.length;rt++)b[rt]=""}}}}return ua(G)}catch{return g}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function us(){}S(us,Yo),us.prototype.g=function(){return new XMLHttpRequest},dl=new us;function ji(c){return encodeURIComponent(String(c))}function Jo(c){var g=1;c=c.split(":");const E=[];for(;g>0&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function Hn(c,g,E,b){this.j=c,this.i=g,this.l=E,this.S=b||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function oi(c,g,E){c.M=1,c.A=cs(Te(g)),c.u=E,c.R=!0,Ws(c,null)}function Ws(c,g){c.F=Date.now(),ui(c),c.B=Te(c.A);var E=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ir(E.i,"t",b),c.C=0,E=c.j.L,c.h=new Fn,c.g=du(c.j,E?g:null,!c.u),c.P>0&&(c.O=new Je(v(c.Y,c,c.g),c.P)),g=c.V,E=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(cl[0]=z.toString()),z=cl);for(let G=0;G<z.length;G++){const rt=se(E,z[G],b||g.handleEvent,!1,g.h||g);if(!rt)break;g.g[rt.key]=rt}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ai(),Th(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Yn(c)==3?g.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Yn(this.g),de=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||wt!=4||de==7||(de==8||Ft<=0?ai(3):ai(2)),ci(this);var g=this.g.ca();this.X=g;var E=Ah(this);if(this.o=g==200,Zo(this.i,this.v,this.B,this.l,this.S,wt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var G=b;break e}}G=null}if(c=G)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,ve(12),dn(this),Cn(this);break t}}if(this.R){c=!0;let re;for(;!this.K&&this.C<E.length;)if(re=tu(this,E),re==Oe){wt==4&&(this.m=4,ve(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ve(15),li(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,re,null),hi(this,re);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||E.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,E,"[Invalid Chunked Response]"),dn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),xl(rt),rt.P=!0,ve(11))}}else li(this.i,this.l,E,null),hi(this,E);wt==4&&dn(this),this.o&&!this.K&&(wt==4?uu(this.j,this):(this.o=!1,ui(this)))}else Li(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),Cn(this)}}}catch{}};function Ah(c){if(!Wo(c))return c.g.la();const g=ke(c.g);if(g==="")return"";let E="";const b=g.length,z=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,E+=c.h.i.decode(g[G],{stream:!(z&&G==b-1)});return g.length=0,c.h.g+=E,c.C=0,c.h.g}function Wo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function tu(c,g){var E=c.C,b=g.indexOf(`
`,E);return b==-1?Oe:(E=Number(g.substring(E,b)),isNaN(E)?_e:(b+=1,b+E>g.length?Oe:(g=g.slice(b,b+E),c.C=b+E,g)))}Hn.prototype.cancel=function(){this.K=!0,dn(this)};function ui(c){c.T=Date.now()+c.H,tr(c,c.H)}function tr(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(v(c.aa,c),g)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ls(this.i,this.B),this.M!=2&&(ai(),ve(17)),dn(this),this.m=2,Cn(this)):tr(this,this.T-c)};function Cn(c){c.j.I==0||c.K||uu(c.j,c)}function dn(c){ci(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,hl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function hi(c,g){try{var E=c.j;if(E.I!=0&&(E.g==c||di(E.h,c))){if(!c.L&&di(E.h,c)&&E.I==3){try{var b=E.Ba.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)or(E),ya(E);else break t;ys(E),ve(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ri(v(E.Va,E),6e3));fi(E.h)<=1&&E.ta&&(E.ta=void 0)}else _i(E,11)}else if((c.L||E.g==c)&&or(E),!x(g))for(z=E.Ba.g.parse(g),g=0;g<z.length;g++){let Ft=z[g];const re=Ft[0];if(!(re<=E.K))if(E.K=re,Ft=Ft[1],E.I==2)if(Ft[0]=="c"){E.M=Ft[1],E.ba=Ft[2];const Dn=Ft[3];Dn!=null&&(E.ka=Dn,E.j.info("VER="+E.ka));const Ei=Ft[4];Ei!=null&&(E.za=Ei,E.j.info("SVER="+E.za));const Kn=Ft[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Xn=c.g;if(Xn){const vs=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var G=b.h;G.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(gl(G,G.h),G.h=null))}if(b.G){const ur=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ur&&(b.wa=ur,Yt(b.J,b.G,ur))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var rt=c;if(b.na=fu(b,b.L?b.ba:null,b.W),rt.L){yl(b.h,rt);var wt=rt,de=b.O;de&&(wt.H=de),wt.D&&(ci(wt),ui(wt)),b.g=rt}else lu(b);E.i.length>0&&vi(E)}else Ft[0]!="stop"&&Ft[0]!="close"||_i(E,7);else E.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?_i(E,7):Rl(E):Ft[0]!="noop"&&E.l&&E.l.qa(Ft),E.A=0)}}ai(4)}catch{}}var Ee=class{constructor(c,g){this.g=c,this.map=g}};function ml(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function gl(c,g){c.g?c.g.add(g):c.h=g}function yl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ml.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.G);return g}return M(c.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function er(c,g){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const b=c[E].indexOf("=");let z,G=null;b>=0?(z=c[E].substring(0,b),G=c[E].substring(b+1)):z=c[E],g(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof mn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,ca(this,c.u),this.h=c.h,_l(this,su(c.i)),this.m=c.m):c&&(g=String(c).match(eu))?(this.l=!1,Le(this,g[1]||"",!0),this.o=mi(g[2]||""),this.g=mi(g[3]||"",!0),ca(this,g[4]),this.h=mi(g[5]||"",!0),_l(this,g[6]||"",!0),this.m=mi(g[7]||"")):(this.l=!1,this.i=new fa(null,this.l))}mn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(hs(g,nr,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(hs(g,nr,!0),"@"),c.push(ji(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(hs(E,E.charAt(0)=="/"?El:nu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",hs(E,iu)),c.join("")},mn.prototype.resolve=function(c){const g=Te(this);let E=!!c.j;E?Le(g,c.j):E=!!c.o,E?g.o=c.o:E=!!c.g,E?g.g=c.g:E=c.u!=null;var b=c.h;if(E)ca(g,c.u);else if(E=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=g.h.lastIndexOf("/");z!=-1&&(b=g.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let rt=0;rt<z.length;){const wt=z[rt++];wt=="."?b&&rt==z.length&&G.push(""):wt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&rt==z.length&&G.push("")):(G.push(wt),b=!0)}b=G.join("/")}else b=z}return E?g.h=b:E=c.i.toString()!=="",E?_l(g,su(c.i)):E=!!c.m,E&&(g.m=c.m),g};function Te(c){return new mn(c)}function Le(c,g,E){c.j=E?mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ca(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function _l(c,g,E){g instanceof fa?(c.i=g,ar(c.i,c.l)):(E||(g=hs(g,ha)),c.i=new fa(g,c.l))}function Yt(c,g,E){c.i.set(g,E)}function cs(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,nn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nr=/[#\/\?@]/g,nu=/[#\?:]/g,El=/[#\?]/g,ha=/[#\?@]/g,iu=/#/g;function fa(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&er(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}a=fa.prototype,a.add=function(c,g){an(this),this.i=null,c=da(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function au(c,g){an(c),g=da(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Tl(c,g){return an(c),g=da(c,g),c.g.has(g)}a.forEach=function(c,g){an(this),this.g.forEach(function(E,b){E.forEach(function(z){c.call(g,z,b,this)},this)},this)};function Sl(c,g){an(c);let E=[];if(typeof g=="string")Tl(c,g)&&(E=E.concat(c.g.get(da(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)E=E.concat(c[g]);return E}a.set=function(c,g){return an(this),this.i=null,c=da(this,c),Tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=Sl(this,c),c.length>0?String(c[0]):g):g};function ir(c,g,E){au(c,g),E.length>0&&(c.i=null,c.g.set(da(c,g),M(E)),c.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let b=0;b<g.length;b++){var E=g[b];const z=ji(E);E=Sl(this,E);for(let G=0;G<E.length;G++){let rt=z;E[G]!==""&&(rt+="="+ji(E[G])),c.push(rt)}}return this.i=c.join("&")};function su(c){const g=new fa;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function da(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ar(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(E,b){const z=b.toLowerCase();b!=z&&(au(this,b),ir(this,z,E))},c)),c.j=g}function Gn(c,g){const E=new qn;if(f.Image){const b=new Image;b.onload=T(xn,E,"TestLoadImage: loaded",!0,g,b),b.onerror=T(xn,E,"TestLoadImage: error",!1,g,b),b.onabort=T(xn,E,"TestLoadImage: abort",!1,g,b),b.ontimeout=T(xn,E,"TestLoadImage: timeout",!1,g,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Al(c,g){const E=new qn,b=new AbortController,z=setTimeout(()=>{b.abort(),xn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?xn(E,"TestPingServer: ok",!0,g):xn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),xn(E,"TestPingServer: error",!1,g)})}function xn(c,g,E,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(E)}catch{}}function ma(){this.g=new Qo}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,Yo),pi.prototype.g=function(){return new fs(this.i,this.h)};function fs(c,g){ye.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(fs,ye),a=fs.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Qn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function sr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?pa(this):Qn(this),this.readyState==3&&sr(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,pa(this))},a.Na=function(c){this.g&&(this.response=c,pa(this))},a.ga=function(){this.g&&pa(this)};function pa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}a.setRequestHeader=function(c,g){this.A.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let g="";return Lt(c,function(E,b){g+=b,g+=":",g+=E,g+=`\r
`}),g}function ds(c,g,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Nn(E),typeof c=="string"?E!=null&&ji(E):Yt(c,g,E))}function $t(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,ye);var gi=/^https?$/i,bl=["POST","PUT"];a=$t.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,g,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=R(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){ms(this,G);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)E.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())E.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(bl,g,void 0)>=0)||b||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of E)this.g.setRequestHeader(G,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){ms(this,G)}};function ms(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,wl(c),Oi(c)}function wl(c){c.A||(c.A=!0,Ie(c,"complete"),Ie(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ie(this,"complete"),Ie(this,"abort"),Oi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),$t.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},a.Xa=function(){ps(this)};function ps(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ie(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const G=c.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var E;if(!(E=g)){var b;if(b=G===0){let rt=String(c.D).match(eu)[1]||null;!rt&&f.self&&f.self.location&&(rt=f.self.location.protocol.slice(0,-1)),b=!gi.test(rt?rt.toLowerCase():"")}E=b}if(E)Ie(c,"complete"),Ie(c,"success");else{c.o=6;try{var z=Yn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",wl(c)}}finally{Oi(c)}}}}function Oi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,g||Ie(c,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Eh(g)}};function ke(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const g={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(x(c[b]))continue;var E=Jo(c[b]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=g[z]||[];g[z]=G,G.push(E)}Ht(g,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function ga(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(c&&c.concurrentRequestLimit),this.Ba=new ma,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ga.prototype,a.ka=8,a.I=1,a.connect=function(c,g,E,b){ve(0),this.W=c,this.H=g||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=fu(this,null,this.W),vi(this)};function Rl(c){if(rr(c),c.I==3){var g=c.V++,E=Te(c.J);if(Yt(E,"SID",c.M),Yt(E,"RID",g),Yt(E,"TYPE","terminate"),gs(c,E),g=new Hn(c,c.j,g),g.M=2,g.A=cs(Te(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=g.A,E=!0),E||(g.g=du(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ui(g)}hu(c)}function ya(c){c.g&&(xl(c),c.g.cancel(),c.g=null)}function rr(c){ya(c),c.v&&(f.clearTimeout(c.v),c.v=null),or(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!pl(c.h)&&!c.m){c.m=!0;var g=c.Ea;vt||w(),at||(vt(),at=!0),C.add(g,c),c.D=0}}function lr(c,g){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(v(c.Ea,c,g),cu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Hn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=O(G),lt(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)t:{for(var g=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,g>4096){g=E;break t}if(g===4096||E===this.i.length-1){g=E+1;break t}}g=1e3}else g=1e3;g=ru(this,z,g),E=Te(this.J),Yt(E,"RID",c),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),gs(this,E),G&&(this.R?g="headers="+ji(Nn(G))+"&"+g:this.u&&ds(E,this.u,G)),gl(this.h,z),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",g),Yt(E,"SID","null"),z.U=!0,oi(z,E,null)):oi(z,E,g),this.I=2}}else this.I==3&&(c?Cl(this,c):this.i.length==0||pl(this.h)||Cl(this))};function Cl(c,g){var E;g?E=g.l:E=c.V++;const b=Te(c.J);Yt(b,"SID",c.M),Yt(b,"RID",E),Yt(b,"AID",c.K),gs(c,b),c.u&&c.o&&ds(b,c.u,c.o),E=new Hn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),g&&(c.i=g.G.concat(c.i)),g=ru(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),gl(c.h,E),oi(E,b,g)}function gs(c,g){c.H&&Lt(c.H,function(E,b){Yt(g,b,E)}),c.l&&Lt({},function(E,b){Yt(g,b,E)})}function ru(c,g,E){E=Math.min(c.i.length,E);const b=c.l?v(c.l.Ka,c.l,c):null;t:{var z=c.i;let wt=-1;for(;;){const de=["count="+E];wt==-1?E>0?(wt=z[0].g,de.push("ofs="+wt)):wt=0:de.push("ofs="+wt);let Ft=!0;for(let re=0;re<E;re++){var G=z[re].g;const Dn=z[re].map;if(G-=wt,G<0)wt=Math.max(0,z[re].g-100),Ft=!1;else try{G="req"+G+"_"||"";try{var rt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ei,Kn]of rt){let Xn=Kn;m(Kn)&&(Xn=ua(Kn)),de.push(G+Ei+"="+encodeURIComponent(Xn))}}catch(Ei){throw de.push(G+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(Dn)}}if(Ft){rt=de.join("&");break t}}rt=void 0}return c=c.i.splice(0,E),g.G=c,rt}function lu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;vt||w(),at||(vt(),at=!0),C.add(g,c),c.A=0}}function ys(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(v(c.Da,c),cu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(v(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ya(this),ou(this))};function xl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ou(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Te(c.na);Yt(g,"RID","rpc"),Yt(g,"SID",c.M),Yt(g,"AID",c.K),Yt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(g,"TO",c.ia),Yt(g,"TYPE","xmlhttp"),gs(c,g),c.u&&c.o&&ds(g,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=cs(Te(g)),E.u=null,E.R=!0,Ws(E,c)}a.Va=function(){this.C!=null&&(this.C=null,ya(this),ys(this),ve(19))};function or(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function uu(c,g){var E=null;if(c.g==g){or(c),xl(c),c.g=null;var b=2}else if(di(c.h,g))E=g.G,yl(c.h,g),b=1;else return;if(c.I!=0){if(g.o)if(b==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;b=Js(),Ie(b,new si(b,E)),vi(c)}else lu(c);else if(z=g.m,z==3||z==0&&g.X>0||!(b==1&&lr(c,g)||b==2&&ys(c)))switch(E&&E.length>0&&(g=c.h,g.i=g.i.concat(E)),z){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function cu(c,g){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*g}function _i(c,g){if(c.j.info("Error code "+g),g==2){var E=v(c.bb,c),b=c.Ua;const z=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(b,"https"),cs(b),z?Gn(b.toString(),E):Al(b.toString(),E)}else ve(2);c.I=0,c.l&&c.l.pa(g),hu(c),rr(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function hu(c){if(c.I=0,c.ja=[],c.l){const g=vl(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function fu(c,g,E){var b=E instanceof mn?Te(E):new mn(E);if(b.g!="")g&&(b.g=g+"."+b.g),ca(b,b.u);else{var z=f.location;b=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const G=new mn(null);b&&Le(G,b),g&&(G.g=g),z&&ca(G,z),E&&(G.h=E),b=G}return E=c.G,g=c.wa,E&&g&&Yt(b,E,g),Yt(b,"VER",c.ka),gs(c,b),b}function du(c,g,E){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $t(new pi({ab:E})):new $t(c.ma),g.Fa(c.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}a=mu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function va(){}va.prototype.g=function(c,g){return new We(c,g)};function We(c,g){ye.call(this),this.g=new ga(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!x(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ui(this)}S(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Rl(this.g)},We.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ua(c),c=E);g.i.push(new Ee(g.Ya++,c)),g.I==3&&vi(g)},We.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,We.Z.N.call(this)};function pu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const E in g){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(pu,ze);function gu(){Rn.call(this),this.status=1}S(gu,Rn);function Ui(c){this.g=c}S(Ui,mu),Ui.prototype.ra=function(){Ie(this.g,"a")},Ui.prototype.qa=function(c){Ie(this.g,new pu(c))},Ui.prototype.pa=function(c){Ie(this.g,new gu)},Ui.prototype.oa=function(){Ie(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,s0=function(){return new va},a0=function(){return Js()},i0=fe,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,xc=os,fl.COMPLETE="complete",n0=fl,Ko.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,po=Ko,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,e0=$t}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",g_="4.9.3";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let el="12.7.0";const ks=new Cm("@firebase/firestore");function zr(){return ks.logLevel}function ct(a,...t){if(ks.logLevel<=kt.DEBUG){const i=t.map(Nm);ks.debug(`Firestore (${el}): ${a}`,...i)}}function aa(a,...t){if(ks.logLevel<=kt.ERROR){const i=t.map(Nm);ks.error(`Firestore (${el}): ${a}`,...i)}}function Qr(a,...t){if(ks.logLevel<=kt.WARN){const i=t.map(Nm);ks.warn(`Firestore (${el}): ${a}`,...i)}}function Nm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Et(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,r0(a,r,i)}function r0(a,t,i){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw aa(r),new Error(r)}function Qt(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||r0(t,o,r)}function bt(a,t){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ts{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class l0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class d2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class m2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class p2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ta,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ta)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new l0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class g2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ww(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _2(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=_2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function jt(a,t){return a<t?-1:a>t?1:0}function Kd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),u=t.charAt(r);if(o!==u)return Id(o)===Id(u)?jt(o,u):Id(o)?1:-1}return jt(a.length,t.length)}const E2=55296,T2=57343;function Id(a){const t=a.charCodeAt(0);return t>=E2&&t<=T2}function Yr(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}const v_="__name__";class wi{constructor(t,i,r){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Et(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=wi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return jt(t.length,i.length)}static compareSegments(t,i){const r=wi.isNumericId(t),o=wi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?wi.extractNumericId(t).compare(wi.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fa.fromString(t.substring(4,t.length-2))}}class ne extends wi{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const S2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends wi{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return S2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new Qe([v_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}function o0(a,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function A2(a,t,i,r){if(t===!0&&r===!0)throw new ut(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function __(a){if(!yt.isDocumentKey(a))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function E_(a){if(yt.isDocumentKey(a))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function u0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Wc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function sa(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wc(a);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function xe(a,t){const i={typeString:a};return t&&(i.value=t),i}function Po(a,t){if(!u0(a))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const f=a[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}const T_=-62135596800,S_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*S_);return new te(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<T_)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Po(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:xe("string",te._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new te(0,0))}static max(){return new St(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Co=-1;function b2(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new te(i+1,0):new te(i,r));return new Ya(o,yt.empty(),t)}function w2(a){return new Ya(a.readTime,a.key,Co)}class Ya{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ya(St.min(),yt.empty(),Co)}static max(){return new Ya(St.max(),yt.empty(),Co)}}function R2(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,t.documentKey),i!==0?i:jt(a.largestBatchId,t.largestBatchId))}const C2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function nl(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==C2)throw a;ct("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.reject(i)}static resolve(t){return new nt(((i,r)=>{i(t)}))}static reject(t){return new nt(((i,r)=>{r(t)}))}static waitFor(t){return new nt(((i,r)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&i()}),(y=>r(y)))})),f=!0,u===o&&i()}))}static or(t){let i=nt.resolve(!1);for(const r of t)i=i.next((o=>o?nt.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new nt(((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const v=y;i(t[v]).next((T=>{f[v]=T,++m,m===u&&r(f)}),(T=>o(T)))}}))}static doWhile(t,i){return new nt(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function N2(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function il(a){return a.name==="IndexedDbTransactionError"}class th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}th.ce=-1;const Im=-1;function eh(a){return a==null}function Uc(a){return a===0&&1/a==-1/0}function D2(a){return typeof a=="number"&&Number.isInteger(a)&&!Uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const c0="";function I2(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=A_(t)),t=V2(a.get(i),t);return A_(t)}function V2(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case c0:i+="";break;default:i+=u}}return i}function A_(a){return a+c0+""}function b_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function es(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function h0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Ge(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(t){return new w_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class w_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Yr(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new f0("Invalid base64 string: "+u):u}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(a){if(Qt(!!a,39018),typeof a=="string"){let t=0;const i=M2.exec(a);if(Qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xa(a){return typeof a=="string"?Ye.fromBase64String(a):Ye.fromUint8Array(a)}const d0="server_timestamp",m0="__type__",p0="__previous_value__",g0="__local_write_time__";function Vm(a){return(a?.mapValue?.fields||{})[m0]?.stringValue===d0}function nh(a){const t=a.mapValue.fields[p0];return Vm(t)?nh(t):t}function xo(a){const t=Ka(a.mapValue.fields[g0].timestampValue);return new te(t.seconds,t.nanos)}class j2{constructor(t,i,r,o,u,f,m,y,v,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=T}}const Pc="(default)";class No{constructor(t,i){this.projectId=t,this.database=i||Pc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}const y0="__type__",O2="__max__",Ac={mapValue:{}},v0="__vector__",zc="value";function $a(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Vm(a)?4:U2(a)?9007199254740991:L2(a)?10:11:Et(28295,{value:a})}function Ii(a,t){if(a===t)return!0;const i=$a(a);if(i!==$a(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return xo(a).isEqual(xo(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ka(o.timestampValue),m=Ka(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,u){return Xa(o.bytesValue).isEqual(Xa(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(a,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?Uc(f)===Uc(m):isNaN(f)&&isNaN(m)}return!1})(a,t);case 9:return Yr(a.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(b_(f)!==b_(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Ii(f[y],m[y])))return!1;return!0})(a,t);default:return Et(52216,{left:a})}}function Do(a,t){return(a.values||[]).find((i=>Ii(i,t)))!==void 0}function Kr(a,t){if(a===t)return 0;const i=$a(a),r=$a(t);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(a.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ge(u.integerValue||u.doubleValue),y=ge(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(a,t);case 3:return R_(a.timestampValue,t.timestampValue);case 4:return R_(xo(a),xo(t));case 5:return Kd(a.stringValue,t.stringValue);case 6:return(function(u,f){const m=Xa(u),y=Xa(f);return m.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let v=0;v<m.length&&v<y.length;v++){const T=jt(m[v],y[v]);if(T!==0)return T}return jt(m.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=jt(ge(u.latitude),ge(f.latitude));return m!==0?m:jt(ge(u.longitude),ge(f.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return C_(a.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},v=m[zc]?.arrayValue,T=y[zc]?.arrayValue,S=jt(v?.values?.length||0,T?.values?.length||0);return S!==0?S:C_(v,T)})(a.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),v=f.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const R=Kd(y[S],T[S]);if(R!==0)return R;const M=Kr(m[y[S]],v[T[S]]);if(M!==0)return M}return jt(y.length,T.length)})(a.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function R_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return jt(a,t);const i=Ka(a),r=Ka(t),o=jt(i.seconds,r.seconds);return o!==0?o:jt(i.nanos,r.nanos)}function C_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Kr(i[o],r[o]);if(u)return u}return jt(i.length,r.length)}function Xr(a){return Xd(a)}function Xd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ka(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Xa(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return yt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Xd(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Xd(i.fields[f])}`;return o+"}"})(a.mapValue):Et(61005,{value:a})}function Nc(a){switch($a(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(a);return t?16+Nc(t):16;case 5:return 2*a.stringValue.length;case 6:return Xa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Nc(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return es(r.fields,((u,f)=>{o+=u.length+Nc(f)})),o})(a.mapValue);default:throw Et(13486,{value:a})}}function x_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function $d(a){return!!a&&"integerValue"in a}function Mm(a){return!!a&&"arrayValue"in a}function N_(a){return!!a&&"nullValue"in a}function D_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Dc(a){return!!a&&"mapValue"in a}function L2(a){return(a?.mapValue?.fields||{})[y0]?.stringValue===v0}function Eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return es(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Eo(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Eo(a.arrayValue.values[i]);return t}return{...a}}function U2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===O2}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(i)}setAll(t){let i=Qe.emptyPath(),r={},o=[];t.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=m.popLast()}f?r[m.lastSegment()]=Eo(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){es(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new hn(Eo(this.value))}}function _0(a){const t=[];return es(a.fields,((i,r)=>{const o=new Qe([i]);if(Dc(r)){const u=_0(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Sn(t)}class Ze{constructor(t,i,r,o,u,f,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ze(t,0,St.min(),St.min(),St.min(),hn.empty(),0)}static newFoundDocument(t,i,r,o){return new Ze(t,1,i,St.min(),r,o,0)}static newNoDocument(t,i){return new Ze(t,2,i,St.min(),St.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,St.min(),St.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kc{constructor(t,i){this.position=t,this.inclusive=i}}function I_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const u=t[o],f=a.position[o];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(f.referenceValue),i.key):r=Kr(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function V_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ii(a.position[i],t.position[i]))return!1;return!0}class Io{constructor(t,i="asc"){this.field=t,this.dir=i}}function P2(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class E0{}class Ce extends E0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new k2(t,i,r):i==="array-contains"?new H2(t,r):i==="in"?new F2(t,r):i==="not-in"?new G2(t,r):i==="array-contains-any"?new Q2(t,r):new Ce(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new B2(t,r):new q2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Kr(i,this.value)):i!==null&&$a(this.value)===$a(i)&&this.matchesComparison(Kr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends E0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return T0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T0(a){return a.op==="and"}function S0(a){return z2(a)&&T0(a)}function z2(a){for(const t of a.filters)if(t instanceof ei)return!1;return!0}function Zd(a){if(a instanceof Ce)return a.field.canonicalString()+a.op.toString()+Xr(a.value);if(S0(a))return a.filters.map((t=>Zd(t))).join(",");{const t=a.filters.map((i=>Zd(i))).join(",");return`${a.op}(${t})`}}function A0(a,t){return a instanceof Ce?(function(r,o){return o instanceof Ce&&r.op===o.op&&r.field.isEqual(o.field)&&Ii(r.value,o.value)})(a,t):a instanceof ei?(function(r,o){return o instanceof ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&A0(f,o.filters[m])),!0):!1})(a,t):void Et(19439)}function b0(a){return a instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xr(i.value)}`})(a):a instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(b0).join(" ,")+"}"})(a):"Filter"}class k2 extends Ce{constructor(t,i,r){super(t,i,r),this.key=yt.fromName(r.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class B2 extends Ce{constructor(t,i){super(t,"in",i),this.keys=w0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class q2 extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=w0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function w0(a,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class H2 extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Do(i.arrayValue,this.value)}}class F2 extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class G2 extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class Q2 extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Do(this.value.arrayValue,r)))}}class Y2{constructor(t,i=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function M_(a,t=null,i=[],r=[],o=null,u=null,f=null){return new Y2(a,t,i,r,o,u,f)}function jm(a){const t=bt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Zd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Xr(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Xr(r))).join(",")),t.Te=i}return t.Te}function Om(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!P2(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!A0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!V_(a.startAt,t.startAt)&&V_(a.endAt,t.endAt)}function Jd(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class al{constructor(t,i=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K2(a,t,i,r,o,u,f,m){return new al(a,t,i,r,o,u,f,m)}function Lm(a){return new al(a)}function j_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function R0(a){return a.collectionGroup!==null}function To(a){const t=bt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Me(Qe.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Io(u,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Io(Qe.keyField(),r))}return t.Ie}function Ci(a){const t=bt(a);return t.Ee||(t.Ee=X2(t,To(a))),t.Ee}function X2(a,t){if(a.limitType==="F")return M_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Io(o.field,u)}));const i=a.endAt?new kc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new kc(a.startAt.position,a.startAt.inclusive):null;return M_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Wd(a,t){const i=a.filters.concat([t]);return new al(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function tm(a,t,i){return new al(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function ih(a,t){return Om(Ci(a),Ci(t))&&a.limitType===t.limitType}function C0(a){return`${jm(Ci(a))}|lt:${a.limitType}`}function kr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>b0(o))).join(", ")}]`),eh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Xr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Xr(o))).join(",")),`Target(${r})`})(Ci(a))}; limitType=${a.limitType})`}function ah(a,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,t)&&(function(r,o){for(const u of To(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(f,m,y){const v=I_(f,m,y);return f.inclusive?v<=0:v<0})(r.startAt,To(r),o)||r.endAt&&!(function(f,m,y){const v=I_(f,m,y);return f.inclusive?v>=0:v>0})(r.endAt,To(r),o))})(a,t)}function $2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function x0(a){return(t,i)=>{let r=!1;for(const o of To(a)){const u=Z2(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function Z2(a,t,i){const r=a.field.isKeyField()?yt.comparator(t.key,i.key):(function(u,f,m){const y=f.data.field(u),v=m.data.field(u);return y!==null&&v!==null?Kr(y,v):Et(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:a.dir})}}class Gs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){es(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return h0(this.inner)}size(){return this.innerSize}}const J2=new ue(yt.comparator);function ra(){return J2}const N0=new ue(yt.comparator);function go(...a){let t=N0;for(const i of a)t=t.insert(i.key,i);return t}function D0(a){let t=N0;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Ls(){return So()}function I0(){return So()}function So(){return new Gs((a=>a.toString()),((a,t)=>a.isEqual(t)))}const W2=new ue(yt.comparator),tR=new Me(yt.comparator);function Ot(...a){let t=tR;for(const i of a)t=t.add(i);return t}const eR=new Me(jt);function nR(){return eR}function Um(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function V0(a){return{integerValue:""+a}}function iR(a,t){return D2(t)?V0(t):Um(a,t)}class sh{constructor(){this._=void 0}}function aR(a,t,i){return a instanceof Bc?(function(o,u){const f={fields:{[m0]:{stringValue:d0},[g0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vm(u)&&(u=nh(u)),u&&(f.fields[p0]=u),{mapValue:f}})(i,t):a instanceof Vo?j0(a,t):a instanceof Mo?O0(a,t):(function(o,u){const f=M0(o,u),m=O_(f)+O_(o.Ae);return $d(f)&&$d(o.Ae)?V0(m):Um(o.serializer,m)})(a,t)}function sR(a,t,i){return a instanceof Vo?j0(a,t):a instanceof Mo?O0(a,t):i}function M0(a,t){return a instanceof qc?(function(r){return $d(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Bc extends sh{}class Vo extends sh{constructor(t){super(),this.elements=t}}function j0(a,t){const i=L0(t);for(const r of a.elements)i.some((o=>Ii(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Mo extends sh{constructor(t){super(),this.elements=t}}function O0(a,t){let i=L0(t);for(const r of a.elements)i=i.filter((o=>!Ii(o,r)));return{arrayValue:{values:i}}}class qc extends sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function O_(a){return ge(a.integerValue||a.doubleValue)}function L0(a){return Mm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function rR(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Vo&&o instanceof Vo||r instanceof Mo&&o instanceof Mo?Yr(r.elements,o.elements,Ii):r instanceof qc&&o instanceof qc?Ii(r.Ae,o.Ae):r instanceof Bc&&o instanceof Bc})(a.transform,t.transform)}class lR{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class rh{}function U0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Pm(a.key,ti.none()):new zo(a.key,a.data,ti.none());{const i=a.data,r=hn.empty();let o=new Me(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new ns(a.key,r,new Sn(o.toArray()),ti.none())}}function oR(a,t,i){a instanceof zo?(function(o,u,f){const m=o.value.clone(),y=U_(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(a,t,i):a instanceof ns?(function(o,u,f){if(!Ic(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=U_(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(P0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(a,t,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Ao(a,t,i,r){return a instanceof zo?(function(u,f,m,y){if(!Ic(u.precondition,f))return m;const v=u.value.clone(),T=P_(u.fieldTransforms,y,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(a,t,i,r):a instanceof ns?(function(u,f,m,y){if(!Ic(u.precondition,f))return m;const v=P_(u.fieldTransforms,y,f),T=f.data;return T.setAll(P0(u)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(a,t,i,r):(function(u,f,m){return Ic(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(a,t,i)}function uR(a,t){let i=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),u=M0(r.transform,o||null);u!=null&&(i===null&&(i=hn.empty()),i.set(r.field,u))}return i||null}function L_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yr(r,o,((u,f)=>rR(u,f)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class zo extends rh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends rh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function U_(a,t,i){const r=new Map;Qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,sR(f,m,i[o]))}return r}function P_(a,t,i){const r=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);r.set(o.field,aR(u,f,t))}return r}class Pm extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cR extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hR{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&oR(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ao(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ao(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=I0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const y=U0(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Yr(this.mutations,t.mutations,((i,r)=>L_(i,r)))&&Yr(this.baseMutations,t.baseMutations,((i,r)=>L_(i,r)))}}class zm{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return W2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new zm(t,i,r,o)}}class fR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,zt;function mR(a){switch(a){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function z0(a){if(a===void 0)return aa("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:a})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function pR(){return new TextEncoder}const gR=new Fa([4294967295,4294967295],0);function z_(a){const t=pR().encode(a),i=new t0;return i.update(t),new Uint8Array(i.digest())}function k_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Fa([i,r],0),new Fa([o,u],0)]}class km{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new yo(`Invalid padding: ${i}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new yo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fa.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Fa.fromNumber(r)));return o.compare(gR)===1&&(o=new Fa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=z_(t),[r,o]=k_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new km(u,o,i);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const i=z_(t),[r,o]=k_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,ko.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new lh(St.min(),o,new ue(jt),ra(),Ot())}}class ko{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new ko(r,i,Ot(),Ot(),Ot())}}class Vc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class k0{constructor(t,i){this.targetId=t,this.Ce=i}}class B0{constructor(t,i,r=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class B_{constructor(){this.ve=0,this.Fe=q_(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}})),new ko(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=q_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ra(),this.Je=bc(),this.He=bc(),this.Ye=new ue(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Jd(u))if(r===0){const f=new yt(u.path);this.et(i,f,Ze.newNoDocument(f,St.min()))}else Qt(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=Xa(r).toUint8Array()}catch(y){if(y instanceof f0)return Qr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new km(f,o,u)}catch(y){return Qr(y instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Jd(m.target)){const y=new yt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Ze.newNoDocument(y,t))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let r=Ot();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new lh(t,i,this.Ye,this.je,r);return this.je=ra(),this.Je=bc(),this.He=bc(),this.Ye=new ue(jt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new B_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new B_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new ue(yt.comparator)}function q_(){return new ue(yt.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},_R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ER={and:"AND",or:"OR"};class TR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(a,t){return a.useProto3Json||eh(t)?t:{value:t}}function Hc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function SR(a,t){return Hc(a,t.toTimestamp())}function xi(a){return Qt(!!a,49232),St.fromTimestamp((function(i){const r=Ka(i);return new te(r.seconds,r.nanos)})(a))}function Bm(a,t){return nm(a,t).canonicalString()}function nm(a,t){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function H0(a){const t=ne.fromString(a);return Qt(K0(t),10190,{key:t.toString()}),t}function im(a,t){return Bm(a.databaseId,t.path)}function Vd(a,t){const i=H0(t);if(i.get(1)!==a.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt(G0(i))}function F0(a,t){return Bm(a.databaseId,t)}function AR(a){const t=H0(a);return t.length===4?ne.emptyPath():G0(t)}function am(a){return new ne(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function G0(a){return Qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function H_(a,t,i){return{name:im(a,t),fields:i.value.mapValue.fields}}function bR(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Et(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(Qt(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(a,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(v){const T=v.code===void 0?Z.UNKNOWN:z0(v.code);return new ut(T,v.message||"")})(f);i=new B0(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vd(a,r.document.name),u=xi(r.document.updateTime),f=r.document.createTime?xi(r.document.createTime):St.min(),m=new hn({mapValue:{fields:r.document.fields}}),y=Ze.newFoundDocument(o,u,f,m),v=r.targetIds||[],T=r.removedTargetIds||[];i=new Vc(v,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Vd(a,r.document),u=r.readTime?xi(r.readTime):St.min(),f=Ze.newNoDocument(o,u),m=r.removedTargetIds||[];i=new Vc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Vd(a,r.document),u=r.removedTargetIds||[];i=new Vc([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new dR(o,u),m=r.targetId;i=new k0(m,f)}}return i}function wR(a,t){let i;if(t instanceof zo)i={update:H_(a,t.key,t.value)};else if(t instanceof Pm)i={delete:im(a,t.key)};else if(t instanceof ns)i={update:H_(a,t.key,t.data),updateMask:jR(t.fieldMask)};else{if(!(t instanceof cR))return Et(16599,{Vt:t.type});i={verify:im(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof Bc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Mo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:SR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(a,t.precondition)),i}function RR(a,t){return a&&a.length>0?(Qt(t!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(St.min())&&(f=xi(u)),new lR(f,o.transformResults||[])})(i,t)))):[]}function CR(a,t){return{documents:[F0(a,t.path)]}}function xR(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=F0(a,o);const u=(function(v){if(v.length!==0)return Y0(ei.create(v,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((T=>(function(R){return{field:Br(R.field),direction:IR(R.dir)}})(T)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=em(a,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function NR(a){let t=AR(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];i.where&&(u=(function(S){const R=Q0(S);return R instanceof ei&&S0(R)?R.getFilters():[R]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((R=>(function(H){return new Io(qr(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(i.orderBy));let m=null;i.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,eh(R)?null:R})(i.limit));let y=null;i.startAt&&(y=(function(S){const R=!!S.before,M=S.values||[];return new kc(M,R)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const R=!S.before,M=S.values||[];return new kc(M,R)})(i.endAt)),K2(t,o,f,u,m,"F",y,v)}function DR(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Q0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=qr(i.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=qr(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qr(i.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qr(i.unaryFilter.field);return Ce.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ce.create(qr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((r=>Q0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(a):Et(30097,{filter:a})}function IR(a){return vR[a]}function VR(a){return _R[a]}function MR(a){return ER[a]}function Br(a){return{fieldPath:a.canonicalString()}}function qr(a){return Qe.fromServerFormat(a.fieldPath)}function Y0(a){return a instanceof Ce?(function(i){if(i.op==="=="){if(D_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NAN"}};if(N_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(D_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NOT_NAN"}};if(N_(i.value))return{unaryFilter:{field:Br(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Br(i.field),op:VR(i.op),value:i.value}}})(a):a instanceof ei?(function(i){const r=i.getFilters().map((o=>Y0(o)));return r.length===1?r[0]:{compositeFilter:{op:MR(i.op),filters:r}}})(a):Et(54877,{filter:a})}function jR(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function K0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ba{constructor(t,i,r,o,u=St.min(),f=St.min(),m=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Ba(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class OR{constructor(t){this.yt=t}}function LR(a){const t=NR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?tm(t,t.limit,"L"):t}class UR{constructor(){this.Cn=new PR}addToCollectionParentIndex(t,i){return this.Cn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(Ya.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(Ya.min())}updateCollectionGroup(t,i,r){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class PR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Me(ne.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(X0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $r{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $r(0)}static cr(){return new $r(-1)}}const G_="LruGarbageCollector",zR=1048576;function Q_([a,t],[i,r]){const o=jt(a,i);return o===0?jt(t,r):o}class kR{constructor(t){this.Ir=t,this.buffer=new Me(Q_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Q_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(G_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){il(i)?ct(G_,"Ignoring IndexedDB error during garbage collection: ",i):await nl(i)}await this.Vr(3e5)}))}}class qR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(th.ce);const r=new kR(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(F_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,f,m,y,v;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(t,r,i)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(v=Date.now(),zr()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function HR(a,t){return new qR(a,t)}class FR{constructor(){this.changes=new Gs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?nt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class QR{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Ao(r.mutation,o,Sn.empty(),te.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ot()){const o=Ls();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let f=go();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const r=Ls();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ot())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(t,i,r,o){let u=ra();const f=So(),m=(function(){return So()})();return i.forEach(((y,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof ns)?u=u.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),Ao(T.mutation,v,T.mutation.getFieldMask(),te.now())):f.set(v.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((v,T)=>f.set(v,T))),i.forEach(((v,T)=>m.set(v,new GR(T,f.get(v)??null)))),m)))}recalculateAndSaveOverlays(t,i){const r=So();let o=new ue(((f,m)=>f-m)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const m of f)m.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let T=r.get(y)||Sn.empty();T=m.applyToLocalView(v,T),r.set(y,T);const S=(o.get(m.batchId)||Ot()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,T=y.value,S=I0();T.forEach((R=>{if(!u.has(R)){const M=U0(i.get(R),r.get(R));M!==null&&S.set(R,M),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,v,S))}return nt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):R0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):nt.resolve(Ls());let m=Co,y=u;return f.next((v=>nt.forEach(v,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?nt.resolve():this.remoteDocumentCache.getEntry(t,T).next((R=>{y=y.insert(T,R)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,y,v,Ot()))).next((T=>({batchId:m,changes:D0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((r=>{let o=go();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let f=go();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(y=>{const v=(function(S,R){return new al(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((T=>{T.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((f=>{u.forEach(((y,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,Ze.newInvalidDocument(T)))}));let m=go();return f.forEach(((y,v)=>{const T=u.get(y);T!==void 0&&Ao(T.mutation,v,Sn.empty(),te.now()),ah(i,v)&&(m=m.insert(y,v))})),m}))}}class YR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return nt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:LR(o.bundledQuery),readTime:xi(o.readTime)}})(i)),nt.resolve()}}class KR{constructor(){this.overlays=new ue(yt.comparator),this.qr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Ls();return nt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),nt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),nt.resolve()}getOverlaysForCollection(t,i,r){const o=Ls(),u=i.length+1,f=new yt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ue(((v,T)=>v-T));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=u.get(v.largestBatchId);T===null&&(T=Ls(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const m=Ls(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,T)=>m.set(v,T))),!(m.size()>=o)););return nt.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new fR(i,r));let u=this.qr.get(i);u===void 0&&(u=Ot(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class XR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}class qm{constructor(){this.Qr=new Me(Pe.$r),this.Ur=new Me(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new yt(new ne([])),r=new Pe(i,t),o=new Pe(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new ne([])),r=new Pe(i,t),o=new Pe(i,t+1);let u=Ot();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class $R{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Pe.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hR(u,i,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,i){return nt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(jt);return i.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),nt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new yt(u),0);let m=new Me(jt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.Yr)),!0)}),f),nt.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return nt.forEach(i.mutations,(o=>{const u=new Pe(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),o=this.Zr.firstAfterOrEqual(r);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ZR{constructor(t){this.ri=t,this.docs=(function(){return new ue(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return nt.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=ra();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=ra();const f=i.path,m=new yt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||R2(w2(T),r)<=0||(o.has(T.key)||ah(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Et(9500)}ii(t,i){return nt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new JR(this)}getSize(t){return nt.resolve(this.size)}}class JR extends FR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),nt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class WR{constructor(t){this.persistence=t,this.si=new Gs((i=>jm(i)),Om),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=$r.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),nt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $r(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.Pr(i),nt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return nt.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),nt.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return nt.resolve(r)}containsKey(t,i){return nt.resolve(this._i.containsKey(i))}}class $0{constructor(t,i){this.ui={},this.overlays={},this.ci=new th(0),this.li=!1,this.li=!0,this.hi=new XR,this.referenceDelegate=t(this),this.Pi=new WR(this),this.indexManager=new UR,this.remoteDocumentCache=(function(o){return new ZR(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new OR(i),this.Ii=new YR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new KR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new $R(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ct("MemoryPersistence","Starting transaction:",t);const o=new tC(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return nt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class tC extends x2{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),nt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),nt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(r=>{const o=yt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Fc{constructor(t,i){this.persistence=t,this.pi=new Gs((r=>I2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=HR(this,i)}static mi(t,i){return new Fc(t,i)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return nt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?nt.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,i).next((m=>{m||(r++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}br(t,i,r){return nt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Ot(),o=Ot();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fm(t,i.fromCache,r,o)}}class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Xb()?8:N2(Qb())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new eC;return this.Ss(t,i,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,i,f,m.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(zr()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",kr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(zr()<=kt.DEBUG&&ct("QueryEngine","Query:",kr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(zr()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",kr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):nt.resolve())}ys(t,i){if(j_(i))return nt.resolve(null);let r=Ci(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=tm(i,null,"F"),r=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Ot(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((y=>{const v=this.Ds(i,m);return this.Cs(i,v,f,y.readTime)?this.ys(t,tm(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,r,o){return j_(i)||o.isEqual(St.min())?nt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,r,o)?nt.resolve(null):(zr()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),kr(i)),this.vs(t,f,i,b2(o,Co)).next((m=>m)))}))}Ds(t,i){let r=new Me(x0(t));return i.forEach(((o,u)=>{ah(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return zr()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",kr(i)),this.ps.getDocumentsMatchingQuery(t,i,Ya.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Gm="LocalStore",iC=3e8;class aC{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ue(jt),this.xs=new Gs((u=>jm(u)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function sC(a,t,i,r){return new aC(a,t,i,r)}async function Z0(a,t){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let y=Ot();for(const v of o){f.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of u){m.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:m})))}))}))}function rC(a,t){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,T){const S=v.batch,R=S.keys();let M=nt.resolve();return R.forEach((H=>{M=M.next((()=>T.getEntry(y,H))).next((X=>{const F=v.docVersions.get(H);Qt(F!==null,48541),X.version.compareTo(F)<0&&(S.applyToRemoteDocument(X,v),X.isValidDocument()&&(X.setReadTime(v.commitVersion),T.addEntry(X)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=Ot();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function J0(a){const t=bt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function lC(a,t){const i=bt(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];t.targetChanges.forEach(((T,S)=>{const R=o.get(S);if(!R)return;m.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,S))));let M=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?M=M.withResumeToken(Ye.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,r)),o=o.insert(S,M),(function(X,F,J){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=iC?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(R,M,T)&&m.push(i.Pi.updateTargetData(u,M))}));let y=ra(),v=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(oC(u,f,t.documentUpdates).next((T=>{y=T.ks,v=T.qs}))),!r.isEqual(St.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(i.Ms=o,u)))}function oC(a,t,i){let r=Ot(),o=Ot();return i.forEach((u=>r=r.add(u))),t.getEntries(a,r).next((u=>{let f=ra();return i.forEach(((m,y)=>{const v=u.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):ct(Gm,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function uC(a,t){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function cC(a,t){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,nt.resolve(o)):i.Pi.allocateTargetId(r).next((f=>(o=new Ba(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function sm(a,t,i){const r=bt(a),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!il(f))throw f;ct(Gm,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Y_(a,t,i){const r=bt(a);let o=St.min(),u=Ot();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,v,T){const S=bt(y),R=S.xs.get(T);return R!==void 0?nt.resolve(S.Ms.get(R)):S.Pi.getTargetData(v,T)})(r,f,Ci(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,i?o:St.min(),i?u:Ot()))).next((m=>(hC(r,$2(t),m),{documents:m,Qs:u})))))}function hC(a,t,i){let r=a.Os.get(t)||St.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Os.set(t,r)}class K_{constructor(){this.activeTargetIds=nR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fC{constructor(){this.Mo=new K_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new K_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dC{Oo(t){}shutdown(){}}const X_="ConnectivityMonitor";class $_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(X_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(X_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function rm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const Md="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Pc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const f=rm(),m=this.zo(t,i.toUriEncodedString());ct(Md,`Sending RPC '${t}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:v}=new URL(m),T=Rm(v);return this.Jo(t,m,y,r,T).then((S=>(ct(Md,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Qr(Md,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}Ho(t,i,r,o,u,f){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=mC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class gC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class yC extends pC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const f=rm();return new Promise(((m,y)=>{const v=new e0;v.setWithCredentials(!0),v.listenOnce(n0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case xc.NO_ERROR:const S=v.getResponseJson();ct(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case xc.TIMEOUT:ct(Xe,`RPC '${t}' ${f} timed out`),y(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const R=v.getStatus();if(ct(Xe,`RPC '${t}' ${f} failed with status:`,R,"response text:",v.getResponseText()),R>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const H=M?.error;if(H&&H.status&&H.message){const X=(function(J){const et=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(et)>=0?et:Z.UNKNOWN})(H.status);y(new ut(X,H.message))}else y(new ut(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ct(Xe,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ct(Xe,`RPC '${t}' ${f} sending request:`,o),v.send(i,"POST",T,r,15)}))}T_(t,i,r){const o=rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=s0(),m=a0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const T=u.join("");ct(Xe,`Creating RPC '${t}' stream ${o}: ${T}`,y);const S=f.createWebChannel(T,y);this.I_(S);let R=!1,M=!1;const H=new gC({Yo:F=>{M?ct(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(R||(ct(Xe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),ct(Xe,`RPC '${t}' stream ${o} sending:`,F),S.send(F))},Zo:()=>S.close()}),X=(F,J,et)=>{F.listen(J,(st=>{try{et(st)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return X(S,po.EventType.OPEN,(()=>{M||(ct(Xe,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),X(S,po.EventType.CLOSE,(()=>{M||(M=!0,ct(Xe,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(S))})),X(S,po.EventType.ERROR,(F=>{M||(M=!0,Qr(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),H.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),X(S,po.EventType.MESSAGE,(F=>{if(!M){const J=F.data[0];Qt(!!J,16349);const et=J,st=et?.error||et[0]?.error;if(st){ct(Xe,`RPC '${t}' stream ${o} received error:`,st);const mt=st.status;let vt=(function(w){const N=Re[w];if(N!==void 0)return z0(N)})(mt),at=st.message;vt===void 0&&(vt=Z.INTERNAL,at="Unknown error status: "+mt+" with message "+st.message),M=!0,H.a_(new ut(vt,at)),S.close()}else ct(Xe,`RPC '${t}' stream ${o} received:`,J),H.u_(J)}})),X(m,i0.STAT_EVENT,(F=>{F.stat===Yd.PROXY?ct(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Yd.NOPROXY&&ct(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function jd(){return typeof document<"u"?document:null}function oh(a){return new TR(a,!0)}class W0{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Z_="PersistentStream";class tT{constructor(t,i,r,o,u,f,m,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(aa(i.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(Z_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vC extends tT{constructor(t,i,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=bR(this.serializer,t),r=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?xi(f.readTime):St.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(u,f){let m;const y=f.target;if(m=Jd(y)?{documents:CR(u,y)}:{query:xR(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=q0(u,f.resumeToken);const v=em(u,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Hc(u,f.snapshotVersion.toTimestamp());const v=em(u,f.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,t);const r=DR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.q_(i)}}class _C extends tT{constructor(t,i,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=RR(t.writeResults,t.commitTime),r=xi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=am(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>wR(this.serializer,r)))};this.q_(i)}}class EC{}class TC extends EC{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,nm(i,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Z.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,nm(i,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(aa(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class AC{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Qs(this)&&(ct(Bs,"Restarting streams for network reachability change."),await(async function(y){const v=bt(y);v.Ea.add(4),await Bo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await uh(v)})(this))}))})),this.Ra=new SC(r,o)}}async function uh(a){if(Qs(a))for(const t of a.da)await t(!0)}async function Bo(a){for(const t of a.da)await t(!1)}function eT(a,t){const i=bt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Km(i):sl(i).O_()&&Ym(i,t))}function Qm(a,t){const i=bt(a),r=sl(i);i.Ia.delete(t),r.O_()&&nT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Qs(i)&&i.Ra.set("Unknown"))}function Ym(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}sl(a).Y_(t)}function nT(a,t){a.Va.Ue(t),sl(a).Z_(t)}function Km(a){a.Va=new yR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),sl(a).start(),a.Ra.ua()}function Xm(a){return Qs(a)&&!sl(a).x_()&&a.Ia.size>0}function Qs(a){return bt(a).Ea.size===0}function iT(a){a.Va=void 0}async function bC(a){a.Ra.set("Online")}async function wC(a){a.Ia.forEach(((t,i)=>{Ym(a,t)}))}async function RC(a,t){iT(a),Xm(a)?(a.Ra.ha(t),Km(a)):a.Ra.set("Unknown")}async function CC(a,t,i){if(a.Ra.set("Online"),t instanceof B0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(a,t)}catch(r){ct(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Gc(a,r)}else if(t instanceof Vc?a.Va.Ze(t):t instanceof k0?a.Va.st(t):a.Va.tt(t),!i.isEqual(St.min()))try{const r=await J0(a.localStore);i.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(v);T&&u.Ia.set(v,T.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,v)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),nT(u,y);const S=new Ba(T.target,y,v,T.sequenceNumber);Ym(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(a,i)}catch(r){ct(Bs,"Failed to raise snapshot:",r),await Gc(a,r)}}async function Gc(a,t,i){if(!il(t))throw t;a.Ea.add(1),await Bo(a),a.Ra.set("Offline"),i||(i=()=>J0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ct(Bs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await uh(a)}))}function aT(a,t){return t().catch((i=>Gc(a,i,t)))}async function ch(a){const t=bt(a),i=Za(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;xC(t);)try{const o=await uC(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,NC(t,o)}catch(o){await Gc(t,o)}sT(t)&&rT(t)}function xC(a){return Qs(a)&&a.Ta.length<10}function NC(a,t){a.Ta.push(t);const i=Za(a);i.O_()&&i.X_&&i.ea(t.mutations)}function sT(a){return Qs(a)&&!Za(a).x_()&&a.Ta.length>0}function rT(a){Za(a).start()}async function DC(a){Za(a).ra()}async function IC(a){const t=Za(a);for(const i of a.Ta)t.ea(i.mutations)}async function VC(a,t,i){const r=a.Ta.shift(),o=zm.from(r,t,i);await aT(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await ch(a)}async function MC(a,t){t&&Za(a).X_&&await(async function(r,o){if((function(f){return mR(f)&&f!==Z.ABORTED})(o.code)){const u=r.Ta.shift();Za(r).B_(),await aT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ch(r)}})(a,t),sT(a)&&rT(a)}async function J_(a,t){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),ct(Bs,"RemoteStore received new credentials");const r=Qs(i);i.Ea.add(3),await Bo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await uh(i)}async function jC(a,t){const i=bt(a);t?(i.Ea.delete(2),await uh(i)):t||(i.Ea.add(2),await Bo(i),i.Ra.set("Unknown"))}function sl(a){return a.ma||(a.ma=(function(i,r,o){const u=bt(i);return u.sa(),new vC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:bC.bind(null,a),t_:wC.bind(null,a),r_:RC.bind(null,a),H_:CC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Xm(a)?Km(a):a.Ra.set("Unknown")):(await a.ma.stop(),iT(a))}))),a.ma}function Za(a){return a.fa||(a.fa=(function(i,r,o){const u=bt(i);return u.sa(),new _C(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:DC.bind(null,a),r_:MC.bind(null,a),ta:IC.bind(null,a),na:VC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ch(a)):(await a.fa.stop(),a.Ta.length>0&&(ct(Bs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class $m{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const f=Date.now()+r,m=new $m(t,i,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(a,t){if(aa("AsyncQueue",`${t}: ${a}`),il(a))return new ut(Z.UNAVAILABLE,`${t}: ${a}`);throw a}class Hr{static emptySet(t){return new Hr(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=go(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Hr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Hr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class W_{constructor(){this.ga=new ue(yt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Zr{constructor(t,i,r,o,u,f,m,y,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,o,u){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new Zr(t,i,Hr.emptySet(i),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class OC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class LC{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=bt(i),u=o.queries;o.queries=tE(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function tE(){return new Gs((a=>C0(a)),ih)}async function lT(a,t){const i=bt(a);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new OC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Zm(f,`Initialization of query '${kr(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Jm(i)}async function oT(a,t){const i=bt(a),r=t.query;let o=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function UC(a,t){const i=bt(a);let r=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&Jm(i)}function PC(a,t,i){const r=bt(a),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function Jm(a){a.Ca.forEach((t=>{t.next()}))}var lm,eE;(eE=lm||(lm={})).Ma="default",eE.Cache="cache";class uT{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Zr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Zr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lm.Cache}}class cT{constructor(t){this.key=t}}class hT{constructor(t){this.key=t}}class zC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=x0(t),this.tu=new Hr(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new W_,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const R=o.get(T),M=ah(this.query,S)?S:null,H=!!R&&this.mutatedKeys.has(R.key),X=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let F=!1;R&&M?R.data.isEqual(M.data)?H!==X&&(r.track({type:3,doc:M}),F=!0):this.su(R,M)||(r.track({type:2,doc:M}),F=!0,(y&&this.eu(M,y)>0||v&&this.eu(M,v)<0)&&(m=!0)):!R&&M?(r.track({type:0,doc:M}),F=!0):R&&!M&&(r.track({type:1,doc:R}),F=!0,(y||v)&&(m=!0)),F&&(M?(f=f.add(M),u=X?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(M,H){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:F})}};return X(M)-X(H)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,f.length!==0||v?{snapshot:new Zr(this.query,t.tu,u,f,t.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new hT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new cT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Zr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class kC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class BC{constructor(t){this.key=t,this.hu=!1}}class qC{constructor(t,i,r,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Gs((m=>C0(m)),ih),this.Iu=new Map,this.Eu=new Set,this.du=new ue(yt.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=$r.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HC(a,t,i=!0){const r=yT(a);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fT(r,t,i,!0),o}async function FC(a,t){const i=yT(a);await fT(i,t,!0,!1)}async function fT(a,t,i,r){const o=await cC(a.localStore,Ci(t)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await GC(a,t,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&eT(a.remoteStore,o),m}async function GC(a,t,i,r,o){a.pu=(S,R,M)=>(async function(X,F,J,et){let st=F.view.ru(J);st.Cs&&(st=await Y_(X.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,st))));const mt=et&&et.targetChanges.get(F.targetId),vt=et&&et.targetMismatches.get(F.targetId)!=null,at=F.view.applyChanges(st,X.isPrimaryClient,mt,vt);return iE(X,F.targetId,at.au),at.snapshot})(a,S,R,M);const u=await Y_(a.localStore,t,!0),f=new zC(t,u.Qs),m=f.ru(u.documents),y=ko.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=f.applyChanges(m,a.isPrimaryClient,y);iE(a,i,v.au);const T=new kC(t,i,f);return a.Tu.set(t,T),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function QC(a,t,i){const r=bt(a),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!ih(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Qm(r.remoteStore,o.targetId),om(r,o.targetId)})).catch(nl)):(om(r,o.targetId),await sm(r.localStore,o.targetId,!0))}async function YC(a,t){const i=bt(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(i.remoteStore,r.targetId))}async function KC(a,t,i){const r=ex(a);try{const o=await(function(f,m){const y=bt(f),v=te.now(),T=m.reduce(((M,H)=>M.add(H.key)),Ot());let S,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let H=ra(),X=Ot();return y.Ns.getEntries(M,T).next((F=>{H=F,H.forEach(((J,et)=>{et.isValidDocument()||(X=X.add(J))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,H))).next((F=>{S=F;const J=[];for(const et of m){const st=uR(et,S.get(et.key).overlayedDocument);st!=null&&J.push(new ns(et.key,st,_0(st.value.mapValue),ti.exists(!0)))}return y.mutationQueue.addMutationBatch(M,v,J,m)})).next((F=>{R=F;const J=F.applyToLocalDocumentSet(S,X);return y.documentOverlayCache.saveOverlays(M,F.batchId,J)}))})).then((()=>({batchId:R.batchId,changes:D0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let v=f.Vu[f.currentUser.toKey()];v||(v=new ue(jt)),v=v.insert(m,y),f.Vu[f.currentUser.toKey()]=v})(r,o.batchId,i),await qo(r,o.changes),await ch(r.remoteStore)}catch(o){const u=Zm(o,"Failed to persist write");i.reject(u)}}async function dT(a,t){const i=bt(a);try{const r=await lC(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qt(f.hu,14607):o.removedDocuments.size>0&&(Qt(f.hu,42227),f.hu=!1))})),await qo(i,r,t)}catch(r){await nl(r)}}function nE(a,t,i){const r=bt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=bt(f);y.onlineState=m;let v=!1;y.queries.forEach(((T,S)=>{for(const R of S.Sa)R.va(m)&&(v=!0)})),v&&Jm(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function XC(a,t,i){const r=bt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ue(yt.comparator);f=f.insert(u,Ze.newNoDocument(u,St.min()));const m=Ot().add(u),y=new lh(St.min(),new Map,new ue(jt),f,m);await dT(r,y),r.du=r.du.remove(u),r.Au.delete(t),tp(r)}else await sm(r.localStore,t,!1).then((()=>om(r,t,i))).catch(nl)}async function $C(a,t){const i=bt(a),r=t.batch.batchId;try{const o=await rC(i.localStore,t);pT(i,r,null),mT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await qo(i,o)}catch(o){await nl(o)}}async function ZC(a,t,i){const r=bt(a);try{const o=await(function(f,m){const y=bt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return y.mutationQueue.lookupMutationBatch(v,m).next((S=>(Qt(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>y.localDocuments.getDocuments(v,T)))}))})(r.localStore,t);pT(r,t,i),mT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await qo(r,o)}catch(o){await nl(o)}}function mT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function pT(a,t,i){const r=bt(a);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function om(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||gT(a,r)}))}function gT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Qm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),tp(a))}function iE(a,t,i){for(const r of i)r instanceof cT?(a.Ru.addReference(r.key,t),JC(a,r)):r instanceof hT?(ct(Wm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||gT(a,r.key)):Et(19791,{wu:r})}function JC(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ct(Wm,"New document in limbo: "+i),a.Eu.add(r),tp(a))}function tp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new yt(ne.fromString(t)),r=a.fu.next();a.Au.set(r,new BC(i)),a.du=a.du.insert(i,r),eT(a.remoteStore,new Ba(Ci(Lm(i.path)),r,"TargetPurposeLimboResolution",th.ce))}}async function qo(a,t,i){const r=bt(a),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{f.push(r.pu(y,t,i).then((v=>{if((v||i)&&r.isPrimaryClient){const T=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Fm.As(y.targetId,v);u.push(T)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,v){const T=bt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>nt.forEach(v,(R=>nt.forEach(R.Es,(M=>T.persistence.referenceDelegate.addReference(S,R.targetId,M))).next((()=>nt.forEach(R.ds,(M=>T.persistence.referenceDelegate.removeReference(S,R.targetId,M)))))))))}catch(S){if(!il(S))throw S;ct(Gm,"Failed to update sequence numbers: "+S)}for(const S of v){const R=S.targetId;if(!S.fromCache){const M=T.Ms.get(R),H=M.snapshotVersion,X=M.withLastLimboFreeSnapshotVersion(H);T.Ms=T.Ms.insert(R,X)}}})(r.localStore,u))}async function WC(a,t){const i=bt(a);if(!i.currentUser.isEqual(t)){ct(Wm,"User change. New user:",t.toKey());const r=await Z0(i.localStore,t);i.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ut(Z.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qo(i,r.Ls)}}function tx(a,t){const i=bt(a),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let o=Ot();const u=i.Iu.get(t);if(!u)return o;for(const f of u){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function yT(a){const t=bt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XC.bind(null,t),t.Pu.H_=UC.bind(null,t.eventManager),t.Pu.yu=PC.bind(null,t.eventManager),t}function ex(a){const t=bt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,t),t}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return sC(this.persistence,new nC,t.initialUser,this.serializer)}Cu(t){return new $0(Hm.mi,this.serializer)}Du(t){return new fC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class nx extends Qc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof Fc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new $0((r=>Fc.mi(r,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WC.bind(null,this.syncEngine),await jC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LC})()}createDatastore(t){const i=oh(t.databaseInfo.databaseId),r=(function(u){return new yC(u)})(t.databaseInfo);return(function(u,f,m,y){return new TC(u,f,m,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,f,m){return new AC(r,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>nE(this.syncEngine,i,0)),(function(){return $_.v()?new $_:new dC})())}createSyncEngine(t,i){return(function(o,u,f,m,y,v,T){const S=new qC(o,u,f,m,y,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);ct(Bs,"RemoteStore shutting down."),r.Ea.add(5),await Bo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class vT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):aa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ja="FirestoreClient";class ix{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ct(Ja,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ct(Ja,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Zm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Od(a,t){a.asyncQueue.verifyOperationInProgress(),ct(Ja,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Z0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function aE(a,t){a.asyncQueue.verifyOperationInProgress();const i=await ax(a);ct(Ja,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>J_(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>J_(t.remoteStore,o))),a._onlineComponents=t}async function ax(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(Ja,"Using user provided OfflineComponentProvider");try{await Od(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Qr("Error using user provided cache. Falling back to memory cache: "+i),await Od(a,new Qc)}}else ct(Ja,"Using default OfflineComponentProvider"),await Od(a,new nx(void 0));return a._offlineComponents}async function _T(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(Ja,"Using user provided OnlineComponentProvider"),await aE(a,a._uninitializedComponentsProvider._online)):(ct(Ja,"Using default OnlineComponentProvider"),await aE(a,new um))),a._onlineComponents}function sx(a){return _T(a).then((t=>t.syncEngine))}async function ET(a){const t=await _T(a),i=t.eventManager;return i.onListen=HC.bind(null,t.syncEngine),i.onUnlisten=QC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=FC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=YC.bind(null,t.syncEngine),i}function rx(a,t,i={}){const r=new ta;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,v){const T=new vT({next:R=>{T.Nu(),f.enqueueAndForget((()=>oT(u,S)));const M=R.docs.has(m);!M&&R.fromCache?v.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&y&&y.source==="server"?v.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(R)},error:R=>v.reject(R)}),S=new uT(Lm(m.path),T,{includeMetadataChanges:!0,qa:!0});return lT(u,S)})(await ET(a),a.asyncQueue,t,i,r))),r.promise}function lx(a,t,i={}){const r=new ta;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,v){const T=new vT({next:R=>{T.Nu(),f.enqueueAndForget((()=>oT(u,S))),R.fromCache&&y.source==="server"?v.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),S=new uT(m,T,{includeMetadataChanges:!0,qa:!0});return lT(u,S)})(await ET(a),a.asyncQueue,t,i,r))),r.promise}function TT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const sE=new Map;const ST="firestore.googleapis.com",rE=!0;class lE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=rE}else this.host=t.host,this.ssl=t.ssl??rE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}A2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new d2;switch(r.type){case"firstParty":return new y2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=sE.get(i);r&&(ct("ComponentProvider","Removing Datastore"),sE.delete(i),r.terminate())})(this),Promise.resolve()}}function ox(a,t,i,r={}){a=sa(a,hh);const o=Rm(t),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},m=`${t}:${i}`;o&&(Bb(`https://${m}`),Gb("Firestore",!0)),u.host!==ST&&u.host!==m&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!wo(y,f)&&(a._setSettings(y),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=$e.MOCK_USER;else{v=qb(r.mockUserToken,a._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(S)}a._authCredentials=new m2(new l0(v,T))}}class Ys{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ys(this.firestore,t,this._query)}}class Ne{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Po(i,Ne._jsonSchema))return new Ne(t,r||null,new yt(ne.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:xe("string",Ne._jsonSchemaVersion),referencePath:xe("string")};class Ga extends Ys{constructor(t,i,r){super(t,i,Lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new yt(t))}withConverter(t){return new Ga(this.firestore,t,this._path)}}function An(a,t,...i){if(a=kn(a),o0("collection","path",t),a instanceof hh){const r=ne.fromString(t,...i);return E_(r),new Ga(a,null,r)}{if(!(a instanceof Ne||a instanceof Ga))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ne.fromString(t,...i));return E_(r),new Ga(a.firestore,null,r)}}function Ks(a,t,...i){if(a=kn(a),arguments.length===1&&(t=Dm.newId()),o0("doc","path",t),a instanceof hh){const r=ne.fromString(t,...i);return __(r),new Ne(a,null,new yt(r))}{if(!(a instanceof Ne||a instanceof Ga))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ne.fromString(t,...i));return __(r),new Ne(a.firestore,a instanceof Ga?a.converter:null,new yt(r))}}const oE="AsyncQueue";class uE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W0(this,"async_queue_retry"),this._c=()=>{const r=jd();r&&ct(oE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!il(t))throw t;ct(oE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,aa("INTERNAL UNHANDLED ERROR: ",cE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=$m.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function cE(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class rl extends hh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new uE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uE(t),this._firestoreClient=void 0,await t}}}function ux(a,t){const i=typeof a=="object"?a:ZE(),r=typeof a=="string"?a:Pc,o=Uo(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=zb("firestore");u&&ox(o,...u)}return o}function ep(a){if(a._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||cx(a),a._firestoreClient}function cx(a){const t=a._freezeSettings(),i=(function(o,u,f,m){return new j2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,TT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new ix(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ye.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Po(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:xe("string",zn._jsonSchemaVersion),bytes:xe("string")};class fh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class np{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Po(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:xe("string",Ni._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Po(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:xe("string",Di._jsonSchemaVersion),vectorValues:xe("object")};const hx=/^__.*__$/;class fx{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ns(t,this.data,this.fieldMask,i,this.fieldTransforms):new zo(t,this.data,i,this.fieldTransforms)}}class AT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ns(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function bT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:a})}}class ip{constructor(t,i,r,o,u,f){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ip({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Yc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(bT(this.Ac)&&hx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dx{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||oh(t)}Cc(t,i,r,o=!1){return new ip({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(a){const t=a._freezeSettings(),i=oh(a._databaseId);return new dx(a._databaseId,!!t.ignoreUndefinedProperties,i)}function mx(a,t,i,r,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,t,i,o);sp("Data must be an object, but it was:",f,r);const m=wT(r,f);let y,v;if(u.merge)y=new Sn(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const R=cm(t,S,i);if(!f.contains(R))throw new ut(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);CT(T,R)||T.push(R)}y=new Sn(T),v=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=f.fieldTransforms;return new fx(new hn(m),y,v)}class dh extends np{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dh}}function px(a,t,i,r){const o=a.Cc(1,t,i);sp("Data must be an object, but it was:",o,r);const u=[],f=hn.empty();es(r,((y,v)=>{const T=rp(t,y,i);v=kn(v);const S=o.yc(T);if(v instanceof dh)u.push(T);else{const R=Ho(v,S);R!=null&&(u.push(T),f.set(T,R))}}));const m=new Sn(u);return new AT(f,m,o.fieldTransforms)}function gx(a,t,i,r,o,u){const f=a.Cc(1,t,i),m=[cm(t,r,i)],y=[o];if(u.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(cm(t,u[R])),y.push(u[R+1]);const v=[],T=hn.empty();for(let R=m.length-1;R>=0;--R)if(!CT(v,m[R])){const M=m[R];let H=y[R];H=kn(H);const X=f.yc(M);if(H instanceof dh)v.push(M);else{const F=Ho(H,X);F!=null&&(v.push(M),T.set(M,F))}}const S=new Sn(v);return new AT(T,S,f.fieldTransforms)}function yx(a,t,i,r=!1){return Ho(i,a.Cc(r?4:3,t))}function Ho(a,t){if(RT(a=kn(a)))return sp("Unsupported field value:",t,a),wT(a,t);if(a instanceof np)return(function(r,o){if(!bT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let y=Ho(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(a,t)}return(function(r,o){if((r=kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=te.fromDate(r);return{timestampValue:Hc(o.serializer,u)}}if(r instanceof te){const u=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hc(o.serializer,u)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:q0(o.serializer,r._byteString)};if(r instanceof Ne){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Di)return(function(f,m){return{mapValue:{fields:{[y0]:{stringValue:v0},[zc]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return Um(m.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Wc(r)}`)})(a,t)}function wT(a,t){const i={};return h0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):es(a,((r,o)=>{const u=Ho(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function RT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof Ni||a instanceof zn||a instanceof Ne||a instanceof np||a instanceof Di)}function sp(a,t,i){if(!RT(i)||!u0(i)){const r=Wc(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function cm(a,t,i){if((t=kn(t))instanceof fh)return t._internalPath;if(typeof t=="string")return rp(a,t);throw Yc("Field path arguments must be of type string or ",a,!1,void 0,i)}const vx=new RegExp("[~\\*/\\[\\]]");function rp(a,t,i){if(t.search(vx)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new fh(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Yc(a,t,i,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new ut(Z.INVALID_ARGUMENT,m+a+y)}function CT(a,t){return a.some((i=>i.isEqual(t)))}class xT{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(mh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _x extends xT{data(){return super.data()}}function mh(a,t){return typeof t=="string"?rp(a,t):t instanceof fh?t._internalPath:t._delegate._internalPath}function Ex(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lp{}class NT extends lp{}function la(a,t,...i){let r=[];t instanceof lp&&r.push(t),r=r.concat(i),(function(u){const f=u.filter((y=>y instanceof op)).length,m=u.filter((y=>y instanceof ph)).length;if(f>1||f>0&&m>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class ph extends NT{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new ph(t,i,r)}_apply(t){const i=this._parse(t);return DT(t._query,i),new Ys(t.firestore,t.converter,Wd(t._query,i))}_parse(t){const i=ap(t.firestore);return(function(u,f,m,y,v,T,S){let R;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){fE(S,T);const H=[];for(const X of S)H.push(hE(y,u,X));R={arrayValue:{values:H}}}else R=hE(y,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||fE(S,T),R=yx(m,f,S,T==="in"||T==="not-in");return Ce.create(v,T,R)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function jo(a,t,i){const r=t,o=mh("where",a);return ph._create(o,r,i)}class op extends lp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new op(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)DT(f,y),f=Wd(f,y)})(t._query,i),new Ys(t.firestore,t.converter,Wd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class up extends NT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new up(t,i)}_apply(t){const i=(function(o,u,f){if(o.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(u,f)})(t._query,this._field,this._direction);return new Ys(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new al(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function gh(a,t="asc"){const i=t,r=mh("orderBy",a);return up._create(r,i)}function hE(a,t,i){if(typeof(i=kn(i))=="string"){if(i==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(t)&&i.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ne.fromString(i));if(!yt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return x_(a,new yt(r))}if(i instanceof Ne)return x_(a,i._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(i)}.`)}function fE(a,t){if(!Array.isArray(a)||a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function DT(a,t){const i=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Tx{convertValue(t,i="none"){switch($a(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return es(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[zc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ni(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=nh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const i=Ka(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);Qt(K0(r),9688,{name:t});const o=new No(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(i)||aa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function Sx(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends xT{constructor(t,i,r,o,u,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(mh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:xe("string",Ps._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Mc extends Ps{data(t={}){return super.data(t)}}class Fr{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Mc(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Ax(m.type),doc:y,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ax(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}function bx(a){a=sa(a,Ne);const t=sa(a.firestore,rl);return rx(ep(t),a._key).then((i=>wx(t,a,i)))}Fr._jsonSchemaVersion="firestore/querySnapshot/1.0",Fr._jsonSchema={type:xe("string",Fr._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class IT extends Tx{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function Vi(a){a=sa(a,Ys);const t=sa(a.firestore,rl),i=ep(t),r=new IT(t);return Ex(a._query),lx(i,a._query).then((o=>new Fr(t,r,a,o)))}function cp(a,t,i,...r){a=sa(a,Ne);const o=sa(a.firestore,rl),u=ap(o);let f;return f=typeof(t=kn(t))=="string"||t instanceof fh?gx(u,"updateDoc",a._key,t,i,r):px(u,"updateDoc",a._key,t),fp(o,[f.toMutation(a._key,ti.exists(!0))])}function VT(a){return fp(sa(a.firestore,rl),[new Pm(a._key,ti.none())])}function hp(a,t){const i=sa(a.firestore,rl),r=Ks(a),o=Sx(a.converter,t);return fp(i,[mx(ap(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then((()=>r))}function fp(a,t){return(function(r,o){const u=new ta;return r.asyncQueue.enqueueAndForget((async()=>KC(await sx(r),o,u))),u.promise})(ep(a),t)}function wx(a,t,i){const r=i.docs.get(t._key),o=new IT(a);return new Ps(a,o,t._key,r,new vo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){el=o})(n2),Qa(new na("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new rl(new p2(r.getProvider("auth-internal")),new v2(f,r.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(v.options.projectId,T)})(f,o),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ri(p_,g_,t),Ri(p_,g_,"esm2020")})();var Rx="firebase",Cx="12.7.0";Ri(Rx,Cx,"app");const MT="@firebase/installations",dp="0.6.19";const jT=1e4,OT=`w:${dp}`,LT="FIS_v2",xx="https://firebaseinstallations.googleapis.com/v1",Nx=3600*1e3,Dx="installations",Ix="Installations";const Vx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qs=new Jc(Dx,Ix,Vx);function UT(a){return a instanceof ts&&a.code.includes("request-failed")}function PT({projectId:a}){return`${xx}/projects/${a}/installations`}function zT(a){return{token:a.token,requestStatus:2,expiresIn:jx(a.expiresIn),creationTime:Date.now()}}async function kT(a,t){const r=(await t.json()).error;return qs.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BT({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function Mx(a,{refreshToken:t}){const i=BT(a);return i.append("Authorization",Ox(t)),i}async function qT(a){const t=await a();return t.status>=500&&t.status<600?a():t}function jx(a){return Number(a.replace("s","000"))}function Ox(a){return`${LT} ${a}`}async function Lx({appConfig:a,heartbeatServiceProvider:t},{fid:i}){const r=PT(a),o=BT(a),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const f={fid:i,authVersion:LT,appId:a.appId,sdkVersion:OT},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await qT(()=>fetch(r,m));if(y.ok){const v=await y.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:zT(v.authToken)}}else throw await kT("Create Installation",y)}function HT(a){return new Promise(t=>{setTimeout(t,a)})}function Ux(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const Px=/^[cdef][\w-]{21}$/,hm="";function zx(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=kx(a);return Px.test(i)?i:hm}catch{return hm}}function kx(a){return Ux(a).substr(0,22)}function yh(a){return`${a.appName}!${a.appId}`}const FT=new Map;function GT(a,t){const i=yh(a);QT(i,t),Bx(i,t)}function QT(a,t){const i=FT.get(a);if(i)for(const r of i)r(t)}function Bx(a,t){const i=qx();i&&i.postMessage({key:a,fid:t}),Hx()}let Us=null;function qx(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=a=>{QT(a.data.key,a.data.fid)}),Us}function Hx(){FT.size===0&&Us&&(Us.close(),Us=null)}const Fx="firebase-installations-database",Gx=1,Hs="firebase-installations-store";let Ld=null;function mp(){return Ld||(Ld=XE(Fx,Gx,{upgrade:(a,t)=>{t===0&&a.createObjectStore(Hs)}})),Ld}async function Kc(a,t){const i=yh(a),o=(await mp()).transaction(Hs,"readwrite"),u=o.objectStore(Hs),f=await u.get(i);return await u.put(t,i),await o.done,(!f||f.fid!==t.fid)&&GT(a,t.fid),t}async function YT(a){const t=yh(a),r=(await mp()).transaction(Hs,"readwrite");await r.objectStore(Hs).delete(t),await r.done}async function vh(a,t){const i=yh(a),o=(await mp()).transaction(Hs,"readwrite"),u=o.objectStore(Hs),f=await u.get(i),m=t(f);return m===void 0?await u.delete(i):await u.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&GT(a,m.fid),m}async function pp(a){let t;const i=await vh(a.appConfig,r=>{const o=Qx(r),u=Yx(a,o);return t=u.registrationPromise,u.installationEntry});return i.fid===hm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Qx(a){const t=a||{fid:zx(),registrationStatus:0};return KT(t)}function Yx(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(qs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Kx(a,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Xx(a)}:{installationEntry:t}}async function Kx(a,t){try{const i=await Lx(a,t);return Kc(a.appConfig,i)}catch(i){throw UT(i)&&i.customData.serverCode===409?await YT(a.appConfig):await Kc(a.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Xx(a){let t=await dE(a.appConfig);for(;t.registrationStatus===1;)await HT(100),t=await dE(a.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await pp(a);return r||i}return t}function dE(a){return vh(a,t=>{if(!t)throw qs.create("installation-not-found");return KT(t)})}function KT(a){return $x(a)?{fid:a.fid,registrationStatus:0}:a}function $x(a){return a.registrationStatus===1&&a.registrationTime+jT<Date.now()}async function Zx({appConfig:a,heartbeatServiceProvider:t},i){const r=Jx(a,i),o=Mx(a,i),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const f={installation:{sdkVersion:OT,appId:a.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await qT(()=>fetch(r,m));if(y.ok){const v=await y.json();return zT(v)}else throw await kT("Generate Auth Token",y)}function Jx(a,{fid:t}){return`${PT(a)}/${t}/authTokens:generate`}async function gp(a,t=!1){let i;const r=await vh(a.appConfig,u=>{if(!XT(u))throw qs.create("not-registered");const f=u.authToken;if(!t&&eN(f))return u;if(f.requestStatus===1)return i=Wx(a,t),u;{if(!navigator.onLine)throw qs.create("app-offline");const m=iN(u);return i=tN(a,m),m}});return i?await i:r.authToken}async function Wx(a,t){let i=await mE(a.appConfig);for(;i.authToken.requestStatus===1;)await HT(100),i=await mE(a.appConfig);const r=i.authToken;return r.requestStatus===0?gp(a,t):r}function mE(a){return vh(a,t=>{if(!XT(t))throw qs.create("not-registered");const i=t.authToken;return aN(i)?{...t,authToken:{requestStatus:0}}:t})}async function tN(a,t){try{const i=await Zx(a,t),r={...t,authToken:i};return await Kc(a.appConfig,r),i}catch(i){if(UT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await YT(a.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Kc(a.appConfig,r)}throw i}}function XT(a){return a!==void 0&&a.registrationStatus===2}function eN(a){return a.requestStatus===2&&!nN(a)}function nN(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+Nx}function iN(a){const t={requestStatus:1,requestTime:Date.now()};return{...a,authToken:t}}function aN(a){return a.requestStatus===1&&a.requestTime+jT<Date.now()}async function sN(a){const t=a,{installationEntry:i,registrationPromise:r}=await pp(t);return r?r.catch(console.error):gp(t).catch(console.error),i.fid}async function rN(a,t=!1){const i=a;return await lN(i),(await gp(i,t)).token}async function lN(a){const{registrationPromise:t}=await pp(a);t&&await t}function oN(a){if(!a||!a.options)throw Ud("App Configuration");if(!a.name)throw Ud("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!a.options[i])throw Ud(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Ud(a){return qs.create("missing-app-config-values",{valueName:a})}const $T="installations",uN="installations-internal",cN=a=>{const t=a.getProvider("app").getImmediate(),i=oN(t),r=Uo(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hN=a=>{const t=a.getProvider("app").getImmediate(),i=Uo(t,$T).getImmediate();return{getId:()=>sN(i),getToken:o=>rN(i,o)}};function fN(){Qa(new na($T,cN,"PUBLIC")),Qa(new na(uN,hN,"PRIVATE"))}fN();Ri(MT,dp);Ri(MT,dp,"esm2020");const Xc="analytics",dN="firebase_id",mN="origin",pN=60*1e3,gN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yp="https://www.googletagmanager.com/gtag/js";const en=new Cm("@firebase/analytics");const yN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Jc("analytics","Analytics",yN);function vN(a){if(!a.startsWith(yp)){const t=bn.create("invalid-gtag-resource",{gtagURL:a});return en.warn(t.message),""}return a}function ZT(a){return Promise.all(a.map(t=>t.catch(i=>i)))}function _N(a,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,t)),i}function EN(a,t){const i=_N("firebase-js-sdk-policy",{createScriptURL:vN}),r=document.createElement("script"),o=`${yp}?l=${a}&id=${t}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function TN(a){let t=[];return Array.isArray(window[a])?t=window[a]:window[a]=t,t}async function SN(a,t,i,r,o,u){const f=r[o];try{if(f)await t[f];else{const y=(await ZT(i)).find(v=>v.measurementId===o);y&&await t[y.appId]}}catch(m){en.error(m)}a("config",o,u)}async function AN(a,t,i,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await ZT(i);for(const y of f){const v=m.find(S=>S.measurementId===y),T=v&&t[v.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),a("event",r,o||{})}catch(u){en.error(u)}}function bN(a,t,i,r){async function o(u,...f){try{if(u==="event"){const[m,y]=f;await AN(a,t,i,m,y)}else if(u==="config"){const[m,y]=f;await SN(a,t,i,r,m,y)}else if(u==="consent"){const[m,y]=f;a("consent",m,y)}else if(u==="get"){const[m,y,v]=f;a("get",m,y,v)}else if(u==="set"){const[m]=f;a("set",m)}else a(u,...f)}catch(m){en.error(m)}}return o}function wN(a,t,i,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=bN(u,a,t,i),{gtagCore:u,wrappedGtag:window[o]}}function RN(a){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(yp)&&i.src.includes(a))return i;return null}const CN=30,xN=1e3;class NN{constructor(t={},i=xN){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const JT=new NN;function DN(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function IN(a){const{appId:t,apiKey:i}=a,r={method:"GET",headers:DN(i)},o=gN.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function VN(a,t=JT,i){const{appId:r,apiKey:o,measurementId:u}=a.options;if(!r)throw bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw bn.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new ON;return setTimeout(async()=>{m.abort()},pN),WT({appId:r,apiKey:o,measurementId:u},f,m,t)}async function WT(a,{throttleEndTimeMillis:t,backoffCount:i},r,o=JT){const{appId:u,measurementId:f}=a;try{await MN(r,t)}catch(m){if(f)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await IN(a);return o.deleteThrottleMetadata(u),m}catch(m){const y=m;if(!jN(y)){if(o.deleteThrottleMetadata(u),f)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:f};throw m}const v=Number(y?.customData?.httpStatus)===503?s_(i,o.intervalMillis,CN):s_(i,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(u,T),en.debug(`Calling attemptFetch again in ${v} millis`),WT(a,T,r,o)}}function MN(a,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(u),r(bn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function jN(a){if(!(a instanceof ts)||!a.customData)return!1;const t=Number(a.customData.httpStatus);return t===429||t===500||t===503||t===504}class ON{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function LN(a,t,i,r,o){if(o&&o.global){a("event",i,r);return}else{const u=await t,f={...r,send_to:u};a("event",i,f)}}async function UN(a,t,i,r){if(r&&r.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return a("set",o),Promise.resolve()}else{const o=await t;a("config",o,{update:!0,user_properties:i})}}async function PN(){if(GE())try{await QE()}catch(a){return en.warn(bn.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return en.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zN(a,t,i,r,o,u,f){const m=VN(a);m.then(R=>{i[R.measurementId]=R.appId,a.options.measurementId&&R.measurementId!==a.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>en.error(R)),t.push(m);const y=PN().then(R=>{if(R)return r.getId()}),[v,T]=await Promise.all([m,y]);RN(u)||EN(u,v.measurementId),o("js",new Date);const S=f?.config??{};return S[mN]="firebase",S.update=!0,T!=null&&(S[dN]=T),o("config",v.measurementId,S),v.measurementId}class kN{constructor(t){this.app=t}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},pE=[];const gE={};let Pd="dataLayer",BN="gtag",yE,vp,vE=!1;function qN(){const a=[];if(Kb()&&a.push("This is a browser extension environment."),$b()||a.push("Cookies are not available."),a.length>0){const t=a.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=bn.create("invalid-analytics-context",{errorInfo:t});en.warn(i.message)}}function HN(a,t,i){qN();const r=a.options.appId;if(!r)throw bn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(Gr[r]!=null)throw bn.create("already-exists",{id:r});if(!vE){TN(Pd);const{wrappedGtag:u,gtagCore:f}=wN(Gr,pE,gE,Pd,BN);vp=u,yE=f,vE=!0}return Gr[r]=zN(a,pE,gE,t,yE,Pd,i),new kN(a)}function FN(a=ZE()){a=kn(a);const t=Uo(a,Xc);return t.isInitialized()?t.getImmediate():GN(a)}function GN(a,t={}){const i=Uo(a,Xc);if(i.isInitialized()){const o=i.getImmediate();if(wo(t,i.getOptions()))return o;throw bn.create("already-initialized")}return i.initialize({options:t})}function QN(a,t,i){a=kn(a),UN(vp,Gr[a.app.options.appId],t,i).catch(r=>en.error(r))}function YN(a,t,i,r){a=kn(a),LN(vp,Gr[a.app.options.appId],t,i,r).catch(o=>en.error(o))}const _E="@firebase/analytics",EE="0.10.19";function KN(){Qa(new na(Xc,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return HN(r,o,i)},"PUBLIC")),Qa(new na("analytics-internal",a,"PRIVATE")),Ri(_E,EE),Ri(_E,EE,"esm2020");function a(t){try{const i=t.getProvider(Xc).getImmediate();return{logEvent:(r,o,u)=>YN(i,r,o,u),setUserProperties:(r,o)=>QN(i,r,o)}}catch(i){throw bn.create("interop-component-reg-failed",{reason:i})}}}KN();const XN={apiKey:"AIzaSyBnP8V6xWabk0cfGhwY4AdPX829rPPRnf4",authDomain:"bourbon-d0505.firebaseapp.com",projectId:"bourbon-d0505",storageBucket:"bourbon-d0505.firebasestorage.app",messagingSenderId:"935278237286",appId:"1:935278237286:web:2b8183abb241ac932fffa7",measurementId:"G-TEV7YQWQBZ"},t1=$E(XN);FN(t1);const je=ux(t1),Fo=async()=>{try{const a=la(An(je,"persons"),gh("name","asc")),t=await Vi(a),i=[];return t.forEach(r=>{i.push({id:r.id,...r.data()})}),i}catch(a){throw console.error("Li khi ly danh sch ngi:",a),a}},$N=async a=>{try{return(await hp(An(je,"persons"),{...a,createdAt:te.now()})).id}catch(t){throw console.error("Li khi thm ngi:",t),t}},ZN=async(a,t)=>{try{const i=Ks(je,"persons",a);await cp(i,t)}catch(i){throw console.error("Li khi cp nht ngi:",i),i}},JN=async a=>{try{await VT(Ks(je,"persons",a))}catch(t){throw console.error("Li khi xa ngi:",t),t}},WN=async()=>{try{const a=la(An(je,"transactions"),gh("createdAt","desc")),t=await Vi(a),i=[];return t.forEach(r=>{i.push({id:r.id,...r.data()})}),i}catch(a){throw console.error("Li khi ly giao dch:",a),a}},tD=()=>{const[a,t]=U.useState([]),[i,r]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState("all"),[y,v]=U.useState("all"),[T,S]=U.useState(""),[R,M]=U.useState(""),[H,X]=U.useState("");U.useEffect(()=>{F()},[]);const F=async()=>{try{u(!0);const[at,C]=await Promise.all([Fo(),WN()]);t(at),r(C)}catch(at){console.error("Li khi ti d liu:",at),alert("Khng th ti d liu t Firebase. Vui lng kim tra kt ni!")}finally{u(!1)}},J=at=>new Intl.NumberFormat("vi-VN").format(at)+" ",et=()=>{let at=[...i];if(R&&H&&(at=at.filter(C=>{const w=new Date(C.date),N=new Date(R),V=new Date(H);return V.setHours(23,59,59,999),w>=N&&w<=V})),f!=="all"&&(at=at.filter(C=>C.personId===f)),y!=="all"&&(at=at.filter(C=>C.status===y)),T.trim()){const C=T.toLowerCase();at=at.filter(w=>w.description.toLowerCase().includes(C)||w.personName.toLowerCase().includes(C)||w.amount.toString().includes(C))}return at.sort((C,w)=>new Date(w.date).getTime()-new Date(C.date).getTime())},mt=(()=>{const at=i.filter(V=>V.status==="completed"),C=at.filter(V=>V.type==="thu").reduce((V,D)=>V+D.amount,0),w=at.filter(V=>V.type==="chi").reduce((V,D)=>V+D.amount,0),N=i.filter(V=>V.type==="thu"&&V.status==="pending").reduce((V,D)=>V+D.amount,0);return{currentFund:C-w,pendingFund:N,totalIncome:C,totalExpense:w}})(),vt=et();return o&&i.length===0?p.jsx(Am,{}):zs.isAuthenticated()===!1?p.jsx(_m,{to:"/login",replace:!0}):p.jsxs("div",{className:"container",children:[p.jsx(wb,{stats:mt}),p.jsx(Cb,{persons:a,personFilter:f,setPersonFilter:m,statusFilter:y,setStatusFilter:v,searchQuery:T,setSearchQuery:S,startDate:R,setStartDate:M,endDate:H,setEndDate:X}),o&&p.jsx(bm,{}),p.jsx(xb,{filteredTransactions:vt,formatCurrency:J,searchQuery:T})]})};function eD({openModal:a}){return p.jsxs("div",{className:"header-container",children:[p.jsxs("div",{className:"header-title-wrapper",children:[p.jsx("div",{className:"header-icon",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),p.jsx("h1",{className:"header-title",children:"Qun l Ngi"})]}),p.jsxs("button",{className:"add-button",onClick:a,children:[p.jsx("span",{className:"add-button-icon",children:"+"}),p.jsx("span",{className:"add-button-text",children:"Thm ngi mi"})]})]})}function nD({persons:a,openModal:t,handleDelete:i}){return p.jsx("div",{className:"grid-container",children:p.jsxs("table",{className:"data-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Tn"}),p.jsx("th",{children:"M"}),p.jsx("th",{children:"Thao tc"})]})}),p.jsx("tbody",{children:a.length===0?p.jsx("tr",{children:p.jsxs("td",{colSpan:3,className:"empty-state",children:[p.jsx("div",{className:"empty-icon",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),p.jsx("p",{className:"empty-text",children:"Cha c ngi no"}),p.jsx("p",{className:"empty-subtext",children:'Nhn nt "Thm ngi mi"  bt u'})]})}):a.map(r=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsxs("div",{className:"person-name",children:[p.jsx("div",{className:"person-avatar",children:r.name.charAt(0).toUpperCase()}),p.jsx("strong",{children:r.name})]})}),p.jsx("td",{children:p.jsx("span",{className:"person-code",children:r.code})}),p.jsxs("td",{className:"actions-cell",children:[p.jsxs("button",{className:"btn btn-edit",onClick:()=>t(r),children:[p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),p.jsx("span",{children:"Sa"})]}),p.jsxs("button",{className:"btn btn-delete",onClick:()=>i(r.id),children:[p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("polyline",{points:"3 6 5 6 21 6"}),p.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),p.jsx("span",{children:"Xa"})]})]})]},r.id))})]})})}function iD({editingPerson:a,formData:t,setFormData:i,setShowModal:r,handleSubmit:o}){return AE.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]),p.jsx("div",{className:"modal-overlay-centered",onClick:()=>r(!1),children:p.jsxs("div",{className:"modal-content-centered",onClick:u=>u.stopPropagation(),children:[p.jsx("button",{className:"modal-close-centered",onClick:()=>r(!1),children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),p.jsxs("div",{className:"modal-header-centered",children:[p.jsx("div",{className:"modal-icon-edit",children:""}),p.jsx("h2",{className:"modal-title-centered",children:a?"Sa ngi":"Thm ngi mi"})]}),p.jsxs("div",{className:"modal-body-centered",children:[p.jsxs("div",{className:"form-group-centered",children:[p.jsx("label",{className:"form-label-centered",children:"Tn"}),p.jsx("input",{className:"form-input-centered",type:"text",placeholder:"Nhp tn...",value:t.name,onChange:u=>i({...t,name:u.target.value}),autoFocus:!0})]}),p.jsxs("div",{className:"form-group-centered",children:[p.jsx("label",{className:"form-label-centered",children:"M"}),p.jsx("input",{className:"form-input-centered",type:"text",placeholder:"Nhp m (VD: NVA001)...",value:t.code,onChange:u=>i({...t,code:u.target.value.toUpperCase()})})]})]}),p.jsxs("div",{className:"modal-footer-centered",children:[p.jsx("button",{className:"btn-cancel-centered",onClick:()=>r(!1),children:"Hy"}),p.jsx("button",{className:"btn-submit-centered",onClick:o,children:a?"Cp nht":"Thm"})]})]})})}const aD=()=>{const[a,t]=U.useState([]),[i,r]=U.useState(!0),[o,u]=U.useState(!1),[f,m]=U.useState(null),[y,v]=U.useState({name:"",code:""});U.useEffect(()=>{T()},[]);const T=async()=>{try{r(!0);const H=await Fo();t(H)}catch{alert("Khng th ti danh sch ngi!")}finally{r(!1)}},S=H=>{H?(m(H),v({name:H.name,code:H.code})):(m(null),v({name:"",code:""})),u(!0)},R=async()=>{if(!y.name.trim()||!y.code.trim()){alert("Vui lng in y  thng tin!");return}try{r(!0),f&&f.id?(await ZN(f.id,y),alert(" Cp nht thnh cng!")):(await $N(y),alert(" Thm ngi thnh cng!")),await T(),u(!1)}catch{alert(" C li xy ra!")}finally{r(!1)}},M=async H=>{if(H&&window.confirm(`Bn c chc mun xa ngi ny?
 Cnh bo: Cc giao dch lin quan s khng b xa nhng c th b li hin th!`))try{r(!0),await JN(H),await T(),alert(" Xa thnh cng!")}catch{alert(" Khng th xa!")}finally{r(!1)}};return i&&a.length===0?p.jsx(Am,{}):p.jsxs("div",{children:[p.jsx(eD,{openModal:S}),p.jsx(nD,{persons:a,openModal:S,handleDelete:M}),o&&p.jsx(iD,{setShowModal:u,formData:y,setFormData:v,handleSubmit:R,editingPerson:f}),i&&p.jsx(bm,{})]})},sD=()=>{const[a,t]=U.useState(!0),i=Mi(),r=[{path:"/admin/transactions",icon:"",label:"Giao dch",description:"Qun l giao dch"},{path:"/admin/persons",icon:"",label:"Ngi",description:"Qun l ngi"}],o=u=>i.pathname===u;return p.jsxs("div",{className:"admin-layout",children:[p.jsxs("aside",{className:`sidebar ${a?"open":"closed"}`,children:[p.jsx("div",{className:"sidebar-header",children:p.jsxs("div",{className:"logo",children:[p.jsx("div",{className:"logo-icon",children:""}),a&&p.jsxs("div",{className:"logo-text",children:[p.jsx("h2",{children:"Admin Panel"}),p.jsx("p",{children:"Qun tr h thng"})]})]})}),p.jsx("nav",{className:"sidebar-nav",children:p.jsx("ul",{className:"nav-list",children:r.map(u=>p.jsx("li",{children:p.jsxs(Sm,{to:u.path,className:`nav-item ${o(u.path)?"active":""}`,title:a?"":u.label,children:[p.jsx("span",{className:"nav-icon",children:u.icon}),a&&p.jsxs("div",{className:"nav-content",children:[p.jsx("span",{className:"nav-label",children:u.label}),p.jsx("span",{className:"nav-description",children:u.description})]}),o(u.path)&&p.jsx("div",{className:"active-indicator"})]})},u.path))})})]}),p.jsxs("main",{className:"main-content",children:[p.jsxs("div",{className:"header-left",children:[p.jsx("button",{className:"mobile-menu-toggle",onClick:()=>t(!a),children:""}),p.jsxs("div",{className:"breadcrumb",children:[p.jsx("span",{className:"breadcrumb-item",children:"Admin"}),p.jsx("span",{className:"breadcrumb-separator",children:"/"}),p.jsx("span",{className:"breadcrumb-item active",children:r.find(u=>o(u.path))?.label||"Dashboard"})]})]}),p.jsx("div",{className:"content-wrapper",children:p.jsx(kA,{})})]}),a&&p.jsx("div",{className:"mobile-overlay",onClick:()=>t(!1)})]})};function rD({openModal:a}){return p.jsxs("div",{className:"page-header",children:[p.jsx("h1",{children:" Qun l Giao dch"}),p.jsx("button",{className:"btn btn-primary",onClick:()=>a(),children:" Thm giao dch mi"})]})}function lD({stats:a,formatCurrency:t}){return p.jsxs("div",{className:"stats-grid",children:[p.jsxs("div",{className:"stat-card stat-total",children:[p.jsx("div",{className:"stat-icon",children:""}),p.jsxs("div",{className:"stat-content",children:[p.jsx("div",{className:"stat-label",children:"Tng giao dch"}),p.jsx("div",{className:"stat-value",children:a.total})]})]}),p.jsxs("div",{className:"stat-card stat-pending",children:[p.jsx("div",{className:"stat-icon",children:""}),p.jsxs("div",{className:"stat-content",children:[p.jsx("div",{className:"stat-label",children:"ang ch"}),p.jsx("div",{className:"stat-value",children:a.pending})]})]}),p.jsxs("div",{className:"stat-card stat-completed",children:[p.jsx("div",{className:"stat-icon",children:""}),p.jsxs("div",{className:"stat-content",children:[p.jsx("div",{className:"stat-label",children:"Hon thnh"}),p.jsx("div",{className:"stat-value",children:a.completed})]})]}),p.jsxs("div",{className:"stat-card stat-thu",children:[p.jsx("div",{className:"stat-icon",children:""}),p.jsxs("div",{className:"stat-content",children:[p.jsx("div",{className:"stat-label",children:"Tng thu"}),p.jsx("div",{className:"stat-value",children:t(a.totalThu)})]})]}),p.jsxs("div",{className:"stat-card stat-chi",children:[p.jsx("div",{className:"stat-icon",children:""}),p.jsxs("div",{className:"stat-content",children:[p.jsx("div",{className:"stat-label",children:"Tng chi"}),p.jsx("div",{className:"stat-value",children:t(a.totalChi)})]})]}),p.jsxs("div",{className:"stat-card stat-balance",children:[p.jsx("div",{className:"stat-icon",children:""}),p.jsxs("div",{className:"stat-content",children:[p.jsx("div",{className:"stat-label",children:"Chnh lch"}),p.jsx("div",{className:"stat-value",children:t(a.totalThu-a.totalChi)})]})]})]})}function oD({filterStatus:a,setFilterStatus:t,filterType:i,setFilterType:r,filterDateFrom:o,setFilterDateFrom:u,filterDateTo:f,setFilterDateTo:m,searchTerm:y,setSearchTerm:v}){return p.jsxs("div",{className:"filters-container",children:[p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" Tm kim"}),p.jsx("input",{type:"text",placeholder:"Tm theo m t hoc ngi...",value:y,onChange:T=>v(T.target.value),className:"filter-input"})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" Trng thi"}),p.jsxs("select",{value:a,onChange:T=>t(T.target.value),className:"filter-select",children:[p.jsx("option",{value:"all",children:"Tt c"}),p.jsx("option",{value:"pending",children:"ang ch"}),p.jsx("option",{value:"completed",children:"Hon thnh"})]})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" Loi"}),p.jsxs("select",{value:i,onChange:T=>r(T.target.value),className:"filter-select",children:[p.jsx("option",{value:"all",children:"Tt c"}),p.jsx("option",{value:"thu",children:"Thu"}),p.jsx("option",{value:"chi",children:"Chi"})]})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" T ngy"}),p.jsx("input",{type:"date",value:o,onChange:T=>u(T.target.value),className:"filter-input"})]}),p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:" n ngy"}),p.jsx("input",{type:"date",value:f,onChange:T=>m(T.target.value),className:"filter-input"})]}),p.jsx("div",{className:"filter-group",children:p.jsx("button",{className:"btn btn-secondary",onClick:()=>{t("all"),r("all"),u(""),m(""),v("")},children:" t li"})})]})}function uD({openModal:a,filteredTransactions:t,setFilteredTransactions:i}){const r=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),o=u=>{i(t.filter(f=>f.id!==u))};return p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"transactions-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Ngy"}),p.jsx("th",{children:"Ngi"}),p.jsx("th",{children:"Loi"}),p.jsx("th",{children:"S tin"}),p.jsx("th",{children:"M t"}),p.jsx("th",{children:"Trng thi"}),p.jsx("th",{children:"Thao tc"})]})}),p.jsx("tbody",{children:t.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:7,className:"no-data",children:"Khng c giao dch no"})}):t.map(u=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsxs("div",{className:"date-cell",children:[p.jsx("div",{className:"date-main",children:u.date}),p.jsx("div",{className:"date-sub",children:u.dayOfWeek})]})}),p.jsx("td",{children:p.jsx("span",{className:"person-badge",children:u.personName})}),p.jsx("td",{children:p.jsx("span",{className:`type-badge type-${u.type}`,children:u.type==="thu"?" Thu":" Chi"})}),p.jsx("td",{children:p.jsx("span",{className:`amount amount-${u.type}`,children:r(u.amount)})}),p.jsx("td",{className:"description-cell",children:u.description||""}),p.jsx("td",{children:p.jsx("span",{className:`status-badge status-${u.status}`,children:u.status==="pending"?" ang ch":" Hon thnh"})}),p.jsx("td",{children:p.jsxs("div",{className:"action-buttons",children:[p.jsx("button",{className:"btn-icon btn-edit",onClick:()=>a(u),title:"Sa",children:""}),p.jsx("button",{className:"btn-icon btn-delete",onClick:()=>o(u.id),title:"Xa",children:""})]})})]},u.id))})]})})}function cD({setShowModal:a,formData:t,setFormData:i,editingTransaction:r,handleSubmit:o,persons:u}){return p.jsx("div",{className:"modal-overlay",onClick:()=>a(!1),children:p.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:r?" Sa giao dch":" Thm giao dch mi"}),p.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:""})]}),p.jsxs("div",{className:"modal-body",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Ngy"}),p.jsx("input",{type:"date",value:t.date,onChange:f=>i({...t,date:f.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Loi giao dch"}),p.jsxs("select",{value:t.type,onChange:f=>i({...t,type:f.target.value}),children:[p.jsx("option",{value:"thu",children:" Thu"}),p.jsx("option",{value:"chi",children:" Chi"})]})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Ngi"}),p.jsxs("select",{value:t.personId,onChange:f=>i({...t,personId:f.target.value}),children:[p.jsx("option",{value:"",children:"-- Chn ngi --"}),u.map(f=>p.jsxs("option",{value:f.id,children:[f.name," (",f.code,")"]},f.id))]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" S tin"}),p.jsx("input",{type:"number",placeholder:"Nhp s tin...",value:t.amount,onChange:f=>i({...t,amount:f.target.value})})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Trng thi"}),p.jsxs("select",{value:t.status,onChange:f=>i({...t,status:f.target.value}),children:[p.jsx("option",{value:"pending",children:" ang ch"}),p.jsx("option",{value:"completed",children:" Hon thnh"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" M t"}),p.jsx("textarea",{placeholder:"Nhp m t (ty chn)...",value:t.description,onChange:f=>i({...t,description:f.target.value}),rows:3})]})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{className:"btn btn-secondary",onClick:()=>a(!1),children:"Hy"}),p.jsx("button",{className:"btn btn-primary",onClick:o,children:r?"Cp nht":"Thm"})]})]})})}const hD=()=>{const[a,t]=U.useState([]),[i,r]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(!1),[y,v]=U.useState(null),[T,S]=U.useState("all"),[R,M]=U.useState("all"),[H,X]=U.useState(""),[F,J]=U.useState(""),[et,st]=U.useState(""),[mt,vt]=U.useState({date:new Date().toISOString().split("T")[0],amount:"",type:"thu",description:"",personId:"",status:"pending"});U.useEffect(()=>{at()},[]);const at=async()=>{try{u(!0);const[ot,It]=await Promise.all([C(),Fo()]);t(ot),r(It)}catch{alert("Khng th ti d liu!")}finally{u(!1)}},C=async()=>{const ot=la(An(je,"transactions"),gh("date","desc"));return(await Vi(ot)).docs.map(Y=>({id:Y.id,...Y.data()}))},w=ot=>{const It=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],Y=new Date(ot);return It[Y.getDay()]},N=ot=>{ot?(v(ot),vt({date:ot.date,amount:ot.amount.toString(),type:ot.type,description:ot.description,personId:ot.personId,status:ot.status})):(v(null),vt({date:new Date().toISOString().split("T")[0],amount:"",type:"thu",description:"",personId:"",status:"pending"})),m(!0)},V=async()=>{if(!mt.date||!mt.amount||!mt.personId){alert("Vui lng in y  thng tin!");return}try{u(!0);const ot=i.find(Y=>Y.id===mt.personId),It={date:mt.date,dayOfWeek:w(mt.date),amount:parseFloat(mt.amount),type:mt.type,description:mt.description,personId:mt.personId,personName:ot?.name||"",status:mt.status,createdAt:te.now()};y&&y.id?(await cp(Ks(je,"transactions",y.id),It),alert(" Cp nht giao dch thnh cng!")):(await hp(An(je,"transactions"),It),alert(" Thm giao dch thnh cng!")),await at(),m(!1)}catch{alert(" C li xy ra!")}finally{u(!1)}},D=a.filter(ot=>!(T!=="all"&&ot.status!==T||R!=="all"&&ot.type!==R||H&&ot.date<H||F&&ot.date>F||et&&!ot.description.toLowerCase().includes(et.toLowerCase())&&!ot.personName.toLowerCase().includes(et.toLowerCase()))),L={total:D.length,pending:D.filter(ot=>ot.status==="pending").length,completed:D.filter(ot=>ot.status==="completed").length,totalThu:D.filter(ot=>ot.type==="thu").reduce((ot,It)=>ot+It.amount,0),totalChi:D.filter(ot=>ot.type==="chi").reduce((ot,It)=>ot+It.amount,0)},x=ot=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ot);return o&&a.length===0?p.jsx(Am,{}):p.jsxs("div",{className:"manage-transactions",children:[p.jsx(rD,{openModal:N}),p.jsx(lD,{stats:L,formatCurrency:x}),p.jsx(oD,{filterStatus:T,setFilterStatus:S,filterType:R,setFilterType:M,filterDateFrom:H,setFilterDateFrom:X,filterDateTo:F,setFilterDateTo:J,searchTerm:et,setSearchTerm:st}),p.jsx(uD,{filteredTransactions:D,openModal:N,setFilteredTransactions:t}),f&&p.jsx(cD,{setShowModal:m,formData:mt,setFormData:vt,editingTransaction:y,handleSubmit:V,persons:i}),o&&p.jsx(bm,{})]})},Wa="accounts",_p="persons",fD=async a=>{try{const t=la(An(je,_p),jo("code","==",a.codePerson)),i=await Vi(t);if(i.empty)throw new Error(`Khng tm thy ngi vi m: ${a.codePerson}`);const r=i.docs[0].data(),o=la(An(je,Wa),jo("username","==",a.username));if(!(await Vi(o)).empty)throw new Error(`Username "${a.username}"  tn ti!`);const f={...a,personName:r.name,createdAt:te.now()};return(await hp(An(je,Wa),f)).id}catch(t){throw console.error("Error creating account:",t),t}},dD=async()=>{try{const a=la(An(je,Wa),gh("createdAt","desc"));return(await Vi(a)).docs.map(i=>({id:i.id,...i.data()}))}catch(a){throw console.error("Error getting accounts:",a),a}},mD=async a=>{try{const t=Ks(je,Wa,a),i=await bx(t);return i.exists()?{id:i.id,...i.data()}:null}catch(t){throw console.error("Error getting account:",t),t}},pD=async a=>{try{const t=la(An(je,Wa),jo("username","==",a)),i=await Vi(t);if(!i.empty){const r=i.docs[0];return{id:r.id,...r.data()}}return null}catch(t){throw console.error("Error getting account by username:",t),t}},fm=async(a,t)=>{try{const i=Ks(je,Wa,a);if(t.codePerson){const r=la(An(je,_p),jo("code","==",t.codePerson)),o=await Vi(r);if(o.empty)throw new Error(`Khng tm thy ngi vi m: ${t.codePerson}`);const u=o.docs[0].data();t.personName=u.name}if(t.username){const r=la(An(je,Wa),jo("username","==",t.username));if((await Vi(r)).docs.find(f=>f.id!==a))throw new Error(`Username "${t.username}"  tn ti!`)}await cp(i,t)}catch(i){throw console.error("Error updating account:",i),i}},gD=async a=>{try{await VT(Ks(je,Wa,a))}catch(t){throw console.error("Error deleting account:",t),t}},yD=async(a,t)=>{try{const i=await pD(a);return i&&i.password===t?i:null}catch(i){throw console.error("Error authenticating account:",i),i}},vD=async()=>{try{const a=await dD(),t=await Vi(An(je,_p)),i=new Map;return t.docs.forEach(r=>{const o={id:r.id,...r.data()};i.set(o.code,o)}),a.map(r=>({...r,person:i.get(r.codePerson)}))}catch(a){throw console.error("Error getting accounts with person info:",a),a}},TE=()=>{const a=tl(),[t,i]=U.useState(""),[r,o]=U.useState(""),[u,f]=U.useState(!1),[m,y]=U.useState(""),[v,T]=U.useState(!1);U.useEffect(()=>{zs.isAuthenticated()&&a("/")},[a]);const S=async()=>{if(!t.trim()){y(" Vui lng nhp ti khon!"),setTimeout(()=>y(""),3e3);return}if(!r.trim()){y(" Vui lng nhp mt khu!"),setTimeout(()=>y(""),3e3);return}try{T(!0),y("");const M=await yD(t,r);M?(zs.login(M.username,M.role,M.codePerson),console.log("Login successful:",zs.getState()),a("/")):(y(" Ti khon hoc mt khu khng ng!"),setTimeout(()=>y(""),3e3))}catch(M){console.error("Login error:",M),y(" C li xy ra! Vui lng th li."),setTimeout(()=>y(""),3e3)}finally{T(!1)}},R=M=>{M.key==="Enter"&&!v&&S()};return p.jsxs("div",{className:"login-container",children:[p.jsx("div",{className:"bg-box bg-box-1"}),p.jsx("div",{className:"bg-box bg-box-2"}),p.jsx("div",{className:"bg-box bg-box-3"}),p.jsx("div",{className:"bg-box bg-box-4"}),p.jsxs("div",{className:"login-box",children:[p.jsxs("div",{className:"login-header",children:[p.jsx("div",{className:"login-icon",children:""}),p.jsx("h1",{className:"login-title",children:"ng nhp"}),p.jsx("p",{className:"login-subtitle",children:"Vui lng nhp thng tin ti khon"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:" Ti khon"}),p.jsx("input",{type:"text",className:"form-input",placeholder:"Nhp ti khon...",value:t,onChange:M=>i(M.target.value),onKeyPress:R,disabled:v,autoComplete:"username"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:" Mt khu"}),p.jsxs("div",{className:"password-wrapper",children:[p.jsx("input",{type:u?"text":"password",className:"form-input password-input",placeholder:"Nhp mt khu...",value:r,onChange:M=>o(M.target.value),onKeyPress:R,disabled:v,autoComplete:"current-password"}),p.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!u),disabled:v,children:u?"":""})]})]}),m&&p.jsx("div",{className:"error-message",children:m}),p.jsx("button",{className:"login-button",onClick:S,disabled:v,children:v?"ang x l...":"ng nhp"}),p.jsx("div",{className:"forgot-password",children:p.jsx("span",{onClick:()=>!v&&alert("Vui lng lin h admin  ly li mt khu!"),children:"Qun mt khu?"})})]}),v&&p.jsx("div",{className:"login-loading-overlay",children:p.jsx("div",{className:"login-spinner"})})]})},_D=({openModal:a})=>p.jsxs("div",{className:"header-accounts-container",children:[p.jsxs("div",{className:"header-accounts-title-wrapper",children:[p.jsx("div",{className:"header-accounts-icon",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"}),p.jsx("path",{d:"M16 11h6M19 8v6"})]})}),p.jsx("h1",{className:"header-accounts-title",children:"Qun l Ti khon"})]}),p.jsxs("button",{className:"add-accounts-button",onClick:a,children:[p.jsx("span",{className:"add-accounts-button-icon",children:"+"}),p.jsx("span",{className:"add-accounts-button-text",children:"Thm ti khon"})]})]}),ED=({accounts:a,openModal:t,handleDelete:i,handleResetPassword:r})=>p.jsx("div",{className:"grid-accounts-container",children:p.jsxs("table",{className:"accounts-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Username"}),p.jsx("th",{children:"Tn ngi dng"}),p.jsx("th",{children:"M nhn vin"}),p.jsx("th",{children:"Vai tr"}),p.jsx("th",{children:"Thao tc"})]})}),p.jsx("tbody",{children:a.length===0?p.jsx("tr",{children:p.jsxs("td",{colSpan:5,className:"empty-state-accounts",children:[p.jsx("div",{className:"empty-icon-accounts",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),p.jsx("p",{className:"empty-text-accounts",children:"Cha c ti khon no"}),p.jsx("p",{className:"empty-subtext-accounts",children:'Nhn "Thm ti khon"  bt u'})]})}):a.map(o=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsxs("div",{className:"account-username",children:[p.jsx("div",{className:"account-avatar",children:o.username.charAt(0).toUpperCase()}),p.jsx("strong",{children:o.username})]})}),p.jsx("td",{children:o.personName}),p.jsx("td",{children:p.jsx("span",{className:"account-code",children:o.codePerson})}),p.jsx("td",{children:p.jsx("span",{className:`account-role ${o.role}`,children:o.role==="admin"?" Admin":" User"})}),p.jsxs("td",{className:"actions-cell-accounts",children:[p.jsx("button",{className:"btn-accounts btn-edit-accounts",onClick:()=>t(o),title:"Sa",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),p.jsx("button",{className:"btn-accounts btn-reset-accounts",onClick:()=>r(o.id),title:"Reset mt khu",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),p.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),p.jsx("button",{className:"btn-accounts btn-delete-accounts",onClick:()=>i(o.id),title:"Xa",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("polyline",{points:"3 6 5 6 21 6"}),p.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},o.id))})]})}),TD=({editingAccount:a,formData:t,setFormData:i,persons:r,setShowModal:o,handleSubmit:u})=>p.jsx("div",{className:"modal-overlay-accounts",onClick:()=>o(!1),children:p.jsxs("div",{className:"modal-content-accounts",onClick:f=>f.stopPropagation(),children:[p.jsx("button",{className:"modal-close-accounts",onClick:()=>o(!1),children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),p.jsxs("div",{className:"modal-header-accounts",children:[p.jsx("div",{className:"modal-icon-accounts",children:a?"":""}),p.jsx("h2",{className:"modal-title-accounts",children:a?"Sa ti khon":"Thm ti khon mi"})]}),p.jsxs("div",{className:"modal-body-accounts",children:[p.jsxs("div",{className:"form-group-accounts",children:[p.jsx("label",{className:"form-label-accounts",children:"Username"}),p.jsx("input",{className:"form-input-accounts",type:"text",placeholder:"Nhp username...",value:t.username,onChange:f=>i({...t,username:f.target.value})})]}),!a&&p.jsxs("div",{className:"form-group-accounts",children:[p.jsx("label",{className:"form-label-accounts",children:"Mt khu"}),p.jsx("input",{className:"form-input-accounts",type:"password",placeholder:"Nhp mt khu...",value:t.password,onChange:f=>i({...t,password:f.target.value})})]}),p.jsxs("div",{className:"form-group-accounts",children:[p.jsx("label",{className:"form-label-accounts",children:"Tn ngi dng"}),p.jsx("input",{className:"form-input-accounts",type:"text",placeholder:"Nhp tn...",value:t.userName,onChange:f=>i({...t,userName:f.target.value})})]}),p.jsxs("div",{className:"form-group-accounts",children:[p.jsx("label",{className:"form-label-accounts",children:"Chn nhn vin"}),p.jsxs("select",{className:"form-input-accounts",value:t.codePerson,onChange:f=>i({...t,codePerson:f.target.value}),children:[p.jsx("option",{value:"",children:"-- Chn nhn vin --"}),r.map(f=>p.jsxs("option",{value:f.code,children:[f.name," (",f.code,")"]},f.id))]})]}),p.jsxs("div",{className:"form-group-accounts",children:[p.jsx("label",{className:"form-label-accounts",children:"Vai tr"}),p.jsxs("select",{className:"form-input-accounts",value:t.role,onChange:f=>i({...t,role:f.target.value}),children:[p.jsx("option",{value:"user",children:" User"}),p.jsx("option",{value:"admin",children:" Admin"})]})]})]}),p.jsxs("div",{className:"modal-footer-accounts",children:[p.jsx("button",{className:"btn-cancel-accounts",onClick:()=>o(!1),children:"Hy"}),p.jsx("button",{className:"btn-submit-accounts",onClick:u,children:a?"Cp nht":"Thm"})]})]})}),SD=()=>{const[a,t]=U.useState([]),[i,r]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(!1),[y,v]=U.useState(null),[T,S]=U.useState({username:"",password:"",userName:"",codePerson:"",role:"user"});U.useEffect(()=>{R()},[]);const R=async()=>{try{u(!0);const[J,et]=await Promise.all([vD(),Fo()]);t(J),r(et)}catch{alert("Khng th ti d liu!")}finally{u(!1)}},M=J=>{J?(v(J),S({username:J.username,password:"",userName:J.userName,codePerson:J.codePerson,role:J.role})):(v(null),S({username:"",password:"",userName:"",codePerson:"",role:"user"})),m(!0)},H=async()=>{if(!T.username||!T.userName||!T.codePerson){alert("Vui lng in y  thng tin!");return}if(!y&&!T.password){alert("Vui lng nhp mt khu!");return}try{u(!0),y&&y.id?(await fm(y.id,{userName:T.userName,codePerson:T.codePerson,role:T.role}),alert(" Cp nht thnh cng!")):(await fD(T),alert(" Thm ti khon thnh cng!")),await R(),m(!1)}catch(J){alert(` ${J.message||"C li xy ra!"}`)}finally{u(!1)}},X=async J=>{if(window.confirm("Bn c chc mun xa ti khon ny?"))try{u(!0),await gD(J),await R(),alert(" Xa thnh cng!")}catch{alert(" Khng th xa!")}finally{u(!1)}},F=async J=>{const et=prompt("Nhp mt khu mi:");if(et)try{u(!0),await fm(J,{password:et}),alert(" t li mt khu thnh cng!")}catch{alert(" Khng th t li mt khu!")}finally{u(!1)}};return o&&a.length===0?p.jsxs("div",{className:"page-loader-accounts",children:[p.jsx("div",{className:"loader-spinner-accounts"}),p.jsx("p",{children:"ang ti d liu..."})]}):p.jsxs("div",{className:"manage-accounts-page",children:[p.jsxs("div",{className:"page-content-accounts",children:[p.jsx(_D,{openModal:M}),p.jsx(ED,{accounts:a,openModal:M,handleDelete:X,handleResetPassword:F})]}),f&&p.jsx(TD,{editingAccount:y,formData:T,setFormData:S,persons:i,setShowModal:m,handleSubmit:H}),o&&p.jsx("div",{className:"loading-overlay-accounts",children:p.jsx("div",{className:"loading-spinner-accounts"})})]})},AD=()=>{const a=tl(),[t]=vb(),i=t.get("id"),[r,o]=U.useState(!0),[u,f]=U.useState(!1),[m,y]=U.useState(""),[v,T]=U.useState(""),[S,R]=U.useState([]),[M,H]=U.useState({username:"",password:"",confirmPassword:"",role:"user",codePerson:""}),[X,F]=U.useState(null);U.useEffect(()=>{J()},[i]);const J=async()=>{try{if(o(!0),y(""),!i){y("Khng tm thy ID ti khon");return}const at=await mD(i);if(!at){y("Khng tm thy ti khon");return}F(at),H({username:at.username,password:"",confirmPassword:"",role:at.role,codePerson:at.codePerson});const C=await Fo();R(C)}catch(at){y(at instanceof Error?at.message:"Li khi ti d liu")}finally{o(!1)}},et=at=>{const{name:C,value:w}=at.target;H(N=>({...N,[C]:w})),y(""),T("")},st=()=>{if(!M.username.trim())return y("Vui lng nhp username"),!1;if(!M.codePerson)return y("Vui lng chn ngi"),!1;if(M.password){if(M.password.length<6)return y("Mt khu phi c t nht 6 k t"),!1;if(M.password!==M.confirmPassword)return y("Mt khu xc nhn khng khp"),!1}return!0},mt=async()=>{if(!(!st()||!i))try{f(!0),y("");const at={username:M.username,role:M.role,codePerson:M.codePerson};M.password&&(at.password=M.password),await fm(i,at),T("Cp nht ti khon thnh cng!"),setTimeout(()=>{a("/accounts")},1500)}catch(at){y(at instanceof Error?at.message:"Li khi cp nht ti khon")}finally{f(!1)}},vt=()=>{a("/accounts")};return r?p.jsxs("div",{className:"edit-account-loading",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"ang ti d liu..."})]}):p.jsx("div",{className:"edit-account-container",children:p.jsxs("div",{className:"edit-account-card",children:[p.jsxs("div",{className:"edit-account-header",children:[p.jsx("h1",{children:"Chnh Sa Ti Khon"}),p.jsx("p",{children:"Cp nht thng tin ti khon"})]}),m&&p.jsx("div",{className:"alert alert-error",children:p.jsx("p",{children:m})}),v&&p.jsx("div",{className:"alert alert-success",children:p.jsx("p",{children:v})}),p.jsxs("div",{className:"edit-account-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{children:["Username ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("input",{type:"text",name:"username",value:M.username,onChange:et,placeholder:"Nhp username",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{children:["Ngi ",p.jsx("span",{className:"required",children:"*"})]}),p.jsxs("select",{name:"codePerson",value:M.codePerson,onChange:et,required:!0,children:[p.jsx("option",{value:"",children:"-- Chn ngi --"}),S.map(at=>p.jsxs("option",{value:at.code,children:[at.code," - ",at.name]},at.code))]})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{children:["Vai tr ",p.jsx("span",{className:"required",children:"*"})]}),p.jsxs("select",{name:"role",value:M.role,onChange:et,required:!0,children:[p.jsx("option",{value:"user",children:"User"}),p.jsx("option",{value:"admin",children:"Admin"})]})]}),p.jsxs("div",{className:"password-section",children:[p.jsx("h3",{children:"i Mt Khu (Ty chn)"}),p.jsx("p",{className:"password-note",children:" trng nu khng mun thay i mt khu"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Mt khu mi"}),p.jsx("input",{type:"password",name:"password",value:M.password,onChange:et,placeholder:"Nhp mt khu mi (ti thiu 6 k t)",minLength:6})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Xc nhn mt khu mi"}),p.jsx("input",{type:"password",name:"confirmPassword",value:M.confirmPassword,onChange:et,placeholder:"Nhp li mt khu mi"})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"button",onClick:mt,disabled:u,className:"btn btn-primary",children:u?"ang lu...":"Cp Nht"}),p.jsx("button",{type:"button",onClick:vt,disabled:u,className:"btn btn-secondary",children:"Hy"})]})]}),X&&p.jsxs("div",{className:"account-info",children:[p.jsx("h4",{children:"Thng tin"}),p.jsxs("div",{className:"info-details",children:[p.jsxs("p",{children:["Tn hin ti: ",X.personName]}),p.jsxs("p",{children:["Ngy to: ",X.createdAt?.toDate().toLocaleString("vi-VN")]})]})]})]})})};class bD{state={isAuthenticated:!1,username:null,role:null,codePerson:null,loginTime:null};isAuthenticated(){return this.state.isAuthenticated}login(t,i,r){this.state={isAuthenticated:!0,username:t,role:i,codePerson:r,loginTime:new Date}}logout(){this.state={isAuthenticated:!1,username:null,role:null,codePerson:null,loginTime:null}}getCurrentUser(){return!this.state.isAuthenticated||!this.state.username||!this.state.role||!this.state.codePerson?null:{username:this.state.username,role:this.state.role,codePerson:this.state.codePerson}}getUsername(){return this.state.username}getRole(){return this.state.role}getCodePerson(){return this.state.codePerson}isAdmin(){return this.state.role==="admin"}isUser(){return this.state.role==="user"}getLoginTime(){return this.state.loginTime}getState(){return{...this.state}}}const zs=new bD,js=({children:a})=>zs.isAuthenticated()?p.jsx(p.Fragment,{children:a}):p.jsx(_m,{to:"/login",replace:!0}),e1=document.getElementById("root");if(!e1)throw new Error("Failed to find the root element");qS.createRoot(e1).render(p.jsx(AE.StrictMode,{children:p.jsx(db,{children:p.jsxs(qA,{children:[p.jsx(Wn,{path:"/login",element:p.jsx(TE,{})}),p.jsx(Wn,{path:"/login",element:p.jsx(TE,{})}),p.jsx(Wn,{path:"/",element:p.jsx(js,{children:p.jsx(bb,{})})}),p.jsx(Wn,{path:"/quy-phong",element:p.jsx(js,{children:p.jsx(tD,{})})}),p.jsx(Wn,{path:"/accounts",element:p.jsx(js,{children:p.jsx(SD,{})})}),p.jsx(Wn,{path:"/accounts/edit",element:p.jsx(js,{children:p.jsx(AD,{})})}),p.jsx(Wn,{path:"/admin",element:p.jsx(js,{children:p.jsx(sD,{})})}),p.jsx(Wn,{path:"/admin/persons",element:p.jsx(js,{children:p.jsx(aD,{})})}),p.jsx(Wn,{path:"/admin/transactions",element:p.jsx(js,{children:p.jsx(hD,{})})}),p.jsx(Wn,{path:"*",element:p.jsx(_m,{to:"/",replace:!0})})]})})}));
